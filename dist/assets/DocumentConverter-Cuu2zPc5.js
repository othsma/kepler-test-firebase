import{j as e,D as fe,P as ye,V as N,T as m,S as pe}from"./vendor-pdf-renderer-Bq4DoPCL.js";import{R as C,r as X}from"./vendor-react-NkhADs9z.js";import{u as ge}from"./index-D0-InO3-.js";import{h as je}from"./vendor-pdf-utils-BfYXEYrK.js";import{f as k}from"./vendor-utils-BK9ZHHVQ.js";import{X as be,F as Ne,R as we,z as Ee,E as ve,u as Ce}from"./vendor-ui-DgdEuPZ6.js";var Re=Object.defineProperty,B=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,K=(t,d,l)=>d in t?Re(t,d,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[d]=l,Q=(t,d)=>{for(var l in d||(d={}))J.call(d,l)&&K(t,l,d[l]);if(B)for(var l of B(d))ee.call(d,l)&&K(t,l,d[l]);return t},$=(t,d)=>{var l={};for(var a in t)J.call(t,a)&&d.indexOf(a)<0&&(l[a]=t[a]);if(t!=null&&B)for(var a of B(t))d.indexOf(a)<0&&ee.call(t,a)&&(l[a]=t[a]);return l};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var I;(t=>{const d=class j{constructor(s,r,n,i){if(this.version=s,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],s<j.MIN_VERSION||s>j.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=s*4+17;let o=[];for(let c=0;c<this.size;c++)o.push(!1);for(let c=0;c<this.size;c++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(n);if(this.drawCodewords(h),i==-1){let c=1e9;for(let p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);const u=this.getPenaltyScore();u<c&&(i=p,c=u),this.applyMask(p)}}f(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(s,r){const n=t.QrSegment.makeSegments(s);return j.encodeSegments(n,r)}static encodeBinary(s,r){const n=t.QrSegment.makeBytes(s);return j.encodeSegments([n],r)}static encodeSegments(s,r,n=1,i=40,o=-1,h=!0){if(!(j.MIN_VERSION<=n&&n<=i&&i<=j.MAX_VERSION)||o<-1||o>7)throw new RangeError("Invalid value");let c,p;for(c=n;;c++){const g=j.getNumDataCodewords(c,r)*8,v=w.getTotalBits(s,c);if(v<=g){p=v;break}if(c>=i)throw new RangeError("Data too long")}for(const g of[j.Ecc.MEDIUM,j.Ecc.QUARTILE,j.Ecc.HIGH])h&&p<=j.getNumDataCodewords(c,g)*8&&(r=g);let u=[];for(const g of s){l(g.mode.modeBits,4,u),l(g.numChars,g.mode.numCharCountBits(c),u);for(const v of g.getData())u.push(v)}f(u.length==p);const M=j.getNumDataCodewords(c,r)*8;f(u.length<=M),l(0,Math.min(4,M-u.length),u),l(0,(8-u.length%8)%8,u),f(u.length%8==0);for(let g=236;u.length<M;g^=253)l(g,8,u);let R=[];for(;R.length*8<u.length;)R.push(0);return u.forEach((g,v)=>R[v>>>3]|=g<<7-(v&7)),new j(c,r,R,o)}getModule(s,r){return 0<=s&&s<this.size&&0<=r&&r<this.size&&this.modules[r][s]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const s=this.getAlignmentPatternPositions(),r=s.length;for(let n=0;n<r;n++)for(let i=0;i<r;i++)n==0&&i==0||n==0&&i==r-1||n==r-1&&i==0||this.drawAlignmentPattern(s[n],s[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(s){const r=this.errorCorrectionLevel.formatBits<<3|s;let n=r;for(let o=0;o<10;o++)n=n<<1^(n>>>9)*1335;const i=(r<<10|n)^21522;f(i>>>15==0);for(let o=0;o<=5;o++)this.setFunctionModule(8,o,a(i,o));this.setFunctionModule(8,7,a(i,6)),this.setFunctionModule(8,8,a(i,7)),this.setFunctionModule(7,8,a(i,8));for(let o=9;o<15;o++)this.setFunctionModule(14-o,8,a(i,o));for(let o=0;o<8;o++)this.setFunctionModule(this.size-1-o,8,a(i,o));for(let o=8;o<15;o++)this.setFunctionModule(8,this.size-15+o,a(i,o));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let s=this.version;for(let n=0;n<12;n++)s=s<<1^(s>>>11)*7973;const r=this.version<<12|s;f(r>>>18==0);for(let n=0;n<18;n++){const i=a(r,n),o=this.size-11+n%3,h=Math.floor(n/3);this.setFunctionModule(o,h,i),this.setFunctionModule(h,o,i)}}drawFinderPattern(s,r){for(let n=-4;n<=4;n++)for(let i=-4;i<=4;i++){const o=Math.max(Math.abs(i),Math.abs(n)),h=s+i,c=r+n;0<=h&&h<this.size&&0<=c&&c<this.size&&this.setFunctionModule(h,c,o!=2&&o!=4)}}drawAlignmentPattern(s,r){for(let n=-2;n<=2;n++)for(let i=-2;i<=2;i++)this.setFunctionModule(s+i,r+n,Math.max(Math.abs(i),Math.abs(n))!=1)}setFunctionModule(s,r,n){this.modules[r][s]=n,this.isFunction[r][s]=!0}addEccAndInterleave(s){const r=this.version,n=this.errorCorrectionLevel;if(s.length!=j.getNumDataCodewords(r,n))throw new RangeError("Invalid argument");const i=j.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r],o=j.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r],h=Math.floor(j.getNumRawDataModules(r)/8),c=i-h%i,p=Math.floor(h/i);let u=[];const M=j.reedSolomonComputeDivisor(o);for(let g=0,v=0;g<i;g++){let S=s.slice(v,v+p-o+(g<c?0:1));v+=S.length;const L=j.reedSolomonComputeRemainder(S,M);g<c&&S.push(0),u.push(S.concat(L))}let R=[];for(let g=0;g<u[0].length;g++)u.forEach((v,S)=>{(g!=p-o||S>=c)&&R.push(v[g])});return f(R.length==h),R}drawCodewords(s){if(s.length!=Math.floor(j.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let n=this.size-1;n>=1;n-=2){n==6&&(n=5);for(let i=0;i<this.size;i++)for(let o=0;o<2;o++){const h=n-o,p=(n+1&2)==0?this.size-1-i:i;!this.isFunction[p][h]&&r<s.length*8&&(this.modules[p][h]=a(s[r>>>3],7-(r&7)),r++)}}f(r==s.length*8)}applyMask(s){if(s<0||s>7)throw new RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let n=0;n<this.size;n++){let i;switch(s){case 0:i=(n+r)%2==0;break;case 1:i=r%2==0;break;case 2:i=n%3==0;break;case 3:i=(n+r)%3==0;break;case 4:i=(Math.floor(n/3)+Math.floor(r/2))%2==0;break;case 5:i=n*r%2+n*r%3==0;break;case 6:i=(n*r%2+n*r%3)%2==0;break;case 7:i=((n+r)%2+n*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][n]&&i&&(this.modules[r][n]=!this.modules[r][n])}}getPenaltyScore(){let s=0;for(let o=0;o<this.size;o++){let h=!1,c=0,p=[0,0,0,0,0,0,0];for(let u=0;u<this.size;u++)this.modules[o][u]==h?(c++,c==5?s+=j.PENALTY_N1:c>5&&s++):(this.finderPenaltyAddHistory(c,p),h||(s+=this.finderPenaltyCountPatterns(p)*j.PENALTY_N3),h=this.modules[o][u],c=1);s+=this.finderPenaltyTerminateAndCount(h,c,p)*j.PENALTY_N3}for(let o=0;o<this.size;o++){let h=!1,c=0,p=[0,0,0,0,0,0,0];for(let u=0;u<this.size;u++)this.modules[u][o]==h?(c++,c==5?s+=j.PENALTY_N1:c>5&&s++):(this.finderPenaltyAddHistory(c,p),h||(s+=this.finderPenaltyCountPatterns(p)*j.PENALTY_N3),h=this.modules[u][o],c=1);s+=this.finderPenaltyTerminateAndCount(h,c,p)*j.PENALTY_N3}for(let o=0;o<this.size-1;o++)for(let h=0;h<this.size-1;h++){const c=this.modules[o][h];c==this.modules[o][h+1]&&c==this.modules[o+1][h]&&c==this.modules[o+1][h+1]&&(s+=j.PENALTY_N2)}let r=0;for(const o of this.modules)r=o.reduce((h,c)=>h+(c?1:0),r);const n=this.size*this.size,i=Math.ceil(Math.abs(r*20-n*10)/n)-1;return f(0<=i&&i<=9),s+=i*j.PENALTY_N4,f(0<=s&&s<=2568888),s}getAlignmentPatternPositions(){if(this.version==1)return[];{const s=Math.floor(this.version/7)+2,r=this.version==32?26:Math.ceil((this.version*4+4)/(s*2-2))*2;let n=[6];for(let i=this.size-7;n.length<s;i-=r)n.splice(1,0,i);return n}}static getNumRawDataModules(s){if(s<j.MIN_VERSION||s>j.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*s+128)*s+64;if(s>=2){const n=Math.floor(s/7)+2;r-=(25*n-10)*n-55,s>=7&&(r-=36)}return f(208<=r&&r<=29648),r}static getNumDataCodewords(s,r){return Math.floor(j.getNumRawDataModules(s)/8)-j.ECC_CODEWORDS_PER_BLOCK[r.ordinal][s]*j.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][s]}static reedSolomonComputeDivisor(s){if(s<1||s>255)throw new RangeError("Degree out of range");let r=[];for(let i=0;i<s-1;i++)r.push(0);r.push(1);let n=1;for(let i=0;i<s;i++){for(let o=0;o<r.length;o++)r[o]=j.reedSolomonMultiply(r[o],n),o+1<r.length&&(r[o]^=r[o+1]);n=j.reedSolomonMultiply(n,2)}return r}static reedSolomonComputeRemainder(s,r){let n=r.map(i=>0);for(const i of s){const o=i^n.shift();n.push(0),r.forEach((h,c)=>n[c]^=j.reedSolomonMultiply(h,o))}return n}static reedSolomonMultiply(s,r){if(s>>>8||r>>>8)throw new RangeError("Byte out of range");let n=0;for(let i=7;i>=0;i--)n=n<<1^(n>>>7)*285,n^=(r>>>i&1)*s;return f(n>>>8==0),n}finderPenaltyCountPatterns(s){const r=s[1];f(r<=this.size*3);const n=r>0&&s[2]==r&&s[3]==r*3&&s[4]==r&&s[5]==r;return(n&&s[0]>=r*4&&s[6]>=r?1:0)+(n&&s[6]>=r*4&&s[0]>=r?1:0)}finderPenaltyTerminateAndCount(s,r,n){return s&&(this.finderPenaltyAddHistory(r,n),r=0),r+=this.size,this.finderPenaltyAddHistory(r,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(s,r){r[0]==0&&(s+=this.size),r.pop(),r.unshift(s)}};d.MIN_VERSION=1,d.MAX_VERSION=40,d.PENALTY_N1=3,d.PENALTY_N2=3,d.PENALTY_N3=40,d.PENALTY_N4=10,d.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],d.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=d;function l(b,s,r){if(s<0||s>31||b>>>s)throw new RangeError("Value out of range");for(let n=s-1;n>=0;n--)r.push(b>>>n&1)}function a(b,s){return(b>>>s&1)!=0}function f(b){if(!b)throw new Error("Assertion error")}const x=class E{constructor(s,r,n){if(this.mode=s,this.numChars=r,this.bitData=n,r<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(s){let r=[];for(const n of s)l(n,8,r);return new E(E.Mode.BYTE,s.length,r)}static makeNumeric(s){if(!E.isNumeric(s))throw new RangeError("String contains non-numeric characters");let r=[];for(let n=0;n<s.length;){const i=Math.min(s.length-n,3);l(parseInt(s.substring(n,n+i),10),i*3+1,r),n+=i}return new E(E.Mode.NUMERIC,s.length,r)}static makeAlphanumeric(s){if(!E.isAlphanumeric(s))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r=[],n;for(n=0;n+2<=s.length;n+=2){let i=E.ALPHANUMERIC_CHARSET.indexOf(s.charAt(n))*45;i+=E.ALPHANUMERIC_CHARSET.indexOf(s.charAt(n+1)),l(i,11,r)}return n<s.length&&l(E.ALPHANUMERIC_CHARSET.indexOf(s.charAt(n)),6,r),new E(E.Mode.ALPHANUMERIC,s.length,r)}static makeSegments(s){return s==""?[]:E.isNumeric(s)?[E.makeNumeric(s)]:E.isAlphanumeric(s)?[E.makeAlphanumeric(s)]:[E.makeBytes(E.toUtf8ByteArray(s))]}static makeEci(s){let r=[];if(s<0)throw new RangeError("ECI assignment value out of range");if(s<128)l(s,8,r);else if(s<16384)l(2,2,r),l(s,14,r);else if(s<1e6)l(6,3,r),l(s,21,r);else throw new RangeError("ECI assignment value out of range");return new E(E.Mode.ECI,0,r)}static isNumeric(s){return E.NUMERIC_REGEX.test(s)}static isAlphanumeric(s){return E.ALPHANUMERIC_REGEX.test(s)}getData(){return this.bitData.slice()}static getTotalBits(s,r){let n=0;for(const i of s){const o=i.mode.numCharCountBits(r);if(i.numChars>=1<<o)return 1/0;n+=4+o+i.bitData.length}return n}static toUtf8ByteArray(s){s=encodeURI(s);let r=[];for(let n=0;n<s.length;n++)s.charAt(n)!="%"?r.push(s.charCodeAt(n)):(r.push(parseInt(s.substring(n+1,n+3),16)),n+=2);return r}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let w=x;t.QrSegment=x})(I||(I={}));(t=>{(d=>{const l=class{constructor(f,x){this.ordinal=f,this.formatBits=x}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),d.Ecc=l})(t.QrCode||(t.QrCode={}))})(I||(I={}));(t=>{(d=>{const l=class{constructor(f,x){this.modeBits=f,this.numBitsCharCount=x}numCharCountBits(f){return this.numBitsCharCount[Math.floor((f+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),d.Mode=l})(t.QrSegment||(t.QrSegment={}))})(I||(I={}));var F=I;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Me={L:F.QrCode.Ecc.LOW,M:F.QrCode.Ecc.MEDIUM,Q:F.QrCode.Ecc.QUARTILE,H:F.QrCode.Ecc.HIGH},te=128,se="L",ne="#FFFFFF",re="#000000",ie=!1,le=1,Se=4,Pe=0,Ae=.1;function oe(t,d=0){const l=[];return t.forEach(function(a,f){let x=null;a.forEach(function(w,b){if(!w&&x!==null){l.push(`M${x+d} ${f+d}h${b-x}v1H${x+d}z`),x=null;return}if(b===a.length-1){if(!w)return;x===null?l.push(`M${b+d},${f+d} h1v1H${b+d}z`):l.push(`M${x+d},${f+d} h${b+1-x}v1H${x+d}z`);return}w&&x===null&&(x=b)})}),l.join("")}function ae(t,d){return t.slice().map((l,a)=>a<d.y||a>=d.y+d.h?l:l.map((f,x)=>x<d.x||x>=d.x+d.w?f:!1))}function Te(t,d,l,a){if(a==null)return null;const f=t.length+l*2,x=Math.floor(d*Ae),w=f/d,b=(a.width||x)*w,s=(a.height||x)*w,r=a.x==null?t.length/2-b/2:a.x*w,n=a.y==null?t.length/2-s/2:a.y*w,i=a.opacity==null?1:a.opacity;let o=null;if(a.excavate){let c=Math.floor(r),p=Math.floor(n),u=Math.ceil(b+r-c),M=Math.ceil(s+n-p);o={x:c,y:p,w:u,h:M}}const h=a.crossOrigin;return{x:r,y:n,h:s,w:b,excavation:o,opacity:i,crossOrigin:h}}function Ie(t,d){return d!=null?Math.max(Math.floor(d),0):t?Se:Pe}function ce({value:t,level:d,minVersion:l,includeMargin:a,marginSize:f,imageSettings:x,size:w,boostLevel:b}){let s=C.useMemo(()=>{const c=(Array.isArray(t)?t:[t]).reduce((p,u)=>(p.push(...F.QrSegment.makeSegments(u)),p),[]);return F.QrCode.encodeSegments(c,Me[d],l,void 0,void 0,b)},[t,d,l,b]);const{cells:r,margin:n,numCells:i,calculatedImageSettings:o}=C.useMemo(()=>{let h=s.getModules();const c=Ie(a,f),p=h.length+c*2,u=Te(h,w,c,x);return{cells:h,margin:c,numCells:p,calculatedImageSettings:u}},[s,w,x,a,f]);return{qrcode:s,margin:n,cells:r,numCells:i,calculatedImageSettings:o}}var Fe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),De=C.forwardRef(function(d,l){const a=d,{value:f,size:x=te,level:w=se,bgColor:b=ne,fgColor:s=re,includeMargin:r=ie,minVersion:n=le,boostLevel:i,marginSize:o,imageSettings:h}=a,p=$(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:u}=p,M=$(p,["style"]),R=h==null?void 0:h.src,g=C.useRef(null),v=C.useRef(null),S=C.useCallback(T=>{g.current=T,typeof l=="function"?l(T):l&&(l.current=T)},[l]),[L,_]=C.useState(!1),{margin:D,cells:z,numCells:U,calculatedImageSettings:P}=ce({value:f,level:w,minVersion:n,boostLevel:i,includeMargin:r,marginSize:o,imageSettings:h,size:x});C.useEffect(()=>{if(g.current!=null){const T=g.current,A=T.getContext("2d");if(!A)return;let G=z;const O=v.current,Y=P!=null&&O!==null&&O.complete&&O.naturalHeight!==0&&O.naturalWidth!==0;Y&&P.excavation!=null&&(G=ae(z,P.excavation));const W=window.devicePixelRatio||1;T.height=T.width=x*W;const q=x/U*W;A.scale(q,q),A.fillStyle=b,A.fillRect(0,0,U,U),A.fillStyle=s,Fe?A.fill(new Path2D(oe(G,D))):z.forEach(function(he,me){he.forEach(function(ue,xe){ue&&A.fillRect(xe+D,me+D,1,1)})}),P&&(A.globalAlpha=P.opacity),Y&&A.drawImage(O,P.x+D,P.y+D,P.w,P.h)}}),C.useEffect(()=>{_(!1)},[R]);const de=Q({height:x,width:x},u);let H=null;return R!=null&&(H=C.createElement("img",{src:R,key:R,style:{display:"none"},onLoad:()=>{_(!0)},ref:v,crossOrigin:P==null?void 0:P.crossOrigin})),C.createElement(C.Fragment,null,C.createElement("canvas",Q({style:de,height:x,width:x,ref:S,role:"img"},M)),H)});De.displayName="QRCodeCanvas";var V=C.forwardRef(function(d,l){const a=d,{value:f,size:x=te,level:w=se,bgColor:b=ne,fgColor:s=re,includeMargin:r=ie,minVersion:n=le,boostLevel:i,title:o,marginSize:h,imageSettings:c}=a,p=$(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:u,cells:M,numCells:R,calculatedImageSettings:g}=ce({value:f,level:w,minVersion:n,boostLevel:i,includeMargin:r,marginSize:h,imageSettings:c,size:x});let v=M,S=null;c!=null&&g!=null&&(g.excavation!=null&&(v=ae(M,g.excavation)),S=C.createElement("image",{href:c.src,height:g.h,width:g.w,x:g.x+u,y:g.y+u,preserveAspectRatio:"none",opacity:g.opacity,crossOrigin:g.crossOrigin}));const L=oe(v,u);return C.createElement("svg",Q({height:x,width:x,viewBox:`0 0 ${R} ${R}`,ref:l,role:"img"},p),!!o&&C.createElement("title",null,o),C.createElement("path",{fill:b,d:`M0,0 h${R}v${R}H0z`,shapeRendering:"crispEdges"}),C.createElement("path",{fill:s,d:L,shapeRendering:"crispEdges"}),S)});V.displayName="QRCodeSVG";function Z({data:t}){const d=t.amountPaid!==void 0?t.total-t.amountPaid:0,l=()=>{switch(t.type){case"quote":return"QUOTE";case"invoice":return"INVOICE";case"ticket":return"REPAIR TICKET";default:return"RECEIPT"}};return e.jsxs("div",{className:"p-4 bg-white text-black",style:{width:"80mm",margin:"0 auto"},children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h1",{className:"font-bold text-lg",children:"O'MEGA SERVICES"}),e.jsx("p",{className:"text-xs",children:"400 Rue nationale, 69400 Villefranche S/S"}),e.jsx("p",{className:"text-xs",children:"Tel: 0986608980 | TVA: FR123456789"})]}),e.jsxs("div",{className:"border-y border-dashed py-2 my-2",children:[e.jsx("div",{className:"text-center font-bold mb-2",children:l()}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Number:"}),e.jsxs("span",{children:["#",t.number]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Date:"}),e.jsx("span",{children:k(new Date(t.date),"dd/MM/yyyy")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Time:"}),e.jsx("span",{children:k(new Date(t.date),"HH:mm")})]}),t.status&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Status:"}),e.jsx("span",{children:t.status})]})]}),t.customer&&e.jsxs("div",{className:"my-2",children:[e.jsx("p",{className:"font-bold",children:"Customer:"}),e.jsx("p",{className:"text-sm",children:t.customer.name}),t.customer.phone&&e.jsxs("p",{className:"text-sm",children:["Tel: ",t.customer.phone]}),t.customer.email&&e.jsx("p",{className:"text-sm",children:t.customer.email})]}),t.type==="ticket"&&t.deviceType&&e.jsxs("div",{className:"border-y border-dashed py-2 my-2",children:[e.jsx("p",{className:"font-bold",children:"Device Information:"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Type:"}),e.jsx("span",{children:t.deviceType})]}),t.brand&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Brand:"}),e.jsx("span",{children:t.brand})]}),t.model&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Model:"}),e.jsx("span",{children:t.model})]}),t.passcode&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Passcode:"}),e.jsx("span",{children:t.passcode})]})]}),e.jsxs("div",{className:"my-2",children:[e.jsx("p",{className:"font-bold",children:t.type==="ticket"?"Services:":"Items:"}),t.items.map((a,f)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[a.name," ",a.quantity>1?`x${a.quantity}`:""]}),e.jsxs("span",{children:["€",(a.price*a.quantity).toFixed(2)]})]},f))]}),e.jsxs("div",{className:"border-t border-dashed pt-2 my-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["€",t.subtotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"VAT (20%):"}),e.jsxs("span",{children:["€",t.tax.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"TOTAL:"}),e.jsxs("span",{children:["€",t.total.toFixed(2)]})]}),t.paymentMethod&&e.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[e.jsx("span",{children:"Payment Method:"}),e.jsx("span",{children:t.paymentMethod})]}),t.paymentStatus&&e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{children:"Payment Status:"}),e.jsx("span",{children:t.paymentStatus})]}),t.amountPaid!==void 0&&t.amountPaid>0&&t.amountPaid<t.total&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{children:"Amount Paid:"}),e.jsxs("span",{children:["€",t.amountPaid.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1 font-bold",children:[e.jsx("span",{children:"Remaining:"}),e.jsxs("span",{children:["€",d.toFixed(2)]})]})]})]}),t.note&&e.jsxs("div",{className:"my-2",children:[e.jsx("p",{className:"font-bold",children:"Note:"}),e.jsx("p",{className:"text-sm",children:t.note})]}),e.jsxs("div",{className:"text-center my-4",children:[e.jsx(V,{value:JSON.stringify({id:t.id,number:t.number,total:t.total,date:t.date,type:t.type}),size:80,className:"mx-auto"}),e.jsxs("p",{className:"text-xs mt-1",children:["Scan to verify ",t.type]})]}),e.jsxs("div",{className:"text-center text-xs mt-4",children:[e.jsx("p",{children:"Your satisfaction is our success. Thank you for choosing us!"}),e.jsxs("p",{children:["This ",t.type," serves as proof of service."]}),e.jsx("p",{children:"For any questions, please contact us at contact@omegaservices.fr"})]})]})}function Oe({data:t}){const d=t.amountPaid!==void 0?t.total-t.amountPaid:0,l=()=>{switch(t.type){case"quote":return"QUOTE";case"invoice":return"INVOICE";case"ticket":return"REPAIR TICKET";default:return"RECEIPT"}};return e.jsxs("div",{className:"p-8 bg-white text-black",style:{width:"210mm",maxWidth:"100%"},children:[e.jsxs("div",{className:"flex justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-4",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"mr-4",children:e.jsx("img",{src:"https://github.com/othsma/kepler-test-firebase/blob/main/src/omegalogo.png?raw=true",alt:"O'MEGA SERVICES Logo",className:"h-12 w-auto"})})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-1 text-gray-900",children:"O'MEGA SERVICES"}),e.jsx("p",{className:"text-sm text-gray-600",children:"400 Rue nationale, 69400 Villefranche S/S"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tel: 0986608980"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Email: contact@omegaservices.fr"}),e.jsx("p",{className:"text-sm text-gray-600",children:"TVA: FR123456789"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-xl font-bold mb-1 text-gray-900",children:l()}),e.jsxs("p",{className:"text-sm text-gray-600",children:["#",t.number]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",k(new Date(t.date),"dd/MM/yyyy")]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",k(new Date(t.date),"HH:mm")]}),t.status&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",t.status]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:t.type==="ticket"?"Client Information:":"Bill To:"}),t.customer?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-800",children:t.customer.name}),t.customer.address&&e.jsx("p",{className:"text-gray-800",children:t.customer.address}),t.customer.phone&&e.jsxs("p",{className:"text-gray-800",children:["Tel: ",t.customer.phone]}),t.customer.email&&e.jsx("p",{className:"text-gray-800",children:t.customer.email}),t.customer.taxId&&e.jsxs("p",{className:"text-gray-800",children:["Tax ID: ",t.customer.taxId]})]}):e.jsx("p",{className:"text-gray-800",children:"Walk-in Customer"})]}),t.type==="ticket"&&t.deviceType&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Device Information:"}),e.jsx("table",{className:"w-full mb-4",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Type:"}),e.jsx("td",{className:"py-2 text-gray-800",children:t.deviceType})]}),t.brand&&e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Brand:"}),e.jsx("td",{className:"py-2 text-gray-800",children:t.brand})]}),t.model&&e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Model:"}),e.jsx("td",{className:"py-2 text-gray-800",children:t.model})]}),t.passcode&&e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Passcode:"}),e.jsx("td",{className:"py-2 text-gray-800",children:t.passcode})]})]})})]}),e.jsxs("table",{className:"w-full mb-8 border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("th",{className:"text-left py-2 text-gray-900",children:t.type==="ticket"?"Service":"Item"}),e.jsx("th",{className:"text-center py-2 text-gray-900",children:"Quantity"}),e.jsx("th",{className:"text-right py-2 text-gray-900",children:"Unit Price"}),e.jsx("th",{className:"text-right py-2 text-gray-900",children:"Amount"})]})}),e.jsx("tbody",{children:t.items.map(a=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsxs("td",{className:"py-3 text-gray-800",children:[e.jsx("p",{className:"font-medium",children:a.name}),a.description&&e.jsx("p",{className:"text-sm text-gray-600",children:a.description}),a.sku&&e.jsx("p",{className:"text-sm text-gray-600",children:a.sku})]}),e.jsx("td",{className:"text-center py-3 text-gray-800",children:a.quantity}),e.jsxs("td",{className:"text-right py-3 text-gray-800",children:["€",a.price.toFixed(2)]}),e.jsxs("td",{className:"text-right py-3 text-gray-800",children:["€",(a.price*a.quantity).toFixed(2)]})]},a.id))}),e.jsxs("tfoot",{children:[e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"text-right py-2 font-medium text-gray-800",children:"Subtotal"}),e.jsxs("td",{className:"text-right py-2 text-gray-800",children:["€",t.subtotal.toFixed(2)]})]}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"text-right py-2 font-medium text-gray-800",children:"VAT (20%)"}),e.jsxs("td",{className:"text-right py-2 text-gray-800",children:["€",t.tax.toFixed(2)]})]}),e.jsxs("tr",{className:"border-t border-gray-300",children:[e.jsx("td",{colSpan:3,className:"text-right py-2 font-bold text-gray-900",children:"Total"}),e.jsxs("td",{className:"text-right py-2 font-bold text-gray-900",children:["€",t.total.toFixed(2)]})]})]})]}),(t.paymentMethod||t.paymentStatus||t.amountPaid!==void 0)&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Payment Information:"}),t.paymentMethod&&e.jsxs("p",{className:"text-gray-800",children:["Method: ",t.paymentMethod]}),t.paymentStatus&&e.jsxs("p",{className:"text-gray-800",children:["Status: ",t.paymentStatus]}),t.amountPaid!==void 0&&t.amountPaid>0&&t.amountPaid<t.total&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-800",children:["Amount Paid: €",t.amountPaid.toFixed(2)]}),e.jsxs("p",{className:"text-gray-800 font-bold",children:["Remaining Balance: €",d.toFixed(2)]})]})]}),t.note&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Notes:"}),e.jsx("p",{className:"text-gray-800",children:t.note})]}),e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Terms and Conditions:"}),e.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 pl-4",children:[t.type==="ticket"?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"All repairs come with a 90-day warranty."}),e.jsx("li",{children:"Payment is due upon completion of service."}),e.jsx("li",{children:"Devices not claimed within 90 days will be subject to disposal or recycling."}),e.jsx("li",{children:"We are not responsible for data loss during repairs."})]}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Payment is due within 30 days of invoice date."}),e.jsx("li",{children:"Late payments are subject to a 2% monthly interest charge."}),e.jsx("li",{children:"All products come with a standard 1-year warranty."}),e.jsx("li",{children:"Returns accepted within 14 days with original packaging."})]}),e.jsxs("li",{children:["This document serves as proof of ",t.type==="ticket"?"service":"purchase","."]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(V,{value:JSON.stringify({id:t.id,number:t.number,total:t.total,date:t.date,type:t.type,business:"O'MEGA SERVICES",taxId:"FR123456789"}),size:100}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Scan to verify ",t.type]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600 border-t border-gray-300 pt-4",children:[e.jsx("p",{children:"Your satisfaction is our success. Thank you for choosing us!"}),e.jsxs("p",{children:["For any questions regarding this ",t.type,", please contact us at contact@omegaservices.fr"]})]})]})}const y=pe.create({page:{padding:40,fontSize:12,fontFamily:"Helvetica"},header:{marginBottom:20,borderBottomWidth:1,paddingBottom:10,textAlign:"center"},companyName:{fontSize:16,fontWeight:"bold",marginBottom:4},section:{marginBottom:15},flexRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:5},tableHeader:{flexDirection:"row",borderBottomWidth:1,paddingBottom:5,marginBottom:5},tableRow:{flexDirection:"row",marginBottom:3},colDescription:{width:"60%"},colQty:{width:"15%",textAlign:"right"},colPrice:{width:"25%",textAlign:"right"},totalSection:{marginTop:15,borderTopWidth:1,paddingTop:10},bold:{fontWeight:"bold"},footer:{marginTop:30,borderTopWidth:1,paddingTop:10,fontSize:10,textAlign:"center"}});function Le({data:t}){const d=()=>{switch(t.type){case"quote":return"QUOTE";case"invoice":return"INVOICE";case"ticket":return"REPAIR TICKET";default:return"RECEIPT"}};return e.jsx(fe,{children:e.jsxs(ye,{size:"A4",style:y.page,children:[e.jsxs(N,{style:y.header,children:[e.jsx(m,{style:y.companyName,children:"O'MEGA SERVICES"}),e.jsx(m,{children:"400 Rue nationale, 69400 Villefranche S/S"}),e.jsx(m,{children:"Tel: 0986608980 | TVA: FR123456789"})]}),e.jsxs(N,{style:y.section,children:[e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{style:y.bold,children:d()}),e.jsxs(m,{children:["#",t.number]})]}),e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Date:"}),e.jsx(m,{children:new Date(t.date).toLocaleDateString()})]}),t.status&&e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Status:"}),e.jsx(m,{children:t.status})]})]}),e.jsxs(N,{style:y.section,children:[e.jsx(m,{style:y.bold,children:t.type==="ticket"?"Client Information:":"Bill To:"}),t.customer?e.jsxs(e.Fragment,{children:[e.jsx(m,{children:t.customer.name}),t.customer.address&&e.jsx(m,{children:t.customer.address}),t.customer.phone&&e.jsxs(m,{children:["Tel: ",t.customer.phone]}),t.customer.email&&e.jsx(m,{children:t.customer.email}),t.customer.taxId&&e.jsxs(m,{children:["Tax ID: ",t.customer.taxId]})]}):e.jsx(m,{children:"Walk-in Customer"})]}),t.type==="ticket"&&t.deviceType&&e.jsxs(N,{style:y.section,children:[e.jsx(m,{style:y.bold,children:"Device Information:"}),e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Type:"}),e.jsx(m,{children:t.deviceType})]}),t.brand&&e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Brand:"}),e.jsx(m,{children:t.brand})]}),t.model&&e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Model:"}),e.jsx(m,{children:t.model})]}),t.passcode&&e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Passcode:"}),e.jsx(m,{children:t.passcode})]})]}),e.jsxs(N,{style:y.section,children:[e.jsxs(N,{style:y.tableHeader,children:[e.jsx(m,{style:y.colDescription,children:t.type==="ticket"?"Service":"Item"}),e.jsx(m,{style:y.colQty,children:"Qty"}),e.jsx(m,{style:y.colPrice,children:"Price"})]}),t.items.map((l,a)=>e.jsxs(N,{style:y.tableRow,children:[e.jsx(m,{style:y.colDescription,children:l.name}),e.jsx(m,{style:y.colQty,children:l.quantity}),e.jsxs(m,{style:y.colPrice,children:["€",(l.price*l.quantity).toFixed(2)]})]},a))]}),e.jsxs(N,{style:y.totalSection,children:[e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Subtotal:"}),e.jsxs(m,{children:["€",t.subtotal.toFixed(2)]})]}),e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Tax (20%):"}),e.jsxs(m,{children:["€",t.tax.toFixed(2)]})]}),e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{style:y.bold,children:"Total:"}),e.jsxs(m,{style:y.bold,children:["€",t.total.toFixed(2)]})]})]}),(t.paymentMethod||t.paymentStatus||t.amountPaid!==void 0)&&e.jsxs(N,{style:y.section,children:[e.jsx(m,{style:y.bold,children:"Payment Information:"}),t.paymentMethod&&e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Method:"}),e.jsx(m,{children:t.paymentMethod})]}),t.paymentStatus&&e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Status:"}),e.jsx(m,{children:t.paymentStatus})]}),t.amountPaid!==void 0&&t.amountPaid>0&&t.amountPaid<t.total&&e.jsxs(e.Fragment,{children:[e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{children:"Amount Paid:"}),e.jsxs(m,{children:["€",t.amountPaid.toFixed(2)]})]}),e.jsxs(N,{style:y.flexRow,children:[e.jsx(m,{style:y.bold,children:"Remaining Balance:"}),e.jsxs(m,{style:y.bold,children:["€",(t.total-t.amountPaid).toFixed(2)]})]})]})]}),t.note&&e.jsxs(N,{style:y.section,children:[e.jsx(m,{style:y.bold,children:"Notes:"}),e.jsx(m,{children:t.note})]}),e.jsxs(N,{style:y.footer,children:[e.jsx(m,{children:"Your satisfaction is our success. Thank you for choosing us!"}),e.jsxs(m,{children:["For any questions regarding this ",t.type,", please contact us at contact@omegaservices.fr"]}),e.jsx(m,{children:"O'MEGA SERVICES | 400 Rue nationale, 69400 Villefranche S/S | Tel: 0986608980"})]})]})})}function He({data:t,onClose:d,initialFormat:l="thermal"}){var h;const a=ge(c=>c.isDarkMode),[f,x]=X.useState(l),w=X.useState(null),b=()=>{switch(t.type){case"quote":return"Quote";case"invoice":return"Invoice";case"ticket":return"Repair Ticket";default:return"Receipt"}},s=()=>{window.print()},r=()=>{var c;if((c=t.customer)!=null&&c.email){const p=`${b()} ${t.number}`,u=`Please find attached your ${t.type.toLowerCase()} details.`;window.location.href=`mailto:${t.customer.email}?subject=${p}&body=${u}`}},n=async()=>{if(w.current)try{const p=(await je(w.current,{scale:2,backgroundColor:"#ffffff"})).toDataURL("image/png"),u=document.createElement("a");u.href=p,u.download=`${t.type}_${t.number}.png`,u.click()}catch(c){console.error("Error generating document image:",c)}},i=()=>{x(c=>c==="thermal"?"a4":"thermal")},o=()=>{switch(f){case"thermal":return e.jsx(Z,{data:t});case"a4":return e.jsx(Oe,{data:t});case"pdf":return e.jsx(Le,{data:t});default:return e.jsx(Z,{data:t})}};return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:e.jsxs("div",{className:`relative ${f==="a4"?"w-[210mm] max-h-[90vh]":"w-120"} ${a?"bg-gray-800":"bg-white"} rounded-lg shadow-xl overflow-y-auto`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b sticky top-0 bg-white z-10",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[f==="thermal"?"Thermal Receipt":"A4 Format"," - ",b()]}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-500",children:e.jsx(be,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-4 overflow-auto",ref:w,children:o()}),e.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t sticky bottom-0 bg-white",children:[e.jsxs("button",{onClick:i,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center gap-1",children:[f==="thermal"?e.jsx(Ne,{className:"h-4 w-4"}):e.jsx(we,{className:"h-4 w-4"}),"Switch to ",f==="thermal"?"A4":"Thermal"]}),e.jsxs("button",{onClick:n,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-1",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Download"]}),((h=t.customer)==null?void 0:h.email)&&e.jsxs("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(ve,{className:"h-4 w-4"}),"Email"]}),e.jsxs("button",{onClick:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-1",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Print"]})]})]})})}function Ge(t,d,l){const a=t.cost||0,x=a*.2,w=a+x,b=[];if(t.taskPrices&&Array.isArray(t.taskPrices))t.taskPrices.forEach(s=>{b.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:s.name,quantity:1,price:s.price})});else if(t.tasks&&Array.isArray(t.tasks)){const s=t.tasks.length,r=s>0?a/s:0;t.tasks.forEach(n=>{b.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:n,quantity:1,price:r})})}return{id:t.id||`ticket-${Math.random().toString(36).substring(2,9)}`,number:t.ticketNumber||"",date:t.createdAt||new Date().toISOString(),customer:l?{id:d,name:l.name||"",email:l.email||"",phone:l.phone||"",address:l.address||""}:void 0,items:b,subtotal:a,tax:x,total:w,status:t.status||"Pending",type:"ticket",deviceType:t.deviceType||"",brand:t.brand||"",model:t.model||"",passcode:t.passcode,sourceType:"ticket",sourceId:t.id}}function Ye(t){return{id:t.id||`receipt-${Math.random().toString(36).substring(2,9)}`,number:t.receiptNumber||t.invoiceNumber||"",date:t.date||new Date().toISOString(),customer:t.customer?{id:t.customer.id||`customer-${Math.random().toString(36).substring(2,9)}`,name:t.customer.name||"",email:t.customer.email||"",phone:t.customer.phone||"",address:t.customer.address||""}:void 0,items:(t.items||[]).map(d=>({id:d.id||`item-${Math.random().toString(36).substring(2,9)}`,name:d.name||"",quantity:d.quantity||1,price:d.price||0})),subtotal:t.subtotal||0,tax:t.tax||0,total:t.total||0,paymentMethod:t.paymentMethod,paymentStatus:t.paymentStatus||"Paid",amountPaid:t.amountPaid,note:t.note,type:"receipt",sourceType:"pos",sourceId:t.id}}export{He as U,Ye as a,Ge as c};
