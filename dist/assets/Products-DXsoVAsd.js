import{j as e}from"./vendor-pdf-renderer-BDu2W1LG.js";import{r as o}from"./vendor-react-DSd34EeT.js";import{u as be,c as ye}from"./index-DsS16Tuc.js";import{r as ie,N as R,n as oe,d as z,C as fe,I as pe,T as je}from"./vendor-ui-QjxOl2QA.js";import"./vendor-firebase-gzZOYVNO.js";import"./vendor-utils-Bnff-AKO.js";import"./vendor-pdf-utils-CBrSDip1.js";function Ae(){const s=be(t=>t.isDarkMode),{products:v,categories:C,selectedCategory:ve,setSearchQuery:we,setSelectedCategory:Ne,addProduct:ne,updateProduct:H,deleteProduct:de}=ye(),[u,k]=o.useState([]),[B,F]=o.useState(!1),[P,$]=o.useState("all"),[M,S]=o.useState(null),[le,V]=o.useState(new Set),[d,p]=o.useState({name:"",category:"",price:"",stock:"",sku:"",description:"",imageUrl:""}),[g,j]=o.useState({name:"",category:"",price:0,stock:0,sku:"",description:"",imageUrl:"",createdAt:""}),[f,_]=o.useState("name"),[w,I]=o.useState("asc"),[b,K]=o.useState(""),[q,G]=o.useState(!1),[m,D]=o.useState({min:"",max:""}),[x,A]=o.useState({min:"",max:""}),[h,U]=o.useState({from:"",to:""}),[l,c]=o.useState(1),[E,ce]=o.useState(10);o.useState(!1);const[y,J]=o.useState(!1),[ge,O]=o.useState(10),W=v.filter(t=>{const r=b?t.name.toLowerCase().includes(b.toLowerCase())||t.description.toLowerCase().includes(b.toLowerCase())||t.sku.toLowerCase().includes(b.toLowerCase())||(t.category||"").toLowerCase().includes(b.toLowerCase())||t.price.toString().includes(b):!0,a=u.length===0||u.includes(t.category||""),i=(!m.min||t.price>=Number(m.min))&&(!m.max||t.price<=Number(m.max)),L=(!x.min||t.stock>=Number(x.min))&&(!x.max||t.stock<=Number(x.max)),T=(!h.from||new Date(t.createdAt)>=new Date(h.from))&&(!h.to||new Date(t.createdAt)<=new Date(h.to));return r&&a&&i&&L&&T}),N=[...W].sort((t,r)=>{let a=t[f],i=r[f];return f==="createdAt"?(a=new Date(a).getTime(),i=new Date(i).getTime()):(a=String(a).toLowerCase(),i=String(i).toLowerCase()),w==="asc"?a<i?-1:a>i?1:0:a>i?-1:a<i?1:0}),n=Math.ceil(N.length/E),Q=(l-1)*E,X=Q+E,Y=y?N.slice(0,ge):N.slice(Q,X);o.useEffect(()=>{c(1),O(10)},[b,u,m,x,h,f,w]);const Z=t=>{f===t?I(w==="asc"?"desc":"asc"):(_(t),I("asc"))},me=t=>{t.preventDefault(),M?(H(M,g),S(null),$("all")):(ne(g),$("all")),j({name:"",category:"",price:0,stock:0,sku:"",description:"",imageUrl:"",createdAt:""})},xe=t=>{V(r=>{const a=new Set(r);return a.has(t)?a.delete(t):a.add(t),a})};return o.useEffect(()=>{const t=setTimeout(()=>{const r=new URL(window.location.href);b?r.searchParams.set("search",b):r.searchParams.delete("search"),u.length>0?r.searchParams.set("categories",u.join(",")):r.searchParams.delete("categories"),m.min?r.searchParams.set("priceMin",m.min):r.searchParams.delete("priceMin"),m.max?r.searchParams.set("priceMax",m.max):r.searchParams.delete("priceMax"),x.min?r.searchParams.set("stockMin",x.min):r.searchParams.delete("stockMin"),x.max?r.searchParams.set("stockMax",x.max):r.searchParams.delete("stockMax"),h.from?r.searchParams.set("dateFrom",h.from):r.searchParams.delete("dateFrom"),h.to?r.searchParams.set("dateTo",h.to):r.searchParams.delete("dateTo"),f!=="name"?r.searchParams.set("sort",f):r.searchParams.delete("sort"),w!=="asc"?r.searchParams.set("dir",w):r.searchParams.delete("dir"),window.history.replaceState({},"",r.toString())},300);return()=>clearTimeout(t)},[b,u,m,x,h,f,w]),o.useEffect(()=>{const t=new URL(window.location.href),r=t.searchParams.get("search");r&&K(r);const a=t.searchParams.get("categories");if(a){const he=a.split(",").filter(ue=>C.includes(ue));k(he)}const i=t.searchParams.get("priceMin"),L=t.searchParams.get("priceMax");(i||L)&&D({min:i||"",max:L||""});const T=t.searchParams.get("stockMin"),ee=t.searchParams.get("stockMax");(T||ee)&&A({min:T||"",max:ee||""});const te=t.searchParams.get("dateFrom"),se=t.searchParams.get("dateTo");(te||se)&&U({from:te||"",to:se||""});const re=t.searchParams.get("sort");["name","createdAt"].includes(re||"")&&_(re);const ae=t.searchParams.get("dir");["asc","desc"].includes(ae||"")&&I(ae)},[C]),o.useEffect(()=>{const t=r=>{if(!(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement)&&P==="all")if(r.ctrlKey||r.metaKey)switch(r.key.toLowerCase()){case"f":r.preventDefault();const a=document.querySelector('input[placeholder*="Rechercher"]');a&&a.focus();break;case"n":r.preventDefault(),$("main");break;case"arrowleft":r.preventDefault(),!y&&l>1&&c(i=>i-1);break;case"arrowright":r.preventDefault(),!y&&l<n&&c(i=>i+1);break}else switch(r.key){case"ArrowLeft":r.preventDefault(),!y&&l>1&&c(i=>i-1);break;case"ArrowRight":r.preventDefault(),!y&&l<n&&c(i=>i+1);break;case"Home":r.preventDefault(),y||c(1);break;case"End":r.preventDefault(),y||c(n);break;case"Escape":r.preventDefault(),F(!1),G(!1);break;default:const a=parseInt(r.key);!isNaN(a)&&a>=1&&a<=9&&!y&&(r.preventDefault(),a<=n&&c(a));break}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[P,l,n,y]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:`text-2xl font-semibold ${s?"text-white":"text-gray-900"}`,children:"Produits"}),e.jsxs("button",{onClick:()=>{$("main"),j({name:"",category:"",price:0,stock:0,sku:"",description:"",imageUrl:"",createdAt:""}),S(null)},className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Ajouter un produit"]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>$("main"),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${P==="main"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(R,{className:"h-4 w-4"}),"Cr√©er un produit"]}),e.jsxs("button",{onClick:()=>$("all"),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${P==="all"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(oe,{className:"h-4 w-4"}),"Tous les produits (",v.length,")"]})]})}),P==="main"&&e.jsxs("div",{className:`rounded-lg ${s?"bg-gray-800":"bg-white"} shadow p-6`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(R,{className:"h-5 w-5 text-indigo-600"}),e.jsx("h2",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:M?"Modifier le produit":"Cr√©er un nouveau produit"})]}),e.jsxs("form",{onSubmit:me,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Nom"}),e.jsx("input",{type:"text",value:g.name,onChange:t=>j({...g,name:t.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Cat√©gorie (optionnel)"}),e.jsxs("select",{value:g.category,onChange:t=>j({...g,category:t.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Aucune cat√©gorie"}),C.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Prix"}),e.jsx("input",{type:"number",value:g.price,onChange:t=>j({...g,price:Number(t.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Stock"}),e.jsx("input",{type:"number",value:g.stock,onChange:t=>j({...g,stock:Number(t.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"SKU"}),e.jsx("input",{type:"text",value:g.sku,onChange:t=>j({...g,sku:t.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Description"}),e.jsx("textarea",{value:g.description,onChange:t=>j({...g,description:t.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"URL de l'image"}),e.jsx("input",{type:"url",value:g.imageUrl,onChange:t=>j({...g,imageUrl:t.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{$("all"),S(null),j({name:"",category:"",price:0,stock:0,sku:"",description:"",imageUrl:"",createdAt:""})},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:M?"Mettre √† jour":"Ajouter"})]})]})]}),P==="all"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`rounded-lg ${s?"bg-gray-800":"bg-white"} shadow p-6 mb-6`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-white":"text-gray-900"}`,children:"üìä √âtat des stocks"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-red-900/20 border-red-700":"bg-red-50 border-red-200"} border`,children:[e.jsx("div",{className:`text-2xl font-bold ${s?"text-red-400":"text-red-600"}`,children:v.filter(t=>t.stock<=0).length}),e.jsx("div",{className:`text-sm ${s?"text-red-300":"text-red-600"}`,children:"Rupture de stock"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-orange-900/20 border-orange-700":"bg-orange-50 border-orange-200"} border`,children:[e.jsx("div",{className:`text-2xl font-bold ${s?"text-orange-400":"text-orange-600"}`,children:v.filter(t=>t.stock>0&&t.stock<=5).length}),e.jsx("div",{className:`text-sm ${s?"text-orange-300":"text-orange-600"}`,children:"Stock critique (‚â§5)"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-yellow-900/20 border-yellow-700":"bg-yellow-50 border-yellow-200"} border`,children:[e.jsx("div",{className:`text-2xl font-bold ${s?"text-yellow-400":"text-yellow-600"}`,children:v.filter(t=>t.stock>5&&t.stock<=10).length}),e.jsx("div",{className:`text-sm ${s?"text-yellow-300":"text-yellow-600"}`,children:"Stock faible (6-10)"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-green-900/20 border-green-700":"bg-green-50 border-green-200"} border`,children:[e.jsx("div",{className:`text-2xl font-bold ${s?"text-green-400":"text-green-600"}`,children:v.filter(t=>t.stock>10).length}),e.jsx("div",{className:`text-sm ${s?"text-green-300":"text-green-600"}`,children:"Stock normal (plus de 10)"})]})]}),v.filter(t=>t.stock<=5).length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:[e.jsx("h4",{className:`font-medium mb-2 ${s?"text-red-400":"text-red-800"}`,children:"‚ö†Ô∏è Alertes de stock faible"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.filter(t=>t.stock<=5).map(t=>e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s?"bg-red-900 text-red-200":"bg-red-100 text-red-800"}`,children:[t.name,": ",t.stock," restant",t.stock!==1?"s":""]},t.id))})]})]}),e.jsx("div",{className:`rounded-lg ${s?"bg-gray-800":"bg-white"} shadow p-4`,children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-gray-700 p-4 rounded-lg shadow-inner",children:[e.jsx(oe,{className:"h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Rechercher des produits...",value:b,onChange:t=>K(t.target.value),className:"flex-1 bg-transparent border-0 focus:ring-0 text-gray-900 dark:text-white placeholder-gray-400"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[e.jsxs("div",{className:"relative min-w-[200px]",children:[e.jsxs("button",{type:"button",onClick:()=>F(!B),className:`w-full flex items-center justify-between rounded-lg border shadow-sm px-3 py-2 text-left text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:border-indigo-500 focus:ring-indigo-500`,children:[e.jsx("span",{className:"block truncate",children:u.length===0?"Toutes les cat√©gories":`${u.length} cat.`}),e.jsx(z,{className:"h-4 w-4 text-gray-400 ml-2"})]}),B&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>F(!1)}),e.jsx("div",{className:`absolute z-20 mt-1 w-full rounded-md shadow-lg border ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"p-2 max-h-60 overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 py-1 border-b border-gray-200 dark:border-gray-600 mb-2",children:[e.jsx("span",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Cat√©gories"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>k(C),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Tout"}),e.jsx("button",{type:"button",onClick:()=>k([]),className:"text-xs text-gray-500 hover:text-gray-700",children:"Effacer"})]})]}),C.map(t=>e.jsxs("label",{className:`flex items-center px-2 py-2 rounded-md cursor-pointer ${s?"hover:bg-gray-700":"hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:u.includes(t),onChange:r=>{r.target.checked?k([...u,t]):k(u.filter(a=>a!==t))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{className:`ml-2 text-sm ${s?"text-gray-300":"text-gray-700"}`,children:t})]},t))]})})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>Z("name"),className:`px-3 py-2 text-sm rounded-md border ${f==="name"?"bg-indigo-100 text-indigo-700 border-indigo-300":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:["Nom ",f==="name"&&(w==="asc"?"‚Üë":"‚Üì")]}),e.jsxs("button",{onClick:()=>Z("createdAt"),className:`px-3 py-2 text-sm rounded-md border ${f==="createdAt"?"bg-indigo-100 text-indigo-700 border-indigo-300":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:["Date ",f==="createdAt"&&(w==="asc"?"‚Üë":"‚Üì")]})]})]}),u.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(t=>e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s?"bg-indigo-900 text-indigo-200":"bg-indigo-100 text-indigo-800"}`,children:[t,e.jsx("button",{type:"button",onClick:()=>k(u.filter(r=>r!==t)),className:`ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full ${s?"hover:bg-indigo-800 text-indigo-400":"hover:bg-indigo-200 text-indigo-600"}`,children:"√ó"})]},t))}),e.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[e.jsxs("button",{type:"button",onClick:()=>G(!q),className:`flex items-center gap-2 text-sm font-medium ${s?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"}`,children:[e.jsx(z,{className:`h-4 w-4 transition-transform ${q?"rotate-180":""}`}),"Filtres avanc√©s"]}),(u.length>0||m.min||m.max||x.min||x.max||h.from||h.to||b)&&e.jsx("button",{type:"button",onClick:()=>{k([]),D({min:"",max:""}),A({min:"",max:""}),U({from:"",to:""}),K("")},className:"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Effacer tous les filtres"})]}),q&&e.jsx("div",{className:`border-t pt-4 ${s?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Prix (‚Ç¨)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:m.min,onChange:t=>D({...m,min:t.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),e.jsx("input",{type:"number",placeholder:"Max",value:m.max,onChange:t=>D({...m,max:t.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Stock"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:x.min,onChange:t=>A({...x,min:t.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),e.jsx("input",{type:"number",placeholder:"Max",value:x.max,onChange:t=>A({...x,max:t.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Date de cr√©ation"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:h.from,onChange:t=>U({...h,from:t.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),e.jsx("input",{type:"date",value:h.to,onChange:t=>U({...h,to:t.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]})]})})]})}),e.jsx("div",{className:`rounded-lg ${s?"bg-gray-800":"bg-white"} shadow p-4`,children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Mode d'affichage:"}),e.jsxs("div",{className:"flex rounded-md border border-gray-300",children:[e.jsx("button",{onClick:()=>{J(!1),c(1)},className:`px-4 py-2 text-sm rounded-l-md ${y?"text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700":"bg-indigo-600 text-white"}`,children:"Pagination"}),e.jsx("button",{onClick:()=>{J(!0),O(10)},className:`px-4 py-2 text-sm rounded-r-md ${y?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Charger plus"})]}),e.jsx("span",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:y?`${Math.ceil(N.length/10)} chargement${Math.ceil(N.length/10)>1?"s":""}`:`${n} page${n>1?"s":""}`})]})}),e.jsxs("div",{className:"space-y-4",children:[W.length===0?e.jsxs("div",{className:`rounded-lg ${s?"bg-gray-800":"bg-white"} shadow p-8 text-center`,children:[e.jsx(R,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:`text-lg ${s?"text-gray-400":"text-gray-500"}`,children:b?"Aucun produit trouv√©":"Aucun produit enregistr√©"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:b?"Essayez une recherche diff√©rente":"Commencez par cr√©er votre premier produit"})]}):Y.map(t=>{const r=le.has(t.id);return e.jsx("div",{className:`rounded-lg ${s?"bg-gray-800":"bg-white"} shadow`,children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:`flex justify-between items-start cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors px-4 py-3 -mx-4 -my-3 rounded-lg ${r?"bg-gray-50 dark:bg-gray-700/30":""}`,onClick:a=>{a.target.closest("button")||xe(t.id)},children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[r?e.jsx(z,{className:"h-4 w-4 text-indigo-600"}):e.jsx(fe,{className:"h-4 w-4 text-indigo-600"}),e.jsx(R,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:t.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"}`,children:t.category||"Sans cat√©gorie"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["‚Ç¨",t.price]}),e.jsxs("span",{className:`font-medium ${t.stock<=0?"text-red-600":t.stock<=5?"text-red-500":t.stock<=10?"text-yellow-600":"text-green-600"}`,children:["Stock: ",t.stock,t.stock<=0&&" üõë RUPTURE",t.stock>0&&t.stock<=5&&" ‚ö†Ô∏è CRITIQUE",t.stock>5&&t.stock<=10&&" ‚ö†Ô∏è FAIBLE"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),p({name:t.name,category:t.category||"",price:t.price.toString(),stock:t.stock.toString(),sku:t.sku,description:t.description,imageUrl:t.imageUrl}),S(t.id),V(i=>new Set([...i,t.id]))},className:"p-2 text-gray-400 hover:text-gray-500",title:"Modifier",children:e.jsx(pe,{className:"h-5 w-5"})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),window.confirm("√ätes-vous s√ªr de vouloir supprimer ce produit ?")&&de(t.id)},className:"p-2 text-gray-400 hover:text-red-500",title:"Supprimer",children:e.jsx(je,{className:"h-5 w-5"})})]})]}),r&&e.jsx("div",{className:`mt-4 pt-4 border-t ${s?"border-gray-700":"border-gray-200"}`,children:M===t.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Modifier le produit"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{S(null),p({name:"",category:"",price:"",stock:"",sku:"",description:"",imageUrl:""})},className:"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),e.jsx("button",{type:"button",onClick:()=>{H(t.id,{name:d.name,category:d.category||void 0,price:Number(d.price),stock:Number(d.stock),sku:d.sku,description:d.description,imageUrl:d.imageUrl}),S(null),p({name:"",category:"",price:"",stock:"",sku:"",description:"",imageUrl:""})},className:"px-3 py-1 text-sm text-white bg-indigo-600 hover:bg-indigo-700 rounded-md",children:"Sauvegarder"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"Nom"}),e.jsx("input",{type:"text",value:d.name,onChange:a=>p({...d,name:a.target.value}),className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"Cat√©gorie"}),e.jsxs("select",{value:d.category,onChange:a=>p({...d,category:a.target.value}),className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`,children:[e.jsx("option",{value:"",children:"Aucune cat√©gorie"}),C.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"Prix (‚Ç¨)"}),e.jsx("input",{type:"number",value:d.price,onChange:a=>p({...d,price:a.target.value}),className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"Stock"}),e.jsx("input",{type:"number",value:d.stock,onChange:a=>p({...d,stock:a.target.value}),className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"SKU"}),e.jsx("input",{type:"text",value:d.sku,onChange:a=>p({...d,sku:a.target.value}),className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"URL de l'image"}),e.jsx("input",{type:"url",value:d.imageUrl,onChange:a=>p({...d,imageUrl:a.target.value}),className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"Description"}),e.jsx("textarea",{value:d.description,onChange:a=>p({...d,description:a.target.value}),rows:3,className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden mb-4",children:e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:t.description})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"SKU"}),e.jsx("p",{className:`text-sm font-mono ${s?"text-gray-400":"text-gray-600"}`,children:t.sku})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"Prix de vente"}),e.jsxs("p",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:["‚Ç¨",t.price]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"Stock disponible"}),e.jsxs("p",{className:`text-sm font-medium ${t.stock<=0?"text-red-600":t.stock<=5?"text-red-500":t.stock<=10?"text-yellow-600":"text-green-600"}`,children:[t.stock," unit√©s",t.stock<=0&&" üõë RUPTURE DE STOCK",t.stock>0&&t.stock<=5&&" ‚ö†Ô∏è STOCK CRITIQUE",t.stock>5&&t.stock<=10&&" ‚ö†Ô∏è STOCK FAIBLE",t.stock>10&&" ‚úÖ STOCK NORMAL"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:"Cat√©gorie"}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:t.category||"Aucune cat√©gorie"})]})]})]})})]})},t.id)}),y&&Y.length<N.length&&e.jsx("div",{className:"flex justify-center pt-6",children:e.jsxs("button",{onClick:()=>O(t=>t+10),className:"px-6 py-3 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Charger 10 produits suppl√©mentaires"]})}),!y&&n>1&&e.jsx("div",{className:`rounded-lg ${s?"bg-gray-800":"bg-white"} shadow p-4`,children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:`text-sm ${s?"text-gray-400":"text-gray-600"} text-center lg:text-left`,children:["Affichage de ",Q+1,"-",Math.min(X,N.length)," sur ",N.length," produits"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Par page:"}),e.jsxs("select",{value:E,onChange:t=>{ce(Number(t.target.value)),c(1)},className:`rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`,children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Aller √†:"}),e.jsx("input",{type:"number",min:1,max:n,value:l,onChange:t=>{const r=Number(t.target.value);r>=1&&r<=n&&c(r)},onKeyDown:t=>{if(t.key==="Enter"){const r=Number(t.target.value);r>=1&&r<=n&&c(r)}},className:`w-16 text-center rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${s?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),e.jsxs("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:["/ ",n]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[e.jsx("button",{onClick:()=>c(1),disabled:l===1,className:`px-2 py-2 text-sm rounded-md border ${l===1?"border-gray-300 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,title:"Premi√®re page",children:"‚ü™"}),e.jsx("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l===1,className:`px-3 py-2 text-sm rounded-md border ${l===1?"border-gray-300 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Pr√©c√©dent"}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,n)},(t,r)=>{let a;return n<=5||l<=3?a=r+1:l>=n-2?a=n-4+r:a=l-2+r,e.jsx("button",{onClick:()=>c(a),className:`px-3 py-2 text-sm rounded-md border min-w-[40px] ${l===a?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:a},a)})}),e.jsx("button",{onClick:()=>c(Math.min(n,l+1)),disabled:l===n,className:`px-3 py-2 text-sm rounded-md border ${l===n?"border-gray-300 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Suivant"}),e.jsx("button",{onClick:()=>c(n),disabled:l===n,className:`px-2 py-2 text-sm rounded-md border ${l===n?"border-gray-300 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,title:"Derni√®re page",children:"‚ü´"})]})]})})]})]})]})}export{Ae as default};
