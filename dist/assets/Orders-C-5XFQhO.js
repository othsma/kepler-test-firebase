import{j as e}from"./vendor-pdf-renderer-Bq4DoPCL.js";import{r as n}from"./vendor-react-NkhADs9z.js";import{u as Oe,e as $e,c as Ie,b as Me,U as Fe,i as qe}from"./index-BdcVSwpg.js";import{b as Ae,d as Le,p as de,r as Te,T as ie,m as _e,J as Ue,l as Re,F as Ee}from"./vendor-ui-hUul1yDo.js";import{f as o}from"./vendor-utils-BK9ZHHVQ.js";import"./vendor-firebase-CWMDWzYz.js";import"./vendor-pdf-utils-BfYXEYrK.js";function Ke(){const a=Oe(t=>t.isDarkMode),{orders:le,updateOrderStatus:ce,createOrder:oe,deleteOrder:xe}=$e(),{products:v}=Ie(),{clients:m}=Me(),[k,me]=n.useState("all"),[g,ue]=n.useState(""),[he,R]=n.useState(!1),[E,pe]=n.useState(null),[ge,ye]=n.useState("thermal"),[C,je]=n.useState(!0),[S,Q]=n.useState(!1),[P,B]=n.useState(null),[u,y]=n.useState(""),[h,j]=n.useState(""),[l,x]=n.useState([]),[z,f]=n.useState(""),[c,b]=n.useState(""),[G,D]=n.useState(1),[J,w]=n.useState(""),[O,N]=n.useState(0),[V,H]=n.useState("cash"),[K,$]=n.useState("not_paid"),[p,I]=n.useState(0),[W,M]=n.useState(o(new Date,"yyyy-MM-dd")),[X,F]=n.useState(o(new Date(Date.now()+7*24*60*60*1e3),"yyyy-MM-dd")),[q,A]=n.useState("pending"),[Y,L]=n.useState(""),Z=le.filter(t=>{const s=k==="all"||t.status===k,r=m.find(d=>d.id===t.clientId),i=g?(r==null?void 0:r.name.toLowerCase().includes(g.toLowerCase()))||t.id.toLowerCase().includes(g.toLowerCase()):!0;return s&&i}),ee=m.filter(t=>t.name.toLowerCase().includes(h.toLowerCase())||t.email.toLowerCase().includes(h.toLowerCase())||t.phone.toLowerCase().includes(h.toLowerCase())),te=v.filter(t=>{var s;return t.name.toLowerCase().includes(c.toLowerCase())||((s=t.sku)==null?void 0:s.toLowerCase().includes(c.toLowerCase()))}),fe=t=>{switch(t){case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Pending"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Processing"});case"ready_for_pickup":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:"Ready for Pickup"});case"completed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Completed"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Cancelled"});default:return null}},be=(t,s,r)=>t==="paid"||s>=r?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Paid"}):t==="partially_paid"||s>0&&s<r?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Partially Paid"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Not Paid"}),we=t=>{const s=t.items.map(i=>{const d=v.find(U=>U.id===i.productId);return{id:i.productId,name:(d==null?void 0:d.name)||i.name||"Unknown Product",sku:(d==null?void 0:d.sku)||"N/A",quantity:i.quantity,price:i.price||(d==null?void 0:d.price)||0}}),r=m.find(i=>i.id===t.clientId);return{invoiceNumber:`ORD-${t.id.substring(0,8)}`,date:t.createdAt,customer:r?{name:r.name,email:r.email,address:r.address,phone:r.phone}:void 0,items:s,subtotal:t.total/1.2,tax:t.total-t.total/1.2,total:t.total,paymentMethod:t.paymentMethod||"Card",paymentStatus:t.paymentStatus||(t.status==="completed"?"Paid":"Pending"),note:t.note,amountPaid:t.amountPaid||0}},se=(t,s)=>{const r=we(t);pe(r),ye(s),R(!0)},Ne=t=>{Q(!0),B(t.id);const s=m.find(r=>r.id===t.clientId);if(y(t.clientId||""),j((s==null?void 0:s.name)||""),t.items&&Array.isArray(t.items)){const r=t.items.map(i=>{const d=v.find(U=>U.id===i.productId);return{productId:i.productId,quantity:i.quantity,name:(d==null?void 0:d.name)||i.name||"Unknown Product",description:i.description||(d==null?void 0:d.description)||"",price:i.price||(d==null?void 0:d.price)||0}});x(r)}else x([]);M(t.orderDate||o(new Date(t.createdAt),"yyyy-MM-dd")),F(t.deliveryDate||o(new Date(Date.now()+7*24*60*60*1e3),"yyyy-MM-dd")),H(t.paymentMethod||"cash"),$(t.paymentStatus||"not_paid"),I(t.amountPaid||0),A(t.status||"pending"),L(t.note||""),f(""),b(""),w(""),D(1),N(0)},ve=t=>{window.confirm(`Are you sure you want to delete order #${t.id}?`)&&xe(t.id)},ke=t=>{f(t.id),b(t.name),N(t.price),w(t.description||"")},Ce=()=>{if(!c)return;const t={productId:z||"custom",name:c,description:J,quantity:G,price:O};x([...l,t]),f(""),b(""),w(""),D(1),N(0)},Se=t=>{const s=[...l];s.splice(t,1),x(s)},ae=(t,s)=>{if(s<1)return;const r=[...l];r[t].quantity=s,x(r)},T=()=>l.reduce((t,s)=>t+s.price*s.quantity,0),re=()=>T()*.2,_=()=>T()+re(),Pe=()=>_()-p,De=async()=>{if(!u||l.length===0)return;const t=_(),s={clientId:u,items:l,total:t,status:q,paymentMethod:V,paymentStatus:K,amountPaid:p,orderDate:W,deliveryDate:X,note:Y};S&&P?(await ce(P,q),console.log("Updating order:",P,s)):(await oe(u,t),console.log("Creating order:",s)),ne()},ne=()=>{y(""),j(""),x([]),M(o(new Date,"yyyy-MM-dd")),F(o(new Date(Date.now()+7*24*60*60*1e3),"yyyy-MM-dd")),$("not_paid"),I(0),A("pending"),L(""),Q(!1),B(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:`text-2xl font-semibold ${a?"text-white":"text-gray-900"}`,children:"Orders Management"})}),e.jsxs("div",{className:`rounded-lg ${a?"bg-gray-800":"bg-white"} shadow`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:S?"Edit Order":"New Order"}),e.jsx("button",{onClick:()=>je(!C),className:"text-gray-500 hover:text-gray-700",children:C?e.jsx(Ae,{className:"h-5 w-5"}):e.jsx(Le,{className:"h-5 w-5"})})]}),C&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:`text-md font-medium mb-4 ${a?"text-white":"text-gray-900"}`,children:"Order Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Customer *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:h,onChange:t=>{j(t.target.value),y("")},placeholder:"Search for a customer...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0}),h&&!u&&ee.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto",children:ee.map(t=>e.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{y(t.id),j(t.name)},children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.phone})]},t.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Order Date *"}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"date",value:W,onChange:t=>M(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Delivery Date *"}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"date",value:X,onChange:t=>F(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Order Status *"}),e.jsxs("select",{value:q,onChange:t=>A(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"ready_for_pickup",children:"Ready for Pickup"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Payment Status *"}),e.jsxs("select",{value:K,onChange:t=>$(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"not_paid",children:"Not Paid"}),e.jsx("option",{value:"partially_paid",children:"Partially Paid"}),e.jsx("option",{value:"paid",children:"Paid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Payment Method *"}),e.jsxs("select",{value:V,onChange:t=>H(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Credit Card"}),e.jsx("option",{value:"transfer",children:"Bank Transfer"}),e.jsx("option",{value:"digital",children:"Digital Payment"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Amount Paid"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"$"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:p,onChange:t=>I(parseFloat(t.target.value)||0),className:"pl-8 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Note (Optional)"}),e.jsx("textarea",{value:Y,onChange:t=>L(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:2})]})]}),e.jsx("h3",{className:`text-md font-medium mb-4 ${a?"text-white":"text-gray-900"}`,children:"Order Items"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Product *"}),e.jsx("input",{type:"text",value:c,onChange:t=>{b(t.target.value),f("")},placeholder:"Search for a product...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),c&&!z&&te.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto",children:te.map(t=>e.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>ke(t),children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["$",t.price," - Stock: ",t.stock]})]},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Description"}),e.jsx("input",{type:"text",value:J,onChange:t=>w(t.target.value),placeholder:"Product description...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Quantity *"}),e.jsx("input",{type:"number",min:"1",value:G,onChange:t=>D(parseInt(t.target.value)||1),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"$"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:O,onChange:t=>N(parseFloat(t.target.value)||0),className:"pl-8 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:Ce,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-1",disabled:!c||O<=0,children:[e.jsx(de,{className:"h-4 w-4"}),"Add Item"]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:a?"bg-gray-700":"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Item"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Unit Price"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Line Total"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.length>0?l.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-300",children:t.description}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center text-gray-900 dark:text-white",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("button",{onClick:()=>ae(s,t.quantity-1),className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Te,{className:"h-4 w-4"})}),e.jsx("span",{className:"mx-2",children:t.quantity}),e.jsx("button",{onClick:()=>ae(s,t.quantity+1),className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(de,{className:"h-4 w-4"})})]})}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white",children:["$",t.price.toFixed(2)]}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white",children:["$",(t.price*t.quantity).toFixed(2)]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>Se(s),className:"text-red-600 hover:text-red-900",children:e.jsx(ie,{className:"h-4 w-4"})})})]},s)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:"No items added to this order yet. Use the form above to add items."})})})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("div",{className:"w-64",children:[e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:a?"text-gray-300":"text-gray-600",children:"Subtotal:"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",T().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:a?"text-gray-300":"text-gray-600",children:"Tax (20%):"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",re().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between py-2 font-bold",children:[e.jsx("span",{className:a?"text-white":"text-gray-900",children:"Grand Total:"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",_().toFixed(2)]})]}),p>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:a?"text-gray-300":"text-gray-600",children:"Amount Paid:"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",p.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between py-2 font-bold",children:[e.jsx("span",{className:a?"text-white":"text-gray-900",children:"Remaining:"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",Pe().toFixed(2)]})]})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx("button",{onClick:ne,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:De,disabled:!u||l.length===0,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:S?"Update Order":"Save Order"})]})]})]}),e.jsxs("div",{className:`rounded-lg ${a?"bg-gray-800":"bg-white"} shadow p-6`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:"All Orders"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search orders...",value:g,onChange:t=>ue(t.target.value),className:"pl-10 pr-4 py-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),e.jsxs("select",{value:k,onChange:t=>me(t.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"ready_for_pickup",children:"Ready for Pickup"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:a?"bg-gray-700":"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Order #"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:`divide-y divide-gray-200 dark:divide-gray-700 ${a?"bg-gray-800":"bg-white"}`,children:Z.length>0?Z.map(t=>{const s=m.find(r=>r.id===t.clientId);return e.jsxs("tr",{className:`hover:${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:["#",t.id.substring(0,8)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:(s==null?void 0:s.name)||"Unknown Client"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:o(new Date(t.createdAt),"MM/dd/yyyy")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:fe(t.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[be(t.paymentStatus||"not_paid",t.amountPaid||0,t.total),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.paymentMethod||"Cash"})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white",children:["$",t.total.toFixed(2),t.amountPaid>0&&t.amountPaid<t.total&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Paid: $",t.amountPaid.toFixed(2)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx("button",{onClick:()=>Ne(t),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:e.jsx(Ue,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>se(t,"thermal"),className:"text-green-600 hover:text-green-900",title:"Print Receipt",children:e.jsx(Re,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>se(t,"a4"),className:"text-indigo-600 hover:text-indigo-900",title:"A4 Invoice",children:e.jsx(Ee,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>ve(t),className:"text-red-600 hover:text-red-900",title:"Delete",children:e.jsx(ie,{className:"h-5 w-5"})})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No orders found"})})})]})})]}),he&&E&&e.jsx(Fe,{data:qe(E),onClose:()=>R(!1),initialFormat:ge})]})}export{Ke as default};
