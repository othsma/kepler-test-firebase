import{j as e}from"./vendor-pdf-renderer-Bq4DoPCL.js";import{r as n}from"./vendor-react-NkhADs9z.js";import{u as Oe,e as $e,c as Ie,b as Me,U as Fe,i as qe}from"./index-Ch0YRXgd.js";import{b as Ae,d as Le,p as ne,r as Te,T as de,m as _e,J as Ue,l as Re,F as Ee}from"./vendor-ui-hUul1yDo.js";import{f as o}from"./vendor-utils-BK9ZHHVQ.js";import"./vendor-firebase-CWMDWzYz.js";import"./vendor-pdf-utils-BfYXEYrK.js";function Ke(){const a=Oe(t=>t.isDarkMode),{orders:ie,updateOrderStatus:le,createOrder:ce,deleteOrder:oe}=$e(),{products:k}=Ie(),{clients:m}=Me(),[C,xe]=n.useState("all"),[y,me]=n.useState(""),[ue,U]=n.useState(!1),[R,he]=n.useState(null),[pe,ge]=n.useState("thermal"),[S,ye]=n.useState(!0),[P,E]=n.useState(!1),[D,Q]=n.useState(null),[u,j]=n.useState(""),[h,f]=n.useState(""),[l,x]=n.useState([]),[B,b]=n.useState(""),[c,w]=n.useState(""),[z,O]=n.useState(1),[G,N]=n.useState(""),[$,v]=n.useState(0),[J,V]=n.useState("cash"),[H,I]=n.useState("not_paid"),[p,M]=n.useState(0),[K,F]=n.useState(o(new Date,"yyyy-MM-dd")),[W,q]=n.useState(o(new Date(Date.now()+7*24*60*60*1e3),"yyyy-MM-dd")),[A,L]=n.useState("pending"),[X,T]=n.useState(""),Y=ie.filter(t=>{const s=C==="all"||t.status===C,r=m.find(d=>d.id===t.clientId),i=y?(r==null?void 0:r.name.toLowerCase().includes(y.toLowerCase()))||t.id.toLowerCase().includes(y.toLowerCase()):!0;return s&&i}),Z=m.filter(t=>t.name.toLowerCase().includes(h.toLowerCase())||t.email.toLowerCase().includes(h.toLowerCase())||t.phone.toLowerCase().includes(h.toLowerCase())),ee=k.filter(t=>{var s;return t.name.toLowerCase().includes(c.toLowerCase())||((s=t.sku)==null?void 0:s.toLowerCase().includes(c.toLowerCase()))}),je=t=>{switch(t){case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Pending"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Processing"});case"ready_for_pickup":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:"Ready for Pickup"});case"completed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Completed"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Cancelled"});default:return null}},fe=(t,s,r)=>t==="paid"||s>=r?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Paid"}):t==="partially_paid"||s>0&&s<r?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Partially Paid"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Not Paid"}),be=t=>{const s=t.items.map(i=>{const d=k.find(_=>_.id===i.productId);return{id:i.productId,name:(d==null?void 0:d.name)||i.name||"Unknown Product",sku:(d==null?void 0:d.sku)||"N/A",quantity:i.quantity,price:i.price||(d==null?void 0:d.price)||0}}),r=m.find(i=>i.id===t.clientId);return{invoiceNumber:`ORD-${t.id.substring(0,8)}`,date:t.createdAt,customer:r?{name:r.name,email:r.email,address:r.address,phone:r.phone}:void 0,items:s,subtotal:t.total/1.2,tax:t.total-t.total/1.2,total:t.total,paymentMethod:t.paymentMethod||"Card",paymentStatus:t.paymentStatus||(t.status==="completed"?"Paid":"Pending"),note:t.note,amountPaid:t.amountPaid||0}},te=(t,s)=>{const r=be(t);he(r),ge(s),U(!0)},we=t=>{E(!0),Q(t.id);const s=m.find(r=>r.id===t.clientId);if(j(t.clientId||""),f((s==null?void 0:s.name)||""),t.items&&Array.isArray(t.items)){const r=t.items.map(i=>{const d=k.find(_=>_.id===i.productId);return{productId:i.productId,quantity:i.quantity,name:(d==null?void 0:d.name)||i.name||"Unknown Product",description:i.description||(d==null?void 0:d.description)||"",price:i.price||(d==null?void 0:d.price)||0}});x(r)}else x([]);F(t.orderDate||o(new Date(t.createdAt),"yyyy-MM-dd")),q(t.deliveryDate||o(new Date(Date.now()+7*24*60*60*1e3),"yyyy-MM-dd")),V(t.paymentMethod||"cash"),I(t.paymentStatus||"not_paid"),M(t.amountPaid||0),L(t.status||"pending"),T(t.note||""),b(""),w(""),N(""),O(1),v(0)},Ne=t=>{window.confirm(`Are you sure you want to delete order #${t.id}?`)&&oe(t.id)},ve=t=>{b(t.id),w(t.name),v(t.price),N(t.description||"")},ke=()=>{if(!c)return;const t={productId:B||"custom",name:c,description:G,quantity:z,price:$};x([...l,t]),b(""),w(""),N(""),O(1),v(0)},Ce=t=>{const s=[...l];s.splice(t,1),x(s)},se=(t,s)=>{if(s<1)return;const r=[...l];r[t].quantity=s,x(r)},g=()=>l.reduce((t,s)=>t+s.price*s.quantity,0),ae=()=>g()*(.2/1.2),Se=()=>g()-ae(),Pe=()=>g()-p,De=async()=>{if(!u||l.length===0)return;const t=g(),s={clientId:u,items:l,total:t,status:A,paymentMethod:J,paymentStatus:H,amountPaid:p,orderDate:K,deliveryDate:W,note:X};P&&D?(await le(D,A),console.log("Updating order:",D,s)):(await ce(u,t),console.log("Creating order:",s)),re()},re=()=>{j(""),f(""),x([]),F(o(new Date,"yyyy-MM-dd")),q(o(new Date(Date.now()+7*24*60*60*1e3),"yyyy-MM-dd")),I("not_paid"),M(0),L("pending"),T(""),E(!1),Q(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h1",{className:`text-2xl font-semibold ${a?"text-white":"text-gray-900"}`,children:"Orders Management"})}),e.jsxs("div",{className:`rounded-lg ${a?"bg-gray-800":"bg-white"} shadow`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[e.jsx("h2",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:P?"Edit Order":"New Order"}),e.jsx("button",{onClick:()=>ye(!S),className:"text-gray-500 hover:text-gray-700",children:S?e.jsx(Ae,{className:"h-5 w-5"}):e.jsx(Le,{className:"h-5 w-5"})})]}),S&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:`text-md font-medium mb-4 ${a?"text-white":"text-gray-900"}`,children:"Order Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Customer *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:h,onChange:t=>{f(t.target.value),j("")},placeholder:"Search for a customer...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0}),h&&!u&&Z.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto",children:Z.map(t=>e.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{j(t.id),f(t.name)},children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.phone})]},t.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Order Date *"}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"date",value:K,onChange:t=>F(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Delivery Date *"}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"date",value:W,onChange:t=>q(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Order Status *"}),e.jsxs("select",{value:A,onChange:t=>L(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"ready_for_pickup",children:"Ready for Pickup"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Payment Status *"}),e.jsxs("select",{value:H,onChange:t=>I(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"not_paid",children:"Not Paid"}),e.jsx("option",{value:"partially_paid",children:"Partially Paid"}),e.jsx("option",{value:"paid",children:"Paid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Payment Method *"}),e.jsxs("select",{value:J,onChange:t=>V(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Credit Card"}),e.jsx("option",{value:"transfer",children:"Bank Transfer"}),e.jsx("option",{value:"digital",children:"Digital Payment"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Amount Paid"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"€"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:p,onChange:t=>M(parseFloat(t.target.value)||0),className:"pl-8 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Note (Optional)"}),e.jsx("textarea",{value:X,onChange:t=>T(t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:2})]})]}),e.jsx("h3",{className:`text-md font-medium mb-4 ${a?"text-white":"text-gray-900"}`,children:"Order Items"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Product *"}),e.jsx("input",{type:"text",value:c,onChange:t=>{w(t.target.value),b("")},placeholder:"Search for a product...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),c&&!B&&ee.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto",children:ee.map(t=>e.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>ve(t),children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["€",t.price," - Stock: ",t.stock]})]},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Description"}),e.jsx("input",{type:"text",value:G,onChange:t=>N(t.target.value),placeholder:"Product description...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Quantity *"}),e.jsx("input",{type:"number",min:"1",value:z,onChange:t=>O(parseInt(t.target.value)||1),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"$"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:$,onChange:t=>v(parseFloat(t.target.value)||0),className:"pl-8 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:ke,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center gap-1",disabled:!c||$<=0,children:[e.jsx(ne,{className:"h-4 w-4"}),"Add Item"]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:a?"bg-gray-700":"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Item"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Unit Price"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Line Total"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.length>0?l.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:t.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-300",children:t.description}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center text-gray-900 dark:text-white",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("button",{onClick:()=>se(s,t.quantity-1),className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(Te,{className:"h-4 w-4"})}),e.jsx("span",{className:"mx-2",children:t.quantity}),e.jsx("button",{onClick:()=>se(s,t.quantity+1),className:"p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(ne,{className:"h-4 w-4"})})]})}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white",children:["€",t.price.toFixed(2)]}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white",children:["$",(t.price*t.quantity).toFixed(2)]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>Ce(s),className:"text-red-600 hover:text-red-900",children:e.jsx(de,{className:"h-4 w-4"})})})]},s)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-3 text-center text-sm text-gray-500 dark:text-gray-400",children:"No items added to this order yet. Use the form above to add items."})})})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("div",{className:"w-64",children:[e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:a?"text-gray-300":"text-gray-600",children:"Subtotal:"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",Se().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:a?"text-gray-300":"text-gray-600",children:"Tax (20%):"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",ae().toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between py-2 font-bold",children:[e.jsx("span",{className:a?"text-white":"text-gray-900",children:"Grand Total:"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",g().toFixed(2)]})]}),p>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:a?"text-gray-300":"text-gray-600",children:"Amount Paid:"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",p.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between py-2 font-bold",children:[e.jsx("span",{className:a?"text-white":"text-gray-900",children:"Remaining:"}),e.jsxs("span",{className:a?"text-white":"text-gray-900",children:["$",Pe().toFixed(2)]})]})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx("button",{onClick:re,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:De,disabled:!u||l.length===0,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:P?"Update Order":"Save Order"})]})]})]}),e.jsxs("div",{className:`rounded-lg ${a?"bg-gray-800":"bg-white"} shadow p-6`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:"All Orders"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search orders...",value:y,onChange:t=>me(t.target.value),className:"pl-10 pr-4 py-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),e.jsxs("select",{value:C,onChange:t=>xe(t.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"ready_for_pickup",children:"Ready for Pickup"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:a?"bg-gray-700":"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Order #"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:`divide-y divide-gray-200 dark:divide-gray-700 ${a?"bg-gray-800":"bg-white"}`,children:Y.length>0?Y.map(t=>{const s=m.find(r=>r.id===t.clientId);return e.jsxs("tr",{className:`hover:${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:["#",t.id.substring(0,8)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:(s==null?void 0:s.name)||"Unknown Client"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:o(new Date(t.createdAt),"MM/dd/yyyy")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:je(t.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[fe(t.paymentStatus||"not_paid",t.amountPaid||0,t.total),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.paymentMethod||"Cash"})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white",children:["$",t.total.toFixed(2),t.amountPaid>0&&t.amountPaid<t.total&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Paid: $",t.amountPaid.toFixed(2)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx("button",{onClick:()=>we(t),className:"text-blue-600 hover:text-blue-900",title:"Edit",children:e.jsx(Ue,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>te(t,"thermal"),className:"text-green-600 hover:text-green-900",title:"Print Receipt",children:e.jsx(Re,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>te(t,"a4"),className:"text-indigo-600 hover:text-indigo-900",title:"A4 Invoice",children:e.jsx(Ee,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>Ne(t),className:"text-red-600 hover:text-red-900",title:"Delete",children:e.jsx(de,{className:"h-5 w-5"})})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No orders found"})})})]})})]}),ue&&R&&e.jsx(Fe,{data:qe(R),onClose:()=>U(!1),initialFormat:pe})]})}export{Ke as default};
