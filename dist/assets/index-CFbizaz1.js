const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-pdf-renderer-DliE_hgd.js","assets/vendor-react-Bpbu6kUi.js","assets/vendor-firebase-CP8F7PJ2.js","assets/Dashboard-DFTq6Pyf.js","assets/vendor-ui-Dxk9kMFY.js","assets/vendor-utils-CAoL40rE.js","assets/vendor-charts-CYlQ0ZPV.js","assets/vendor-pdf-utils-CBrSDip1.js","assets/Clients-DAfUQ766.js","assets/SimpleTickets-C4PPd5p1.js","assets/Products-DGY0j6Qr.js","assets/Quotes-DQUed70B.js","assets/Settings-BoT7MEF8.js","assets/Login-bfQm_G3m.js","assets/authHelpers-Dn2iSpBZ.js","assets/Register-JjNZNMVb.js","assets/ForgotPassword-ChSVafiJ.js","assets/Profile-DaTmV135.js","assets/UserManagement-Dmalr_Gz.js","assets/CustomerLogin-BrUjAeFl.js","assets/CustomerRegister-XGeXgRlb.js","assets/CustomerForgotPassword-BbBQ0t8V.js","assets/CustomerDashboard-DWksSNYm.js","assets/CustomerProfile-DiPj9-sD.js","assets/NotificationHistory-B7jknZvE.js"])))=>i.map(i=>d[i]);
import{j as s,D as Qg,P as Gg,V as de,T as k,S as Yg}from"./vendor-pdf-renderer-DliE_hgd.js";import{r as D,a as Xg,N as fu,L as nf,d as Rt,O as lf,B as Zg,f as Kg,h as Ae}from"./vendor-react-Bpbu6kUi.js";import{i as $g,g as Jg,a as sf,b as Fg,c as Qo,u as Ss,s as Dt,d as L,e as Fa,f as Jl,h as Ig,j as Wg,k as Pg,q as pe,l as H,w as xe,m as I,n as e0,o as Et,p as We,r as Ce,t as gt,v as Qc,x as Vi,y as Qi,C as Gi,z as Go,E as cf,F as t0,A as Yo,B as a0,D as n0,G as l0,H as Xo,I as i0,J as Ws,K as s0,L as c0,M as mu,N as hu,O as o0}from"./vendor-firebase-CP8F7PJ2.js";import{c as Ct,f as Ht}from"./vendor-utils-CAoL40rE.js";import{W as r0,C as u0,a as d0,b as f0,d as Gc,L as m0,U as h0,P as g0,S as of,e as y0,f as p0,g as x0,M as b0,q as sl,h as rf,i as uf,j as gu,B as cl,k as v0,F as Ns,R as df,D as S0,l as N0,m as ff,X as j0,u as w0,n as yu,A as T0,o as A0,p as pu,r as Ps,T as E0,s as D0,t as C0,v as M0,w as O0}from"./vendor-ui-Dxk9kMFY.js";import ui from"./vendor-pdf-utils-CBrSDip1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=a(l);fetch(l.href,i)}})();var mf={exports:{}},js={},hf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,_){var U=A.length;A.push(_);e:for(;0<U;){var te=U-1>>>1,F=A[te];if(0<l(F,_))A[te]=_,A[U]=F,U=te;else break e}}function a(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var _=A[0],U=A.pop();if(U!==_){A[0]=U;e:for(var te=0,F=A.length,ae=F>>>1;te<ae;){var Y=2*(te+1)-1,_e=A[Y],Xe=Y+1,nt=A[Xe];if(0>l(_e,U))Xe<F&&0>l(nt,_e)?(A[te]=nt,A[Xe]=U,te=Xe):(A[te]=_e,A[Y]=U,te=Y);else if(Xe<F&&0>l(nt,U))A[te]=nt,A[Xe]=U,te=Xe;else break e}}return _}function l(A,_){var U=A.sortIndex-_.sortIndex;return U!==0?U:A.id-_.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,o=c.now();e.unstable_now=function(){return c.now()-o}}var r=[],u=[],f=1,p=null,h=3,m=!1,v=!1,S=!1,M=!1,g=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(A){for(var _=a(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=A)n(u),_.sortIndex=_.expirationTime,t(r,_);else break;_=a(u)}}function E(A){if(S=!1,b(A),!v)if(a(r)!==null)v=!0,z||(z=!0,ee());else{var _=a(u);_!==null&&Ye(E,_.startTime-A)}}var z=!1,w=-1,R=5,T=-1;function C(){return M?!0:!(e.unstable_now()-T<R)}function q(){if(M=!1,z){var A=e.unstable_now();T=A;var _=!0;try{e:{v=!1,S&&(S=!1,d(w),w=-1),m=!0;var U=h;try{t:{for(b(A),p=a(r);p!==null&&!(p.expirationTime>A&&C());){var te=p.callback;if(typeof te=="function"){p.callback=null,h=p.priorityLevel;var F=te(p.expirationTime<=A);if(A=e.unstable_now(),typeof F=="function"){p.callback=F,b(A),_=!0;break t}p===a(r)&&n(r),b(A)}else n(r);p=a(r)}if(p!==null)_=!0;else{var ae=a(u);ae!==null&&Ye(E,ae.startTime-A),_=!1}}break e}finally{p=null,h=U,m=!1}_=void 0}}finally{_?ee():z=!1}}}var ee;if(typeof y=="function")ee=function(){y(q)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ze=ce.port2;ce.port1.onmessage=q,ee=function(){ze.postMessage(null)}}else ee=function(){g(q,0)};function Ye(A,_){w=g(function(){A(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var U=h;h=_;try{return A()}finally{h=U}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(A,_){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=h;h=A;try{return _()}finally{h=U}},e.unstable_scheduleCallback=function(A,_,U){var te=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?te+U:te):U=te,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,A={id:f++,callback:_,priorityLevel:A,startTime:U,expirationTime:F,sortIndex:-1},U>te?(A.sortIndex=U,t(u,A),a(r)===null&&A===a(u)&&(S?(d(w),w=-1):S=!0,Ye(E,U-te))):(A.sortIndex=F,t(r,A),v||m||(v=!0,z||(z=!0,ee()))),A},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(A){var _=h;return function(){var U=h;h=_;try{return A.apply(this,arguments)}finally{h=U}}}})(gf);hf.exports=gf;var z0=hf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue=z0,yf=D,_0=Xg;function N(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fl(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function xf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bf(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xu(e){if(Fl(e)!==e)throw Error(N(188))}function R0(e){var t=e.alternate;if(!t){if(t=Fl(e),t===null)throw Error(N(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return xu(l),e;if(i===n)return xu(l),t;i=i.sibling}throw Error(N(188))}if(a.return!==n.return)a=l,n=i;else{for(var c=!1,o=l.child;o;){if(o===a){c=!0,a=l,n=i;break}if(o===n){c=!0,n=l,a=i;break}o=o.sibling}if(!c){for(o=i.child;o;){if(o===a){c=!0,a=i,n=l;break}if(o===n){c=!0,n=i,a=l;break}o=o.sibling}if(!c)throw Error(N(189))}}if(a.alternate!==n)throw Error(N(190))}if(a.tag!==3)throw Error(N(188));return a.stateNode.current===a?e:t}function vf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=vf(e),t!==null)return t;e=e.sibling}return null}var ge=Object.assign,U0=Symbol.for("react.element"),di=Symbol.for("react.transitional.element"),gl=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),Nf=Symbol.for("react.consumer"),It=Symbol.for("react.context"),Zo=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),Ko=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),Kc=Symbol.for("react.activity"),q0=Symbol.for("react.memo_cache_sentinel"),bu=Symbol.iterator;function ol(e){return e===null||typeof e!="object"?null:(e=bu&&e[bu]||e["@@iterator"],typeof e=="function"?e:null)}var k0=Symbol.for("react.client.reference");function $c(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pn:return"Fragment";case Yc:return"Profiler";case Sf:return"StrictMode";case Xc:return"Suspense";case Zc:return"SuspenseList";case Kc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case gl:return"Portal";case It:return e.displayName||"Context";case Nf:return(e._context.displayName||"Context")+".Consumer";case Zo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ko:return t=e.displayName||null,t!==null?t:$c(e.type)||"Memo";case da:t=e._payload,e=e._init;try{return $c(e(t))}catch{}}return null}var yl=Array.isArray,V=yf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=_0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xa={pending:!1,data:null,method:null,action:null},Jc=[],xn=-1;function Bt(e){return{current:e}}function He(e){0>xn||(e.current=Jc[xn],Jc[xn]=null,xn--)}function ue(e,t){xn++,Jc[xn]=e.current,e.current=t}var Lt=Bt(null),_l=Bt(null),Na=Bt(null),Yi=Bt(null);function Xi(e,t){switch(ue(Na,t),ue(_l,e),ue(Lt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Td(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Td(t),e=Qh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}He(Lt),ue(Lt,e)}function qn(){He(Lt),He(_l),He(Na)}function Fc(e){e.memoizedState!==null&&ue(Yi,e);var t=Lt.current,a=Qh(t,e.type);t!==a&&(ue(_l,e),ue(Lt,a))}function Zi(e){_l.current===e&&(He(Lt),He(_l)),Yi.current===e&&(He(Yi),Yl._currentValue=Xa)}var ec,vu;function Ba(e){if(ec===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ec=t&&t[1]||"",vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ec+e+vu}var tc=!1;function ac(e,t){if(!e||tc)return"";tc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(m){var h=m}Reflect.construct(e,[],p)}else{try{p.call()}catch(m){h=m}e.call(p.prototype)}}else{try{throw Error()}catch(m){h=m}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),c=i[0],o=i[1];if(c&&o){var r=c.split(`
`),u=o.split(`
`);for(l=n=0;n<r.length&&!r[n].includes("DetermineComponentFrameRoot");)n++;for(;l<u.length&&!u[l].includes("DetermineComponentFrameRoot");)l++;if(n===r.length||l===u.length)for(n=r.length-1,l=u.length-1;1<=n&&0<=l&&r[n]!==u[l];)l--;for(;1<=n&&0<=l;n--,l--)if(r[n]!==u[l]){if(n!==1||l!==1)do if(n--,l--,0>l||r[n]!==u[l]){var f=`
`+r[n].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=n&&0<=l);break}}}finally{tc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ba(a):""}function H0(e,t){switch(e.tag){case 26:case 27:case 5:return Ba(e.type);case 16:return Ba("Lazy");case 13:return e.child!==t&&t!==null?Ba("Suspense Fallback"):Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 15:return ac(e.type,!1);case 11:return ac(e.type.render,!1);case 1:return ac(e.type,!0);case 31:return Ba("Activity");default:return""}}function Su(e){try{var t="",a=null;do t+=H0(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Ic=Object.prototype.hasOwnProperty,$o=Ue.unstable_scheduleCallback,nc=Ue.unstable_cancelCallback,L0=Ue.unstable_shouldYield,B0=Ue.unstable_requestPaint,ot=Ue.unstable_now,V0=Ue.unstable_getCurrentPriorityLevel,jf=Ue.unstable_ImmediatePriority,wf=Ue.unstable_UserBlockingPriority,Ki=Ue.unstable_NormalPriority,Q0=Ue.unstable_LowPriority,Tf=Ue.unstable_IdlePriority,G0=Ue.log,Y0=Ue.unstable_setDisableYieldValue,Il=null,rt=null;function pa(e){if(typeof G0=="function"&&Y0(e),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Il,e)}catch{}}var ut=Math.clz32?Math.clz32:K0,X0=Math.log,Z0=Math.LN2;function K0(e){return e>>>=0,e===0?32:31-(X0(e)/Z0|0)|0}var fi=256,mi=262144,hi=4194304;function Va(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ws(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?l=Va(n):(c&=o,c!==0?l=Va(c):a||(a=o&~e,a!==0&&(l=Va(a))))):(o=n&~i,o!==0?l=Va(o):c!==0?l=Va(c):a||(a=n&~e,a!==0&&(l=Va(a)))),l===0?0:t!==0&&t!==l&&!(t&i)&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function Wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(){var e=hi;return hi<<=1,!(hi&62914560)&&(hi=4194304),e}function lc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function J0(e,t,a,n,l,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,r=e.expirationTimes,u=e.hiddenUpdates;for(a=c&~a;0<a;){var f=31-ut(a),p=1<<f;o[f]=0,r[f]=-1;var h=u[f];if(h!==null)for(u[f]=null,f=0;f<h.length;f++){var m=h[f];m!==null&&(m.lane&=-536870913)}a&=~p}n!==0&&Ef(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Ef(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ut(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Df(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ut(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function Cf(e,t){var a=t&-t;return a=a&42?1:Jo(a),a&(e.suspendedLanes|t)?0:a}function Jo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fo(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Mf(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Ph(e.type))}function Nu(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var Ua=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ua,et="__reactProps$"+Ua,$n="__reactContainer$"+Ua,Wc="__reactEvents$"+Ua,F0="__reactListeners$"+Ua,I0="__reactHandles$"+Ua,ju="__reactResources$"+Ua,ei="__reactMarker$"+Ua;function Io(e){delete e[Be],delete e[et],delete e[Wc],delete e[F0],delete e[I0]}function bn(e){var t=e[Be];if(t)return t;for(var a=e.parentNode;a;){if(t=a[$n]||a[Be]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Md(e);e!==null;){if(a=e[Be])return a;e=Md(e)}return t}e=a,a=e.parentNode}return null}function Jn(e){if(e=e[Be]||e[$n]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(N(33))}function Cn(e){var t=e[ju];return t||(t=e[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ke(e){e[ei]=!0}var Of=new Set,zf={};function ln(e,t){kn(e,t),kn(e+"Capture",t)}function kn(e,t){for(zf[e]=t,e=0;e<t.length;e++)Of.add(t[e])}var W0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},Tu={};function P0(e){return Ic.call(Tu,e)?!0:Ic.call(wu,e)?!1:W0.test(e)?Tu[e]=!0:(wu[e]=!0,!1)}function Ai(e,t,a){if(P0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function gi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Gt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _f(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ey(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pc(e){if(!e._valueTracker){var t=_f(e)?"checked":"value";e._valueTracker=ey(e,t,""+e[t])}}function Rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=_f(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ty=/[\n"\\]/g;function bt(e){return e.replace(ty,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function eo(e,t,a,n,l,i,c,o){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yt(t)):e.value!==""+yt(t)&&(e.value=""+yt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?to(e,c,yt(t)):a!=null?to(e,c,yt(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+yt(o):e.removeAttribute("name")}function Uf(e,t,a,n,l,i,c,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Pc(e);return}a=a!=null?""+yt(a):"",t=t!=null?""+yt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),Pc(e)}function to(e,t,a){t==="number"&&$i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Mn(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+yt(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qf(e,t,a){if(t!=null&&(t=""+yt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+yt(a):""}function kf(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(N(92));if(yl(n)){if(1<n.length)throw Error(N(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=yt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Pc(e)}function Hn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ay=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||ay.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Hf(e,t,a){if(t!=null&&typeof t!="object")throw Error(N(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&Au(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&Au(e,i,t[i])}function Wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ei(e){return ly.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var ao=null;function Po(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vn=null,On=null;function Eu(e){var t=Jn(e);if(t&&(e=t.stateNode)){var a=e[et]||null;e:switch(e=t.stateNode,t.type){case"input":if(eo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[et]||null;if(!l)throw Error(N(90));eo(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Rf(n)}break e;case"textarea":qf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Mn(e,!!a.multiple,t,!1)}}}var ic=!1;function Lf(e,t,a){if(ic)return e(t,a);ic=!0;try{var n=e(t);return n}finally{if(ic=!1,(vn!==null||On!==null)&&(qs(),vn&&(t=vn,e=On,On=vn=null,Eu(t),e)))for(t=0;t<e.length;t++)Eu(e[t])}}function Rl(e,t){var a=e.stateNode;if(a===null)return null;var n=a[et]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(N(231,t,typeof a));return a}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(na)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){no=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{no=!1}var xa=null,er=null,Di=null;function Bf(){if(Di)return Di;var e,t=er,a=t.length,n,l="value"in xa?xa.value:xa.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var c=a-e;for(n=1;n<=c&&t[a-n]===l[i-n];n++);return Di=l.slice(e,1<n?1-n:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function Du(){return!1}function at(e){function t(a,n,l,i,c){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yi:Du,this.isPropagationStopped=Du,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=at(sn),ti=ge({},sn,{view:0,detail:0}),iy=at(ti),sc,cc,ul,As=ge({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?(sc=e.screenX-ul.screenX,cc=e.screenY-ul.screenY):cc=sc=0,ul=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:cc}}),Cu=at(As),sy=ge({},As,{dataTransfer:0}),cy=at(sy),oy=ge({},ti,{relatedTarget:0}),oc=at(oy),ry=ge({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),uy=at(ry),dy=ge({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fy=at(dy),my=ge({},sn,{data:0}),Mu=at(my),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function py(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yy[e])?!!t[e]:!1}function tr(){return py}var xy=ge({},ti,{key:function(e){if(e.key){var t=hy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),by=at(xy),vy=ge({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=at(vy),Sy=ge({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),Ny=at(Sy),jy=ge({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wy=at(jy),Ty=ge({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ay=at(Ty),Ey=ge({},sn,{newState:0,oldState:0}),Dy=at(Ey),Cy=[9,13,27,32],ar=na&&"CompositionEvent"in window,vl=null;na&&"documentMode"in document&&(vl=document.documentMode);var My=na&&"TextEvent"in window&&!vl,Vf=na&&(!ar||vl&&8<vl&&11>=vl),zu=" ",_u=!1;function Qf(e,t){switch(e){case"keyup":return Cy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function Oy(e,t){switch(e){case"compositionend":return Gf(t);case"keypress":return t.which!==32?null:(_u=!0,zu);case"textInput":return e=t.data,e===zu&&_u?null:e;default:return null}}function zy(e,t){if(Sn)return e==="compositionend"||!ar&&Qf(e,t)?(e=Bf(),Di=er=xa=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vf&&t.locale!=="ko"?null:t.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_y[e.type]:t==="textarea"}function Yf(e,t,a,n){vn?On?On.push(n):On=[n]:vn=n,t=fs(t,"onChange"),0<t.length&&(a=new Ts("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Sl=null,Ul=null;function Ry(e){Lh(e,0)}function Es(e){var t=pl(e);if(Rf(t))return e}function Uu(e,t){if(e==="change")return t}var Xf=!1;if(na){var rc;if(na){var uc="oninput"in document;if(!uc){var qu=document.createElement("div");qu.setAttribute("oninput","return;"),uc=typeof qu.oninput=="function"}rc=uc}else rc=!1;Xf=rc&&(!document.documentMode||9<document.documentMode)}function ku(){Sl&&(Sl.detachEvent("onpropertychange",Zf),Ul=Sl=null)}function Zf(e){if(e.propertyName==="value"&&Es(Ul)){var t=[];Yf(t,Ul,e,Po(e)),Lf(Ry,t)}}function Uy(e,t,a){e==="focusin"?(ku(),Sl=t,Ul=a,Sl.attachEvent("onpropertychange",Zf)):e==="focusout"&&ku()}function qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(Ul)}function ky(e,t){if(e==="click")return Es(t)}function Hy(e,t){if(e==="input"||e==="change")return Es(t)}function Ly(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:Ly;function ql(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!Ic.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,t){var a=Hu(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hu(a)}}function Kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $f(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$i(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=$i(e.document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var By=na&&"documentMode"in document&&11>=document.documentMode,Nn=null,lo=null,Nl=null,io=!1;function Bu(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;io||Nn==null||Nn!==$i(n)||(n=Nn,"selectionStart"in n&&nr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nl&&ql(Nl,n)||(Nl=n,n=fs(lo,"onSelect"),0<n.length&&(t=new Ts("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Nn)))}function La(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var jn={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},dc={},Jf={};na&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function cn(e){if(dc[e])return dc[e];if(!jn[e])return e;var t=jn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Jf)return dc[e]=t[a];return e}var Ff=cn("animationend"),If=cn("animationiteration"),Wf=cn("animationstart"),Vy=cn("transitionrun"),Qy=cn("transitionstart"),Gy=cn("transitioncancel"),Pf=cn("transitionend"),em=new Map,so="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");so.push("scrollEnd");function Mt(e,t){em.set(e,t),ln(t,[e])}var Ji=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ht=[],wn=0,lr=0;function Ds(){for(var e=wn,t=lr=wn=0;t<e;){var a=ht[t];ht[t++]=null;var n=ht[t];ht[t++]=null;var l=ht[t];ht[t++]=null;var i=ht[t];if(ht[t++]=null,n!==null&&l!==null){var c=n.pending;c===null?l.next=l:(l.next=c.next,c.next=l),n.pending=l}i!==0&&tm(a,l,i)}}function Cs(e,t,a,n){ht[wn++]=e,ht[wn++]=t,ht[wn++]=a,ht[wn++]=n,lr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function ir(e,t,a,n){return Cs(e,t,a,n),Fi(e)}function on(e,t){return Cs(e,null,null,t),Fi(e)}function tm(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-ut(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function Fi(e){if(50<Ol)throw Ol=0,Do=null,Error(N(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Tn={};function Yy(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,a,n){return new Yy(e,t,a,n)}function sr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ea(e,t){var a=e.alternate;return a===null?(a=st(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function am(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mi(e,t,a,n,l,i){var c=0;if(n=e,typeof e=="function")sr(e)&&(c=1);else if(typeof e=="string")c=Jp(e,a,Lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Kc:return e=st(31,a,t,l),e.elementType=Kc,e.lanes=i,e;case pn:return Za(a.children,l,i,t);case Sf:c=8,l|=24;break;case Yc:return e=st(12,a,t,l|2),e.elementType=Yc,e.lanes=i,e;case Xc:return e=st(13,a,t,l),e.elementType=Xc,e.lanes=i,e;case Zc:return e=st(19,a,t,l),e.elementType=Zc,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case It:c=10;break e;case Nf:c=9;break e;case Zo:c=11;break e;case Ko:c=14;break e;case da:c=16,n=null;break e}c=29,a=Error(N(130,e===null?"null":typeof e,"")),n=null}return t=st(c,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function Za(e,t,a,n){return e=st(7,e,n,t),e.lanes=a,e}function fc(e,t,a){return e=st(6,e,null,t),e.lanes=a,e}function nm(e){var t=st(18,null,null,0);return t.stateNode=e,t}function mc(e,t,a){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vu=new WeakMap;function vt(e,t){if(typeof e=="object"&&e!==null){var a=Vu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Su(t)},Vu.set(e,t),t)}return{value:e,source:t,stack:Su(t)}}var An=[],En=0,Ii=null,kl=0,pt=[],xt=0,Oa=null,Ut=1,qt="";function Jt(e,t){An[En++]=kl,An[En++]=Ii,Ii=e,kl=t}function lm(e,t,a){pt[xt++]=Ut,pt[xt++]=qt,pt[xt++]=Oa,Oa=e;var n=Ut;e=qt;var l=32-ut(n)-1;n&=~(1<<l),a+=1;var i=32-ut(t)+l;if(30<i){var c=l-l%5;i=(n&(1<<c)-1).toString(32),n>>=c,l-=c,Ut=1<<32-ut(t)+l|a<<l|n,qt=i+e}else Ut=1<<i|a<<l|n,qt=e}function cr(e){e.return!==null&&(Jt(e,1),lm(e,1,0))}function or(e){for(;e===Ii;)Ii=An[--En],An[En]=null,kl=An[--En],An[En]=null;for(;e===Oa;)Oa=pt[--xt],pt[xt]=null,qt=pt[--xt],pt[xt]=null,Ut=pt[--xt],pt[xt]=null}function im(e,t){pt[xt++]=Ut,pt[xt++]=qt,pt[xt++]=Oa,Ut=t.id,qt=t.overflow,Oa=e}var Ve=null,he=null,J=!1,ja=null,St=!1,co=Error(N(519));function za(e){var t=Error(N(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(vt(t,e)),co}function Qu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Be]=e,t[et]=n,a){case"dialog":Z("cancel",t),Z("close",t);break;case"iframe":case"object":case"embed":Z("load",t);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Z(Ql[a],t);break;case"source":Z("error",t);break;case"img":case"image":case"link":Z("error",t),Z("load",t);break;case"details":Z("toggle",t);break;case"input":Z("invalid",t),Uf(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Z("invalid",t);break;case"textarea":Z("invalid",t),kf(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Vh(t.textContent,a)?(n.popover!=null&&(Z("beforetoggle",t),Z("toggle",t)),n.onScroll!=null&&Z("scroll",t),n.onScrollEnd!=null&&Z("scrollend",t),n.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||za(e,!0)}function Gu(e){for(Ve=e.return;Ve;)switch(Ve.tag){case 5:case 31:case 13:St=!1;return;case 27:case 3:St=!0;return;default:Ve=Ve.return}}function fn(e){if(e!==Ve)return!1;if(!J)return Gu(e),J=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_o(e.type,e.memoizedProps)),a=!a),a&&he&&za(e),Gu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));he=Cd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));he=Cd(e)}else t===27?(t=he,qa(e.type)?(e=ko,ko=null,he=e):he=t):he=Ve?jt(e.stateNode.nextSibling):null;return!0}function Ia(){he=Ve=null,J=!1}function hc(){var e=ja;return e!==null&&(Ie===null?Ie=e:Ie.push.apply(Ie,e),ja=null),e}function Hl(e){ja===null?ja=[e]:ja.push(e)}var oo=Bt(null),rn=null,Pt=null;function ma(e,t,a){ue(oo,t._currentValue),t._currentValue=a}function ta(e){e._currentValue=oo.current,He(oo)}function ro(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function uo(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var c=l.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=l;for(var r=0;r<t.length;r++)if(o.context===t[r]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),ro(i.return,a,e),n||(c=null);break e}i=o.next}}else if(l.tag===18){if(c=l.return,c===null)throw Error(N(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),ro(c,a,e),c=null}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===e){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}}function Fn(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if(l.flags&524288)i=!0;else if(l.flags&262144)break}if(l.tag===10){var c=l.alternate;if(c===null)throw Error(N(387));if(c=c.memoizedProps,c!==null){var o=l.type;ft(l.pendingProps.value,c.value)||(e!==null?e.push(o):e=[o])}}else if(l===Yi.current){if(c=l.alternate,c===null)throw Error(N(387));c.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Yl):e=[Yl])}l=l.return}e!==null&&uo(t,e,a,n),t.flags|=262144}function Wi(e){for(e=e.firstContext;e!==null;){if(!ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wa(e){rn=e,Pt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return sm(rn,e)}function pi(e,t){return rn===null&&Wa(e),sm(e,t)}function sm(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Pt===null){if(e===null)throw Error(N(308));Pt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pt=Pt.next=t;return a}var Xy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Zy=Ue.unstable_scheduleCallback,Ky=Ue.unstable_NormalPriority,Me={$$typeof:It,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rr(){return{controller:new Xy,data:new Map,refCount:0}}function ai(e){e.refCount--,e.refCount===0&&Zy(Ky,function(){e.controller.abort()})}var jl=null,fo=0,Ln=0,zn=null;function $y(e,t){if(jl===null){var a=jl=[];fo=0,Ln=Rr(),zn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return fo++,t.then(Yu,Yu),t}function Yu(){if(--fo===0&&jl!==null){zn!==null&&(zn.status="fulfilled");var e=jl;jl=null,Ln=0,zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jy(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var Xu=V.S;V.S=function(e,t){vh=ot(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$y(e,t),Xu!==null&&Xu(e,t)};var Ka=Bt(null);function ur(){var e=Ka.current;return e!==null?e:oe.pooledCache}function Oi(e,t){t===null?ue(Ka,Ka.current):ue(Ka,t.pool)}function cm(){var e=ur();return e===null?null:{parent:Me._currentValue,pool:e}}var In=Error(N(460)),dr=Error(N(474)),Ms=Error(N(542)),Pi={then:function(){}};function Zu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function om(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Wt,Wt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$u(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(N(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$u(e),e}throw $a=t,In}}function Qa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($a=a,In):a}}var $a=null;function Ku(){if($a===null)throw Error(N(459));var e=$a;return $a=null,e}function $u(e){if(e===In||e===Ms)throw Error(N(483))}var _n=null,Ll=0;function xi(e){var t=Ll;return Ll+=1,_n===null&&(_n=[]),om(_n,e,t)}function dl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bi(e,t){throw t.$$typeof===U0?Error(N(525)):(e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function rm(e){function t(g,d){if(e){var y=g.deletions;y===null?(g.deletions=[d],g.flags|=16):y.push(d)}}function a(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function n(g){for(var d=new Map;g!==null;)g.key!==null?d.set(g.key,g):d.set(g.index,g),g=g.sibling;return d}function l(g,d){return g=ea(g,d),g.index=0,g.sibling=null,g}function i(g,d,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<d?(g.flags|=67108866,d):y):(g.flags|=67108866,d)):(g.flags|=1048576,d)}function c(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function o(g,d,y,b){return d===null||d.tag!==6?(d=fc(y,g.mode,b),d.return=g,d):(d=l(d,y),d.return=g,d)}function r(g,d,y,b){var E=y.type;return E===pn?f(g,d,y.props.children,b,y.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===da&&Qa(E)===d.type)?(d=l(d,y.props),dl(d,y),d.return=g,d):(d=Mi(y.type,y.key,y.props,null,g.mode,b),dl(d,y),d.return=g,d)}function u(g,d,y,b){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=mc(y,g.mode,b),d.return=g,d):(d=l(d,y.children||[]),d.return=g,d)}function f(g,d,y,b,E){return d===null||d.tag!==7?(d=Za(y,g.mode,b,E),d.return=g,d):(d=l(d,y),d.return=g,d)}function p(g,d,y){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=fc(""+d,g.mode,y),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case di:return y=Mi(d.type,d.key,d.props,null,g.mode,y),dl(y,d),y.return=g,y;case gl:return d=mc(d,g.mode,y),d.return=g,d;case da:return d=Qa(d),p(g,d,y)}if(yl(d)||ol(d))return d=Za(d,g.mode,y,null),d.return=g,d;if(typeof d.then=="function")return p(g,xi(d),y);if(d.$$typeof===It)return p(g,pi(g,d),y);bi(g,d)}return null}function h(g,d,y,b){var E=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return E!==null?null:o(g,d,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case di:return y.key===E?r(g,d,y,b):null;case gl:return y.key===E?u(g,d,y,b):null;case da:return y=Qa(y),h(g,d,y,b)}if(yl(y)||ol(y))return E!==null?null:f(g,d,y,b,null);if(typeof y.then=="function")return h(g,d,xi(y),b);if(y.$$typeof===It)return h(g,d,pi(g,y),b);bi(g,y)}return null}function m(g,d,y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(y)||null,o(d,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case di:return g=g.get(b.key===null?y:b.key)||null,r(d,g,b,E);case gl:return g=g.get(b.key===null?y:b.key)||null,u(d,g,b,E);case da:return b=Qa(b),m(g,d,y,b,E)}if(yl(b)||ol(b))return g=g.get(y)||null,f(d,g,b,E,null);if(typeof b.then=="function")return m(g,d,y,xi(b),E);if(b.$$typeof===It)return m(g,d,y,pi(d,b),E);bi(d,b)}return null}function v(g,d,y,b){for(var E=null,z=null,w=d,R=d=0,T=null;w!==null&&R<y.length;R++){w.index>R?(T=w,w=null):T=w.sibling;var C=h(g,w,y[R],b);if(C===null){w===null&&(w=T);break}e&&w&&C.alternate===null&&t(g,w),d=i(C,d,R),z===null?E=C:z.sibling=C,z=C,w=T}if(R===y.length)return a(g,w),J&&Jt(g,R),E;if(w===null){for(;R<y.length;R++)w=p(g,y[R],b),w!==null&&(d=i(w,d,R),z===null?E=w:z.sibling=w,z=w);return J&&Jt(g,R),E}for(w=n(w);R<y.length;R++)T=m(w,g,R,y[R],b),T!==null&&(e&&T.alternate!==null&&w.delete(T.key===null?R:T.key),d=i(T,d,R),z===null?E=T:z.sibling=T,z=T);return e&&w.forEach(function(q){return t(g,q)}),J&&Jt(g,R),E}function S(g,d,y,b){if(y==null)throw Error(N(151));for(var E=null,z=null,w=d,R=d=0,T=null,C=y.next();w!==null&&!C.done;R++,C=y.next()){w.index>R?(T=w,w=null):T=w.sibling;var q=h(g,w,C.value,b);if(q===null){w===null&&(w=T);break}e&&w&&q.alternate===null&&t(g,w),d=i(q,d,R),z===null?E=q:z.sibling=q,z=q,w=T}if(C.done)return a(g,w),J&&Jt(g,R),E;if(w===null){for(;!C.done;R++,C=y.next())C=p(g,C.value,b),C!==null&&(d=i(C,d,R),z===null?E=C:z.sibling=C,z=C);return J&&Jt(g,R),E}for(w=n(w);!C.done;R++,C=y.next())C=m(w,g,R,C.value,b),C!==null&&(e&&C.alternate!==null&&w.delete(C.key===null?R:C.key),d=i(C,d,R),z===null?E=C:z.sibling=C,z=C);return e&&w.forEach(function(ee){return t(g,ee)}),J&&Jt(g,R),E}function M(g,d,y,b){if(typeof y=="object"&&y!==null&&y.type===pn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case di:e:{for(var E=y.key;d!==null;){if(d.key===E){if(E=y.type,E===pn){if(d.tag===7){a(g,d.sibling),b=l(d,y.props.children),b.return=g,g=b;break e}}else if(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===da&&Qa(E)===d.type){a(g,d.sibling),b=l(d,y.props),dl(b,y),b.return=g,g=b;break e}a(g,d);break}else t(g,d);d=d.sibling}y.type===pn?(b=Za(y.props.children,g.mode,b,y.key),b.return=g,g=b):(b=Mi(y.type,y.key,y.props,null,g.mode,b),dl(b,y),b.return=g,g=b)}return c(g);case gl:e:{for(E=y.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){a(g,d.sibling),b=l(d,y.children||[]),b.return=g,g=b;break e}else{a(g,d);break}else t(g,d);d=d.sibling}b=mc(y,g.mode,b),b.return=g,g=b}return c(g);case da:return y=Qa(y),M(g,d,y,b)}if(yl(y))return v(g,d,y,b);if(ol(y)){if(E=ol(y),typeof E!="function")throw Error(N(150));return y=E.call(y),S(g,d,y,b)}if(typeof y.then=="function")return M(g,d,xi(y),b);if(y.$$typeof===It)return M(g,d,pi(g,y),b);bi(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,d!==null&&d.tag===6?(a(g,d.sibling),b=l(d,y),b.return=g,g=b):(a(g,d),b=fc(y,g.mode,b),b.return=g,g=b),c(g)):a(g,d)}return function(g,d,y,b){try{Ll=0;var E=M(g,d,y,b);return _n=null,E}catch(w){if(w===In||w===Ms)throw w;var z=st(29,w,null,g.mode);return z.lanes=b,z.return=g,z}finally{}}}var Pa=rm(!0),um=rm(!1),fa=!1;function fr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=Fi(e),tm(e,null,a),t}return Cs(e,n,t,a),Fi(e)}function wl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Df(e,a)}}function gc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ho=!1;function Tl(){if(ho){var e=zn;if(e!==null)throw e}}function Al(e,t,a,n){ho=!1;var l=e.updateQueue;fa=!1;var i=l.firstBaseUpdate,c=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var r=o,u=r.next;r.next=null,c===null?i=u:c.next=u,c=r;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==c&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=r))}if(i!==null){var p=l.baseState;c=0,f=u=r=null,o=i;do{var h=o.lane&-536870913,m=h!==o.lane;if(m?($&h)===h:(n&h)===h){h!==0&&h===Ln&&(ho=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var v=e,S=o;h=t;var M=a;switch(S.tag){case 1:if(v=S.payload,typeof v=="function"){p=v.call(M,p,h);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,h=typeof v=="function"?v.call(M,p,h):v,h==null)break e;p=ge({},p,h);break e;case 2:fa=!0}}h=o.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=l.callbacks,m===null?l.callbacks=[h]:m.push(h))}else m={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=m,r=p):f=f.next=m,c|=h;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;m=o,o=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);f===null&&(r=p),l.baseState=r,l.firstBaseUpdate=u,l.lastBaseUpdate=f,i===null&&(l.shared.lanes=0),Ra|=c,e.lanes=c,e.memoizedState=p}}function dm(e,t){if(typeof e!="function")throw Error(N(191,e));e.call(t)}function fm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dm(a[e],t)}var Bn=Bt(null),es=Bt(0);function Ju(e,t){e=ca,ue(es,e),ue(Bn,t),ca=e|t.baseLanes}function go(){ue(es,ca),ue(Bn,Bn.current)}function mr(){ca=es.current,He(Bn),He(es)}var mt=Bt(null),Nt=null;function ha(e){var t=e.alternate;ue(we,we.current&1),ue(mt,e),Nt===null&&(t===null||Bn.current!==null||t.memoizedState!==null)&&(Nt=e)}function yo(e){ue(we,we.current),ue(mt,e),Nt===null&&(Nt=e)}function mm(e){e.tag===22?(ue(we,we.current),ue(mt,e),Nt===null&&(Nt=e)):ga()}function ga(){ue(we,we.current),ue(mt,mt.current)}function it(e){He(mt),Nt===e&&(Nt=null),He(we)}var we=Bt(0);function ts(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Uo(a)||qo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=0,G=null,se=null,Ee=null,as=!1,Rn=!1,en=!1,ns=0,Bl=0,Un=null,Fy=0;function Se(){throw Error(N(321))}function hr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ft(e[a],t[a]))return!1;return!0}function gr(e,t,a,n,l,i){return la=i,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?Ym:Ar,en=!1,i=a(n,l),en=!1,Rn&&(i=gm(t,a,n,l)),hm(e),i}function hm(e){V.H=Vl;var t=se!==null&&se.next!==null;if(la=0,Ee=se=G=null,as=!1,Bl=0,Un=null,t)throw Error(N(300));e===null||Oe||(e=e.dependencies,e!==null&&Wi(e)&&(Oe=!0))}function gm(e,t,a,n){G=e;var l=0;do{if(Rn&&(Un=null),Bl=0,Rn=!1,25<=l)throw Error(N(301));if(l+=1,Ee=se=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}V.H=Xm,i=t(a,n)}while(Rn);return i}function Iy(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?ni(t):t,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(G.flags|=1024),t}function yr(){var e=ns!==0;return ns=0,e}function pr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function xr(e){if(as){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}as=!1}la=0,Ee=se=G=null,Rn=!1,Bl=ns=0,Un=null}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?G.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Te(){if(se===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=Ee===null?G.memoizedState:Ee.next;if(t!==null)Ee=t,se=e;else{if(e===null)throw G.alternate===null?Error(N(467)):Error(N(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Ee===null?G.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Os(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ni(e){var t=Bl;return Bl+=1,Un===null&&(Un=[]),e=om(Un,e,t),t=G,(Ee===null?t.memoizedState:Ee.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?Ym:Ar),e}function zs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ni(e);if(e.$$typeof===It)return Qe(e)}throw Error(N(438,String(e)))}function br(e){var t=null,a=G.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=G.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Os(),G.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=q0;return t.index++,a}function ia(e,t){return typeof t=="function"?t(e):t}function zi(e){var t=Te();return vr(t,se,e)}function vr(e,t,a){var n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var c=l.next;l.next=i.next,i.next=c}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var o=c=null,r=null,u=t,f=!1;do{var p=u.lane&-536870913;if(p!==u.lane?($&p)===p:(la&p)===p){var h=u.revertLane;if(h===0)r!==null&&(r=r.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Ln&&(f=!0);else if((la&h)===h){u=u.next,h===Ln&&(f=!0);continue}else p={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},r===null?(o=r=p,c=i):r=r.next=p,G.lanes|=h,Ra|=h;p=u.action,en&&a(i,p),i=u.hasEagerState?u.eagerState:a(i,p)}else h={lane:p,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},r===null?(o=r=h,c=i):r=r.next=h,G.lanes|=p,Ra|=p;u=u.next}while(u!==null&&u!==t);if(r===null?c=i:r.next=o,!ft(i,e.memoizedState)&&(Oe=!0,f&&(a=zn,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=r,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function yc(e){var t=Te(),a=t.queue;if(a===null)throw Error(N(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var c=l=l.next;do i=e(i,c.action),c=c.next;while(c!==l);ft(i,t.memoizedState)||(Oe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function ym(e,t,a){var n=G,l=Te(),i=J;if(i){if(a===void 0)throw Error(N(407));a=a()}else a=t();var c=!ft((se||l).memoizedState,a);if(c&&(l.memoizedState=a,Oe=!0),l=l.queue,Sr(bm.bind(null,n,l,e),[e]),l.getSnapshot!==t||c||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Vn(9,{destroy:void 0},xm.bind(null,n,l,a,t),null),oe===null)throw Error(N(349));i||la&127||pm(n,t,a)}return a}function pm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=G.updateQueue,t===null?(t=Os(),G.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function xm(e,t,a,n){t.value=a,t.getSnapshot=n,vm(t)&&Sm(e)}function bm(e,t,a){return a(function(){vm(t)&&Sm(e)})}function vm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ft(e,a)}catch{return!0}}function Sm(e){var t=on(e,2);t!==null&&Pe(t,e,2)}function po(e){var t=Ke();if(typeof e=="function"){var a=e;if(e=a(),en){pa(!0);try{a()}finally{pa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function Nm(e,t,a,n){return e.baseState=a,vr(e,se,typeof n=="function"?n:ia)}function Wy(e,t,a,n,l){if(Rs(e))throw Error(N(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};V.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,jm(t,i)):(i.next=a.next,t.pending=a.next=i)}}function jm(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=V.T,c={};V.T=c;try{var o=a(l,n),r=V.S;r!==null&&r(c,o),Fu(e,t,o)}catch(u){xo(e,t,u)}finally{i!==null&&c.types!==null&&(i.types=c.types),V.T=i}}else try{i=a(l,n),Fu(e,t,i)}catch(u){xo(e,t,u)}}function Fu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Iu(e,t,n)},function(n){return xo(e,t,n)}):Iu(e,t,a)}function Iu(e,t,a){t.status="fulfilled",t.value=a,wm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,jm(e,a)))}function xo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,wm(t),t=t.next;while(t!==n)}e.action=null}function wm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Tm(e,t){return t}function Wu(e,t){if(J){var a=oe.formState;if(a!==null){e:{var n=G;if(J){if(he){t:{for(var l=he,i=St;l.nodeType!==8;){if(!i){l=null;break t}if(l=jt(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){he=jt(l.nextSibling),n=l.data==="F!";break e}}za(n)}n=!1}n&&(t=a[0])}}return a=Ke(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:t},a.queue=n,a=Vm.bind(null,G,n),n.dispatch=a,n=po(!1),i=Tr.bind(null,G,!1,n.queue),n=Ke(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=Wy.bind(null,G,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function Pu(e){var t=Te();return Am(t,se,e)}function Am(e,t,a){if(t=vr(e,t,Tm)[0],e=zi(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ni(t)}catch(c){throw c===In?Ms:c}else n=t;t=Te();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(G.flags|=2048,Vn(9,{destroy:void 0},Py.bind(null,l,a),null)),[n,i,e]}function Py(e,t){e.action=t}function ed(e){var t=Te(),a=se;if(a!==null)return Am(t,a,e);Te(),t=t.memoizedState,a=Te();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Vn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=G.updateQueue,t===null&&(t=Os(),G.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Em(){return Te().memoizedState}function _i(e,t,a,n){var l=Ke();G.flags|=e,l.memoizedState=Vn(1|t,{destroy:void 0},a,n===void 0?null:n)}function _s(e,t,a,n){var l=Te();n=n===void 0?null:n;var i=l.memoizedState.inst;se!==null&&n!==null&&hr(n,se.memoizedState.deps)?l.memoizedState=Vn(t,i,a,n):(G.flags|=e,l.memoizedState=Vn(1|t,i,a,n))}function td(e,t){_i(8390656,8,e,t)}function Sr(e,t){_s(2048,8,e,t)}function ep(e){G.flags|=4;var t=G.updateQueue;if(t===null)t=Os(),G.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Dm(e){var t=Te().memoizedState;return ep({ref:t,nextImpl:e}),function(){if(W&2)throw Error(N(440));return t.impl.apply(void 0,arguments)}}function Cm(e,t){return _s(4,2,e,t)}function Mm(e,t){return _s(4,4,e,t)}function Om(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zm(e,t,a){a=a!=null?a.concat([e]):null,_s(4,4,Om.bind(null,t,e),a)}function Nr(){}function _m(e,t){var a=Te();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&hr(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Rm(e,t){var a=Te();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&hr(t,n[1]))return n[0];if(n=e(),en){pa(!0);try{e()}finally{pa(!1)}}return a.memoizedState=[n,t],n}function jr(e,t,a){return a===void 0||la&1073741824&&!($&261930)?e.memoizedState=t:(e.memoizedState=a,e=Nh(),G.lanes|=e,Ra|=e,a)}function Um(e,t,a,n){return ft(a,t)?a:Bn.current!==null?(e=jr(e,a,n),ft(e,t)||(Oe=!0),e):!(la&42)||la&1073741824&&!($&261930)?(Oe=!0,e.memoizedState=a):(e=Nh(),G.lanes|=e,Ra|=e,t)}function qm(e,t,a,n,l){var i=P.p;P.p=i!==0&&8>i?i:8;var c=V.T,o={};V.T=o,Tr(e,!1,t,a);try{var r=l(),u=V.S;if(u!==null&&u(o,r),r!==null&&typeof r=="object"&&typeof r.then=="function"){var f=Jy(r,n);El(e,t,f,dt(e))}else El(e,t,n,dt(e))}catch(p){El(e,t,{then:function(){},status:"rejected",reason:p},dt())}finally{P.p=i,c!==null&&o.types!==null&&(c.types=o.types),V.T=c}}function tp(){}function bo(e,t,a,n){if(e.tag!==5)throw Error(N(476));var l=km(e).queue;qm(e,l,t,Xa,a===null?tp:function(){return Hm(e),a(n)})}function km(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Xa,baseState:Xa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:Xa},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hm(e){var t=km(e);t.next===null&&(t=e.alternate.memoizedState),El(e,t.next.queue,{},dt())}function wr(){return Qe(Yl)}function Lm(){return Te().memoizedState}function Bm(){return Te().memoizedState}function ap(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=dt();e=wa(a);var n=Ta(t,e,a);n!==null&&(Pe(n,t,a),wl(n,t,a)),t={cache:rr()},e.payload=t;return}t=t.return}}function np(e,t,a){var n=dt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rs(e)?Qm(t,a):(a=ir(e,t,a,n),a!==null&&(Pe(a,e,n),Gm(a,t,n)))}function Vm(e,t,a){var n=dt();El(e,t,a,n)}function El(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rs(e))Qm(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,o=i(c,a);if(l.hasEagerState=!0,l.eagerState=o,ft(o,c))return Cs(e,t,l,0),oe===null&&Ds(),!1}catch{}finally{}if(a=ir(e,t,l,n),a!==null)return Pe(a,e,n),Gm(a,t,n),!0}return!1}function Tr(e,t,a,n){if(n={lane:2,revertLane:Rr(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rs(e)){if(t)throw Error(N(479))}else t=ir(e,a,n,2),t!==null&&Pe(t,e,2)}function Rs(e){var t=e.alternate;return e===G||t!==null&&t===G}function Qm(e,t){Rn=as=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Gm(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Df(e,a)}}var Vl={readContext:Qe,use:zs,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};Vl.useEffectEvent=Se;var Ym={readContext:Qe,use:zs,useCallback:function(e,t){return Ke().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:td,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,_i(4194308,4,Om.bind(null,t,e),a)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){_i(4,2,e,t)},useMemo:function(e,t){var a=Ke();t=t===void 0?null:t;var n=e();if(en){pa(!0);try{e()}finally{pa(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ke();if(a!==void 0){var l=a(t);if(en){pa(!0);try{a(t)}finally{pa(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=np.bind(null,G,e),[n.memoizedState,e]},useRef:function(e){var t=Ke();return e={current:e},t.memoizedState=e},useState:function(e){e=po(e);var t=e.queue,a=Vm.bind(null,G,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Nr,useDeferredValue:function(e,t){var a=Ke();return jr(a,e,t)},useTransition:function(){var e=po(!1);return e=qm.bind(null,G,e.queue,!0,!1),Ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=G,l=Ke();if(J){if(a===void 0)throw Error(N(407));a=a()}else{if(a=t(),oe===null)throw Error(N(349));$&127||pm(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,td(bm.bind(null,n,i,e),[e]),n.flags|=2048,Vn(9,{destroy:void 0},xm.bind(null,n,i,a,t),null),a},useId:function(){var e=Ke(),t=oe.identifierPrefix;if(J){var a=qt,n=Ut;a=(n&~(1<<32-ut(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ns++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Fy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wr,useFormState:Wu,useActionState:Wu,useOptimistic:function(e){var t=Ke();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Tr.bind(null,G,!0,a),a.dispatch=t,[e,t]},useMemoCache:br,useCacheRefresh:function(){return Ke().memoizedState=ap.bind(null,G)},useEffectEvent:function(e){var t=Ke(),a={impl:e};return t.memoizedState=a,function(){if(W&2)throw Error(N(440));return a.impl.apply(void 0,arguments)}}},Ar={readContext:Qe,use:zs,useCallback:_m,useContext:Qe,useEffect:Sr,useImperativeHandle:zm,useInsertionEffect:Cm,useLayoutEffect:Mm,useMemo:Rm,useReducer:zi,useRef:Em,useState:function(){return zi(ia)},useDebugValue:Nr,useDeferredValue:function(e,t){var a=Te();return Um(a,se.memoizedState,e,t)},useTransition:function(){var e=zi(ia)[0],t=Te().memoizedState;return[typeof e=="boolean"?e:ni(e),t]},useSyncExternalStore:ym,useId:Lm,useHostTransitionStatus:wr,useFormState:Pu,useActionState:Pu,useOptimistic:function(e,t){var a=Te();return Nm(a,se,e,t)},useMemoCache:br,useCacheRefresh:Bm};Ar.useEffectEvent=Dm;var Xm={readContext:Qe,use:zs,useCallback:_m,useContext:Qe,useEffect:Sr,useImperativeHandle:zm,useInsertionEffect:Cm,useLayoutEffect:Mm,useMemo:Rm,useReducer:yc,useRef:Em,useState:function(){return yc(ia)},useDebugValue:Nr,useDeferredValue:function(e,t){var a=Te();return se===null?jr(a,e,t):Um(a,se.memoizedState,e,t)},useTransition:function(){var e=yc(ia)[0],t=Te().memoizedState;return[typeof e=="boolean"?e:ni(e),t]},useSyncExternalStore:ym,useId:Lm,useHostTransitionStatus:wr,useFormState:ed,useActionState:ed,useOptimistic:function(e,t){var a=Te();return se!==null?Nm(a,se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:br,useCacheRefresh:Bm};Xm.useEffectEvent=Dm;function pc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:ge({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var vo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=dt(),l=wa(n);l.payload=t,a!=null&&(l.callback=a),t=Ta(e,l,n),t!==null&&(Pe(t,e,n),wl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=dt(),l=wa(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Ta(e,l,n),t!==null&&(Pe(t,e,n),wl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=dt(),n=wa(a);n.tag=2,t!=null&&(n.callback=t),t=Ta(e,n,a),t!==null&&(Pe(t,e,a),wl(t,e,a))}};function ad(e,t,a,n,l,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,c):t.prototype&&t.prototype.isPureReactComponent?!ql(a,n)||!ql(l,i):!0}function nd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function tn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=ge({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function Zm(e){Ji(e)}function Km(e){console.error(e)}function $m(e){Ji(e)}function ls(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ld(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function So(e,t,a){return a=wa(a),a.tag=3,a.payload={element:null},a.callback=function(){ls(e,t)},a}function Jm(e){return e=wa(e),e.tag=3,e}function Fm(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){ld(t,a,n)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){ld(t,a,n),typeof l!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function lp(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Fn(t,a,l,!0),a=mt.current,a!==null){switch(a.tag){case 31:case 13:return Nt===null?rs():a.alternate===null&&Ne===0&&(Ne=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===Pi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Dc(e,n,l)),!1;case 22:return a.flags|=65536,n===Pi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Dc(e,n,l)),!1}throw Error(N(435,a.tag))}return Dc(e,n,l),rs(),!1}if(J)return t=mt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==co&&(e=Error(N(422),{cause:n}),Hl(vt(e,a)))):(n!==co&&(t=Error(N(423),{cause:n}),Hl(vt(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=vt(n,a),l=So(e.stateNode,n,l),gc(e,l),Ne!==4&&(Ne=2)),!1;var i=Error(N(520),{cause:n});if(i=vt(i,a),Ml===null?Ml=[i]:Ml.push(i),Ne!==4&&(Ne=2),t===null)return!0;n=vt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=So(a.stateNode,n,e),gc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Aa===null||!Aa.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=Jm(l),Fm(l,e,a,n),gc(a,l),!1}a=a.return}while(a!==null);return!1}var Er=Error(N(461)),Oe=!1;function Le(e,t,a,n){t.child=e===null?um(t,null,a,n):Pa(t,e.child,a,n)}function id(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var c={};for(var o in n)o!=="ref"&&(c[o]=n[o])}else c=n;return Wa(t),n=gr(e,t,a,c,i,l),o=yr(),e!==null&&!Oe?(pr(e,t,l),sa(e,t,l)):(J&&o&&cr(t),t.flags|=1,Le(e,t,n,l),t.child)}function sd(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!sr(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Im(e,t,i,n,l)):(e=Mi(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Dr(e,l)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:ql,a(c,n)&&e.ref===t.ref)return sa(e,t,l)}return t.flags|=1,e=ea(i,n),e.ref=t.ref,e.return=t,t.child=e}function Im(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(ql(i,n)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=n=i,Dr(e,l))e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,sa(e,t,l)}return No(e,t,a,n,l)}function Wm(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return cd(e,t,i,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oi(t,i!==null?i.cachePool:null),i!==null?Ju(t,i):go(),mm(t);else return n=t.lanes=536870912,cd(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Oi(t,i.cachePool),Ju(t,i),ga(),t.memoizedState=null):(e!==null&&Oi(t,null),go(),ga());return Le(e,t,l,a),t.child}function xl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cd(e,t,a,n,l){var i=ur();return i=i===null?null:{parent:Me._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Oi(t,null),go(),mm(t),e!==null&&Fn(e,t,n,!0),t.childLanes=l,null}function Ri(e,t){return t=is({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function od(e,t,a){return Pa(t,e.child,null,a),e=Ri(t,t.pendingProps),e.flags|=2,it(t),t.memoizedState=null,e}function ip(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(J){if(n.mode==="hidden")return e=Ri(t,n),t.lanes=536870912,xl(null,e);if(yo(t),(e=he)?(e=Yh(e,St),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:Ut,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},a=nm(e),a.return=t,t.child=a,Ve=t,he=null)):e=null,e===null)throw za(t);return t.lanes=536870912,null}return Ri(t,n)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(yo(t),l)if(t.flags&256)t.flags&=-257,t=od(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(N(558));else if(Oe||Fn(e,t,a,!1),l=(a&e.childLanes)!==0,Oe||l){if(n=oe,n!==null&&(c=Cf(n,a),c!==0&&c!==i.retryLane))throw i.retryLane=c,on(e,c),Pe(n,e,c),Er;rs(),t=od(e,t,a)}else e=i.treeContext,he=jt(c.nextSibling),Ve=t,J=!0,ja=null,St=!1,e!==null&&im(t,e),t=Ri(t,n),t.flags|=4096;return t}return e=ea(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ui(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(N(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function No(e,t,a,n,l){return Wa(t),a=gr(e,t,a,n,void 0,l),n=yr(),e!==null&&!Oe?(pr(e,t,l),sa(e,t,l)):(J&&n&&cr(t),t.flags|=1,Le(e,t,a,l),t.child)}function rd(e,t,a,n,l,i){return Wa(t),t.updateQueue=null,a=gm(t,n,a,l),hm(e),n=yr(),e!==null&&!Oe?(pr(e,t,i),sa(e,t,i)):(J&&n&&cr(t),t.flags|=1,Le(e,t,a,i),t.child)}function ud(e,t,a,n,l){if(Wa(t),t.stateNode===null){var i=Tn,c=a.contextType;typeof c=="object"&&c!==null&&(i=Qe(c)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=vo,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},fr(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?Qe(c):Tn,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(pc(t,a,c,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&vo.enqueueReplaceState(i,i.state,null),Al(t,n,i,l),Tl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,r=tn(a,o);i.props=r;var u=i.context,f=a.contextType;c=Tn,typeof f=="object"&&f!==null&&(c=Qe(f));var p=a.getDerivedStateFromProps;f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==c)&&nd(t,i,n,c),fa=!1;var h=t.memoizedState;i.state=h,Al(t,n,i,l),Tl(),u=t.memoizedState,o||h!==u||fa?(typeof p=="function"&&(pc(t,a,p,n),u=t.memoizedState),(r=fa||ad(t,a,r,n,h,u,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=c,n=r):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,mo(e,t),c=t.memoizedProps,f=tn(a,c),i.props=f,p=t.pendingProps,h=i.context,u=a.contextType,r=Tn,typeof u=="object"&&u!==null&&(r=Qe(u)),o=a.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==p||h!==r)&&nd(t,i,n,r),fa=!1,h=t.memoizedState,i.state=h,Al(t,n,i,l),Tl();var m=t.memoizedState;c!==p||h!==m||fa||e!==null&&e.dependencies!==null&&Wi(e.dependencies)?(typeof o=="function"&&(pc(t,a,o,n),m=t.memoizedState),(f=fa||ad(t,a,f,n,h,m,r)||e!==null&&e.dependencies!==null&&Wi(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,r),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,r)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=r,n=f):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Ui(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Pa(t,e.child,null,l),t.child=Pa(t,null,a,l)):Le(e,t,a,l),t.memoizedState=i.state,e=t.child):e=sa(e,t,l),e}function dd(e,t,a,n){return Ia(),t.flags|=256,Le(e,t,a,n),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:cm()}}function vc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ct),e}function Pm(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),c&&(l=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(J){if(l?ha(t):ga(),(e=he)?(e=Yh(e,St),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oa!==null?{id:Ut,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},a=nm(e),a.return=t,t.child=a,Ve=t,he=null)):e=null,e===null)throw za(t);return qo(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,l?(ga(),l=t.mode,o=is({mode:"hidden",children:o},l),n=Za(n,l,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=bc(a),n.childLanes=vc(e,c,a),t.memoizedState=xc,xl(null,n)):(ha(t),jo(t,o))}var r=e.memoizedState;if(r!==null&&(o=r.dehydrated,o!==null)){if(i)t.flags&256?(ha(t),t.flags&=-257,t=Sc(e,t,a)):t.memoizedState!==null?(ga(),t.child=e.child,t.flags|=128,t=null):(ga(),o=n.fallback,l=t.mode,n=is({mode:"visible",children:n.children},l),o=Za(o,l,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,Pa(t,e.child,null,a),n=t.child,n.memoizedState=bc(a),n.childLanes=vc(e,c,a),t.memoizedState=xc,t=xl(null,n));else if(ha(t),qo(o)){if(c=o.nextSibling&&o.nextSibling.dataset,c)var u=c.dgst;c=u,n=Error(N(419)),n.stack="",n.digest=c,Hl({value:n,source:null,stack:null}),t=Sc(e,t,a)}else if(Oe||Fn(e,t,a,!1),c=(a&e.childLanes)!==0,Oe||c){if(c=oe,c!==null&&(n=Cf(c,a),n!==0&&n!==r.retryLane))throw r.retryLane=n,on(e,n),Pe(c,e,n),Er;Uo(o)||rs(),t=Sc(e,t,a)}else Uo(o)?(t.flags|=192,t.child=e.child,t=null):(e=r.treeContext,he=jt(o.nextSibling),Ve=t,J=!0,ja=null,St=!1,e!==null&&im(t,e),t=jo(t,n.children),t.flags|=4096);return t}return l?(ga(),o=n.fallback,l=t.mode,r=e.child,u=r.sibling,n=ea(r,{mode:"hidden",children:n.children}),n.subtreeFlags=r.subtreeFlags&65011712,u!==null?o=ea(u,o):(o=Za(o,l,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,xl(null,n),n=t.child,o=e.child.memoizedState,o===null?o=bc(a):(l=o.cachePool,l!==null?(r=Me._currentValue,l=l.parent!==r?{parent:r,pool:r}:l):l=cm(),o={baseLanes:o.baseLanes|a,cachePool:l}),n.memoizedState=o,n.childLanes=vc(e,c,a),t.memoizedState=xc,xl(e.child,n)):(ha(t),a=e.child,e=a.sibling,a=ea(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function jo(e,t){return t=is({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function is(e,t){return e=st(22,e,null,t),e.lanes=0,e}function Sc(e,t,a){return Pa(t,e.child,null,a),e=jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ro(e.return,t,a)}function Nc(e,t,a,n,l,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=l,c.treeForkCount=i)}function eh(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var c=we.current,o=(c&2)!==0;if(o?(c=c&1|2,t.flags|=128):c&=1,ue(we,c),Le(e,t,n,a),n=J?kl:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,a,t);else if(e.tag===19)fd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&ts(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),Nc(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ts(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Nc(t,!0,a,null,i,n);break;case"together":Nc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function sa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,!(a&t.childLanes))if(e!==null){if(Fn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,a=ea(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ea(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Dr(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Wi(e)))}function sp(e,t,a){switch(t.tag){case 3:Xi(t,t.stateNode.containerInfo),ma(t,Me,e.memoizedState.cache),Ia();break;case 27:case 5:Fc(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:ma(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yo(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ha(t),t.flags|=128,null):a&t.child.childLanes?Pm(e,t,a):(ha(t),e=sa(e,t,a),e!==null?e.sibling:null);ha(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Fn(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return eh(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ue(we,we.current),n)break;return null;case 22:return t.lanes=0,Wm(e,t,a,t.pendingProps);case 24:ma(t,Me,e.memoizedState.cache)}return sa(e,t,a)}function th(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Oe=!0;else{if(!Dr(e,a)&&!(t.flags&128))return Oe=!1,sp(e,t,a);Oe=!!(e.flags&131072)}else Oe=!1,J&&t.flags&1048576&&lm(t,kl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Qa(t.elementType),t.type=e,typeof e=="function")sr(e)?(n=tn(e,n),t.tag=1,t=ud(null,t,e,n,a)):(t.tag=0,t=No(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===Zo){t.tag=11,t=id(null,t,e,n,a);break e}else if(l===Ko){t.tag=14,t=sd(null,t,e,n,a);break e}}throw t=$c(e)||e,Error(N(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=tn(n,t.pendingProps),ud(e,t,n,l,a);case 3:e:{if(Xi(t,t.stateNode.containerInfo),e===null)throw Error(N(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,mo(e,t),Al(t,n,null,a);var c=t.memoizedState;if(n=c.cache,ma(t,Me,n),n!==i.cache&&uo(t,[Me],a,!0),Tl(),n=c.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=dd(e,t,n,a);break e}else if(n!==l){l=vt(Error(N(424)),t),Hl(l),t=dd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=jt(e.firstChild),Ve=t,J=!0,ja=null,St=!0,a=um(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ia(),n===l){t=sa(e,t,a);break e}Le(e,t,n,a)}t=t.child}return t;case 26:return Ui(e,t),e===null?(a=zd(t.type,null,t.pendingProps,null))?t.memoizedState=a:J||(a=t.type,e=t.pendingProps,n=ms(Na.current).createElement(a),n[Be]=t,n[et]=e,Ge(n,a,e),ke(n),t.stateNode=n):t.memoizedState=zd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fc(t),e===null&&J&&(n=t.stateNode=Xh(t.type,t.pendingProps,Na.current),Ve=t,St=!0,l=he,qa(t.type)?(ko=l,he=jt(n.firstChild)):he=l),Le(e,t,t.pendingProps.children,a),Ui(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&J&&((l=n=he)&&(n=qp(n,t.type,t.pendingProps,St),n!==null?(t.stateNode=n,Ve=t,he=jt(n.firstChild),St=!1,l=!0):l=!1),l||za(t)),Fc(t),l=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,n=i.children,_o(l,i)?n=null:c!==null&&_o(l,c)&&(t.flags|=32),t.memoizedState!==null&&(l=gr(e,t,Iy,null,null,a),Yl._currentValue=l),Ui(e,t),Le(e,t,n,a),t.child;case 6:return e===null&&J&&((e=a=he)&&(a=kp(a,t.pendingProps,St),a!==null?(t.stateNode=a,Ve=t,he=null,e=!0):e=!1),e||za(t)),null;case 13:return Pm(e,t,a);case 4:return Xi(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pa(t,null,n,a):Le(e,t,n,a),t.child;case 11:return id(e,t,t.type,t.pendingProps,a);case 7:return Le(e,t,t.pendingProps,a),t.child;case 8:return Le(e,t,t.pendingProps.children,a),t.child;case 12:return Le(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ma(t,t.type,n.value),Le(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,Wa(t),l=Qe(l),n=n(l),t.flags|=1,Le(e,t,n,a),t.child;case 14:return sd(e,t,t.type,t.pendingProps,a);case 15:return Im(e,t,t.type,t.pendingProps,a);case 19:return eh(e,t,a);case 31:return ip(e,t,a);case 22:return Wm(e,t,a,t.pendingProps);case 24:return Wa(t),n=Qe(Me),e===null?(l=ur(),l===null&&(l=oe,i=rr(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},fr(t),ma(t,Me,l)):(e.lanes&a&&(mo(e,t),Al(t,null,null,a),Tl()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),ma(t,Me,n)):(n=i.cache,ma(t,Me,n),n!==l.cache&&uo(t,[Me],a,!0))),Le(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}function Yt(e){e.flags|=4}function jc(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Th())e.flags|=8192;else throw $a=Pi,dr}else e.flags&=-16777217}function md(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!$h(t))if(Th())e.flags|=8192;else throw $a=Pi,dr}function vi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Af():536870912,e.lanes|=t,Qn|=t)}function fl(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function cp(e,t,a){var n=t.pendingProps;switch(or(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return fe(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ta(Me),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(fn(t)?Yt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hc())),fe(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(Yt(t),i!==null?(fe(t),md(t,i)):(fe(t),jc(t,l,null,n,a))):i?i!==e.memoizedState?(Yt(t),fe(t),md(t,i)):(fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Yt(t),fe(t),jc(t,l,e,n,a)),null;case 27:if(Zi(t),a=Na.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Yt(t);else{if(!n){if(t.stateNode===null)throw Error(N(166));return fe(t),null}e=Lt.current,fn(t)?Qu(t):(e=Xh(l,n,a),t.stateNode=e,Yt(t))}return fe(t),null;case 5:if(Zi(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Yt(t);else{if(!n){if(t.stateNode===null)throw Error(N(166));return fe(t),null}if(i=Lt.current,fn(t))Qu(t);else{var c=ms(Na.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?c.createElement("select",{is:n.is}):c.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?c.createElement(l,{is:n.is}):c.createElement(l)}}i[Be]=t,i[et]=n;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(Ge(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Yt(t)}}return fe(t),jc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Yt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(e=Na.current,fn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=Ve,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[Be]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Vh(e.nodeValue,a)),e||za(t,!0)}else e=ms(e).createTextNode(n),e[Be]=t,t.stateNode=e}return fe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=fn(t),a!==null){if(e===null){if(!n)throw Error(N(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(557));e[Be]=t}else Ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),e=!1}else a=hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(it(t),t):(it(t),null);if(t.flags&128)throw Error(N(558))}return fe(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=fn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(N(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(N(317));l[Be]=t}else Ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),l=!1}else l=hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(it(t),t):(it(t),null)}return it(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),vi(t,t.updateQueue),fe(t),null);case 4:return qn(),e===null&&Ur(t.stateNode.containerInfo),fe(t),null;case 10:return ta(t.type),fe(t),null;case 19:if(He(we),n=t.memoizedState,n===null)return fe(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)fl(n,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ts(e),i!==null){for(t.flags|=128,fl(n,!1),e=i.updateQueue,t.updateQueue=e,vi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)am(a,e),a=a.sibling;return ue(we,we.current&1|2),J&&Jt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ot()>cs&&(t.flags|=128,l=!0,fl(n,!1),t.lanes=4194304)}else{if(!l)if(e=ts(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,vi(t,e),fl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!J)return fe(t),null}else 2*ot()-n.renderingStartTime>cs&&a!==536870912&&(t.flags|=128,l=!0,fl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ot(),e.sibling=null,a=we.current,ue(we,l?a&1|2:a&1),J&&Jt(t,n.treeForkCount),e):(fe(t),null);case 22:case 23:return it(t),mr(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),a=t.updateQueue,a!==null&&vi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&He(Ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ta(Me),fe(t),null;case 25:return null;case 30:return null}throw Error(N(156,t.tag))}function op(e,t){switch(or(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ta(Me),qn(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zi(t),null;case 31:if(t.memoizedState!==null){if(it(t),t.alternate===null)throw Error(N(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(it(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(we),null;case 4:return qn(),null;case 10:return ta(t.type),null;case 22:case 23:return it(t),mr(),e!==null&&He(Ka),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ta(Me),null;case 25:return null;default:return null}}function ah(e,t){switch(or(t),t.tag){case 3:ta(Me),qn();break;case 26:case 27:case 5:Zi(t);break;case 4:qn();break;case 31:t.memoizedState!==null&&it(t);break;case 13:it(t);break;case 19:He(we);break;case 10:ta(t.type);break;case 22:case 23:it(t),mr(),e!==null&&He(Ka);break;case 24:ta(Me)}}function li(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,c=a.inst;n=i(),c.destroy=n}a=a.next}while(a!==l)}}catch(o){le(t,t.return,o)}}function _a(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var c=n.inst,o=c.destroy;if(o!==void 0){c.destroy=void 0,l=t;var r=a,u=o;try{u()}catch(f){le(l,r,f)}}}n=n.next}while(n!==i)}}catch(f){le(t,t.return,f)}}function nh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{fm(t,a)}catch(n){le(e,e.return,n)}}}function lh(e,t,a){a.props=tn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){le(e,t,n)}}function Dl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){le(e,t,l)}}function kt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){le(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){le(e,t,l)}else a.current=null}function ih(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){le(e,e.return,l)}}function wc(e,t,a){try{var n=e.stateNode;Mp(n,e.type,a,t),n[et]=t}catch(l){le(e,e.return,l)}}function sh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qa(e.type)||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Wt));else if(n!==4&&(n===27&&qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(wo(e,t,a),e=e.sibling;e!==null;)wo(e,t,a),e=e.sibling}function ss(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ss(e,t,a),e=e.sibling;e!==null;)ss(e,t,a),e=e.sibling}function ch(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Ge(t,n,a),t[Be]=e,t[et]=a}catch(i){le(e,e.return,i)}}var Ft=!1,De=!1,Ac=!1,hd=typeof WeakSet=="function"?WeakSet:Set,qe=null;function rp(e,t){if(e=e.containerInfo,Oo=ps,e=$f(e),nr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,o=-1,r=-1,u=0,f=0,p=e,h=null;t:for(;;){for(var m;p!==a||l!==0&&p.nodeType!==3||(o=c+l),p!==i||n!==0&&p.nodeType!==3||(r=c+n),p.nodeType===3&&(c+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===a&&++u===l&&(o=c),h===i&&++f===n&&(r=c),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}a=o===-1||r===-1?null:{start:o,end:r}}else a=null}a=a||{start:0,end:0}}else a=null;for(zo={focusedElem:e,selectionRange:a},ps=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){switch(t=qe,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var v=tn(a.type,l);e=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(S){le(a,a.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ro(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ro(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(N(163))}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}}function oh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Zt(e,a),n&4&&li(5,a);break;case 1:if(Zt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){le(a,a.return,c)}else{var l=tn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){le(a,a.return,c)}}n&64&&nh(a),n&512&&Dl(a,a.return);break;case 3:if(Zt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{fm(e,t)}catch(c){le(a,a.return,c)}}break;case 27:t===null&&n&4&&ch(a);case 26:case 5:Zt(e,a),t===null&&n&4&&ih(a),n&512&&Dl(a,a.return);break;case 12:Zt(e,a);break;case 31:Zt(e,a),n&4&&dh(e,a);break;case 13:Zt(e,a),n&4&&fh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xp.bind(null,a),Hp(e,a))));break;case 22:if(n=a.memoizedState!==null||Ft,!n){t=t!==null&&t.memoizedState!==null||De,l=Ft;var i=De;Ft=n,(De=t)&&!i?Kt(e,a,(a.subtreeFlags&8772)!==0):Zt(e,a),Ft=l,De=i}break;case 30:break;default:Zt(e,a)}}function rh(e){var t=e.alternate;t!==null&&(e.alternate=null,rh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Io(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,Fe=!1;function Xt(e,t,a){for(a=a.child;a!==null;)uh(e,t,a),a=a.sibling}function uh(e,t,a){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Il,a)}catch{}switch(a.tag){case 26:De||kt(a,t),Xt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||kt(a,t);var n=ye,l=Fe;qa(a.type)&&(ye=a.stateNode,Fe=!1),Xt(e,t,a),zl(a.stateNode),ye=n,Fe=l;break;case 5:De||kt(a,t);case 6:if(n=ye,l=Fe,ye=null,Xt(e,t,a),ye=n,Fe=l,ye!==null)if(Fe)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(i){le(a,t,i)}else try{ye.removeChild(a.stateNode)}catch(i){le(a,t,i)}break;case 18:ye!==null&&(Fe?(e=ye,Ed(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zn(e)):Ed(ye,a.stateNode));break;case 4:n=ye,l=Fe,ye=a.stateNode.containerInfo,Fe=!0,Xt(e,t,a),ye=n,Fe=l;break;case 0:case 11:case 14:case 15:_a(2,a,t),De||_a(4,a,t),Xt(e,t,a);break;case 1:De||(kt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&lh(a,t,n)),Xt(e,t,a);break;case 21:Xt(e,t,a);break;case 22:De=(n=De)||a.memoizedState!==null,Xt(e,t,a),De=n;break;default:Xt(e,t,a)}}function dh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zn(e)}catch(a){le(t,t.return,a)}}}function fh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zn(e)}catch(a){le(t,t.return,a)}}function up(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hd),t;default:throw Error(N(435,e.tag))}}function Si(e,t){var a=up(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=bp.bind(null,e,n);n.then(l,l)}})}function $e(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,c=t,o=c;e:for(;o!==null;){switch(o.tag){case 27:if(qa(o.type)){ye=o.stateNode,Fe=!1;break e}break;case 5:ye=o.stateNode,Fe=!1;break e;case 3:case 4:ye=o.stateNode.containerInfo,Fe=!0;break e}o=o.return}if(ye===null)throw Error(N(160));uh(i,c,l),ye=null,Fe=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mh(t,e),t=t.sibling}var At=null;function mh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$e(t,e),Je(e),n&4&&(_a(3,e,e.return),li(3,e),_a(5,e,e.return));break;case 1:$e(t,e),Je(e),n&512&&(De||a===null||kt(a,a.return)),n&64&&Ft&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=At;if($e(t,e),Je(e),n&512&&(De||a===null||kt(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[ei]||i[Be]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),Ge(i,n,a),i[Be]=e,ke(i),n=i;break e;case"link":var c=Rd("link","href",l).get(n+(a.href||""));if(c){for(var o=0;o<c.length;o++)if(i=c[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(o,1);break t}}i=l.createElement(n),Ge(i,n,a),l.head.appendChild(i);break;case"meta":if(c=Rd("meta","content",l).get(n+(a.content||""))){for(o=0;o<c.length;o++)if(i=c[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(o,1);break t}}i=l.createElement(n),Ge(i,n,a),l.head.appendChild(i);break;default:throw Error(N(468,n))}i[Be]=e,ke(i),n=i}e.stateNode=n}else Ud(l,e.type,e.stateNode);else e.stateNode=_d(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?Ud(l,e.type,e.stateNode):_d(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&wc(e,e.memoizedProps,a.memoizedProps)}break;case 27:$e(t,e),Je(e),n&512&&(De||a===null||kt(a,a.return)),a!==null&&n&4&&wc(e,e.memoizedProps,a.memoizedProps);break;case 5:if($e(t,e),Je(e),n&512&&(De||a===null||kt(a,a.return)),e.flags&32){l=e.stateNode;try{Hn(l,"")}catch(v){le(e,e.return,v)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,wc(e,l,a!==null?a.memoizedProps:l)),n&1024&&(Ac=!0);break;case 6:if($e(t,e),Je(e),n&4){if(e.stateNode===null)throw Error(N(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(v){le(e,e.return,v)}}break;case 3:if(Hi=null,l=At,At=hs(t.containerInfo),$e(t,e),At=l,Je(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Zn(t.containerInfo)}catch(v){le(e,e.return,v)}Ac&&(Ac=!1,hh(e));break;case 4:n=At,At=hs(e.stateNode.containerInfo),$e(t,e),Je(e),At=n;break;case 12:$e(t,e),Je(e);break;case 31:$e(t,e),Je(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Si(e,n)));break;case 13:$e(t,e),Je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Us=ot()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Si(e,n)));break;case 22:l=e.memoizedState!==null;var r=a!==null&&a.memoizedState!==null,u=Ft,f=De;if(Ft=u||l,De=f||r,$e(t,e),De=f,Ft=u,Je(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||r||Ft||De||Ga(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){r=a=t;try{if(i=r.stateNode,l)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{o=r.stateNode;var p=r.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){le(r,r.return,v)}}}else if(t.tag===6){if(a===null){r=t;try{r.stateNode.nodeValue=l?"":r.memoizedProps}catch(v){le(r,r.return,v)}}}else if(t.tag===18){if(a===null){r=t;try{var m=r.stateNode;l?Dd(m,!0):Dd(r.stateNode,!1)}catch(v){le(r,r.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Si(e,a))));break;case 19:$e(t,e),Je(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Si(e,n)));break;case 30:break;case 21:break;default:$e(t,e),Je(e)}}function Je(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(sh(n)){a=n;break}n=n.return}if(a==null)throw Error(N(160));switch(a.tag){case 27:var l=a.stateNode,i=Tc(e);ss(e,i,l);break;case 5:var c=a.stateNode;a.flags&32&&(Hn(c,""),a.flags&=-33);var o=Tc(e);ss(e,o,c);break;case 3:case 4:var r=a.stateNode.containerInfo,u=Tc(e);wo(e,u,r);break;default:throw Error(N(161))}}catch(f){le(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)oh(e,t.alternate,t),t=t.sibling}function Ga(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_a(4,t,t.return),Ga(t);break;case 1:kt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&lh(t,t.return,a),Ga(t);break;case 27:zl(t.stateNode);case 26:case 5:kt(t,t.return),Ga(t);break;case 22:t.memoizedState===null&&Ga(t);break;case 30:Ga(t);break;default:Ga(t)}e=e.sibling}}function Kt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:Kt(l,i,a),li(4,i);break;case 1:if(Kt(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(u){le(n,n.return,u)}if(n=i,l=n.updateQueue,l!==null){var o=n.stateNode;try{var r=l.shared.hiddenCallbacks;if(r!==null)for(l.shared.hiddenCallbacks=null,l=0;l<r.length;l++)dm(r[l],o)}catch(u){le(n,n.return,u)}}a&&c&64&&nh(i),Dl(i,i.return);break;case 27:ch(i);case 26:case 5:Kt(l,i,a),a&&n===null&&c&4&&ih(i),Dl(i,i.return);break;case 12:Kt(l,i,a);break;case 31:Kt(l,i,a),a&&c&4&&dh(l,i);break;case 13:Kt(l,i,a),a&&c&4&&fh(l,i);break;case 22:i.memoizedState===null&&Kt(l,i,a),Dl(i,i.return);break;case 30:break;default:Kt(l,i,a)}t=t.sibling}}function Cr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ai(a))}function Mr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ai(e))}function Tt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gh(e,t,a,n),t=t.sibling}function gh(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Tt(e,t,a,n),l&2048&&li(9,t);break;case 1:Tt(e,t,a,n);break;case 3:Tt(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ai(e)));break;case 12:if(l&2048){Tt(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,o=i.onPostCommit;typeof o=="function"&&o(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(r){le(t,t.return,r)}}else Tt(e,t,a,n);break;case 31:Tt(e,t,a,n);break;case 13:Tt(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?Tt(e,t,a,n):Cl(e,t):i._visibility&2?Tt(e,t,a,n):(i._visibility|=2,gn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&Cr(c,t);break;case 24:Tt(e,t,a,n),l&2048&&Mr(t.alternate,t);break;default:Tt(e,t,a,n)}}function gn(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,o=a,r=n,u=c.flags;switch(c.tag){case 0:case 11:case 15:gn(i,c,o,r,l),li(8,c);break;case 23:break;case 22:var f=c.stateNode;c.memoizedState!==null?f._visibility&2?gn(i,c,o,r,l):Cl(i,c):(f._visibility|=2,gn(i,c,o,r,l)),l&&u&2048&&Cr(c.alternate,c);break;case 24:gn(i,c,o,r,l),l&&u&2048&&Mr(c.alternate,c);break;default:gn(i,c,o,r,l)}t=t.sibling}}function Cl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:Cl(a,n),l&2048&&Cr(n.alternate,n);break;case 24:Cl(a,n),l&2048&&Mr(n.alternate,n);break;default:Cl(a,n)}t=t.sibling}}var bl=8192;function mn(e,t,a){if(e.subtreeFlags&bl)for(e=e.child;e!==null;)yh(e,t,a),e=e.sibling}function yh(e,t,a){switch(e.tag){case 26:mn(e,t,a),e.flags&bl&&e.memoizedState!==null&&Fp(a,At,e.memoizedState,e.memoizedProps);break;case 5:mn(e,t,a);break;case 3:case 4:var n=At;At=hs(e.stateNode.containerInfo),mn(e,t,a),At=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,mn(e,t,a),bl=n):mn(e,t,a));break;default:mn(e,t,a)}}function ph(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ml(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];qe=n,bh(n,e)}ph(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xh(e),e=e.sibling}function xh(e){switch(e.tag){case 0:case 11:case 15:ml(e),e.flags&2048&&_a(9,e,e.return);break;case 3:ml(e);break;case 12:ml(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qi(e)):ml(e);break;default:ml(e)}}function qi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];qe=n,bh(n,e)}ph(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_a(8,t,t.return),qi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,qi(t));break;default:qi(t)}e=e.sibling}}function bh(e,t){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:_a(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ai(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,qe=n;else e:for(a=e;qe!==null;){n=qe;var l=n.sibling,i=n.return;if(rh(n),n===a){qe=null;break e}if(l!==null){l.return=i,qe=l;break e}qe=i}}}var dp={getCacheForType:function(e){var t=Qe(Me),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Qe(Me).controller.signal}},fp=typeof WeakMap=="function"?WeakMap:Map,W=0,oe=null,K=null,$=0,ne=0,lt=null,ba=!1,Wn=!1,Or=!1,ca=0,Ne=0,Ra=0,Ja=0,zr=0,ct=0,Qn=0,Ml=null,Ie=null,To=!1,Us=0,vh=0,cs=1/0,os=null,Aa=null,Re=0,Ea=null,Gn=null,aa=0,Ao=0,Eo=null,Sh=null,Ol=0,Do=null;function dt(){return W&2&&$!==0?$&-$:V.T!==null?Rr():Mf()}function Nh(){if(ct===0)if(!($&536870912)||J){var e=mi;mi<<=1,!(mi&3932160)&&(mi=262144),ct=e}else ct=536870912;return e=mt.current,e!==null&&(e.flags|=32),ct}function Pe(e,t,a){(e===oe&&(ne===2||ne===9)||e.cancelPendingCommit!==null)&&(Yn(e,0),va(e,$,ct,!1)),Pl(e,a),(!(W&2)||e!==oe)&&(e===oe&&(!(W&2)&&(Ja|=a),Ne===4&&va(e,$,ct,!1)),Vt(e))}function jh(e,t,a){if(W&6)throw Error(N(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Wl(e,t),l=n?gp(e,t):Ec(e,t,!0),i=n;do{if(l===0){Wn&&!n&&va(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!mp(a)){l=Ec(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var o=e;l=Ml;var r=o.current.memoizedState.isDehydrated;if(r&&(Yn(o,c).flags|=256),c=Ec(o,c,!1),c!==2){if(Or&&!r){o.errorRecoveryDisabledLanes|=i,Ja|=i,l=4;break e}i=Ie,Ie=l,i!==null&&(Ie===null?Ie=i:Ie.push.apply(Ie,i))}l=c}if(i=!1,l!==2)continue}}if(l===1){Yn(e,0),va(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(N(345));case 4:if((t&4194048)!==t)break;case 6:va(n,t,ct,!ba);break e;case 2:Ie=null;break;case 3:case 5:break;default:throw Error(N(329))}if((t&62914560)===t&&(l=Us+300-ot(),10<l)){if(va(n,t,ct,!ba),ws(n,0,!0)!==0)break e;aa=t,n.timeoutHandle=Gh(gd.bind(null,n,a,Ie,os,To,t,ct,Ja,Qn,ba,i,"Throttled",-0,0),l);break e}gd(n,a,Ie,os,To,t,ct,Ja,Qn,ba,i,null,-0,0)}}break}while(!0);Vt(e)}function gd(e,t,a,n,l,i,c,o,r,u,f,p,h,m){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},yh(t,i,p);var v=(i&62914560)===i?Us-ot():(i&4194048)===i?vh-ot():0;if(v=Ip(p,v),v!==null){aa=i,e.cancelPendingCommit=v(pd.bind(null,e,t,i,a,n,l,c,o,r,f,p,null,h,m)),va(e,i,c,!u);return}}pd(e,t,i,a,n,l,c,o,r)}function mp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!ft(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function va(e,t,a,n){t&=~zr,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-ut(l),c=1<<i;n[i]=-1,l&=~c}a!==0&&Ef(e,a,t)}function qs(){return W&6?!0:(ii(0),!1)}function _r(){if(K!==null){if(ne===0)var e=K.return;else e=K,Pt=rn=null,xr(e),_n=null,Ll=0,e=K;for(;e!==null;)ah(e.alternate,e),e=e.return;K=null}}function Yn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_p(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),aa=0,_r(),oe=e,K=a=ea(e.current,null),$=t,ne=0,lt=null,ba=!1,Wn=Wl(e,t),Or=!1,Qn=ct=zr=Ja=Ra=Ne=0,Ie=Ml=null,To=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-ut(n),i=1<<l;t|=e[l],n&=~i}return ca=t,Ds(),a}function wh(e,t){G=null,V.H=Vl,t===In||t===Ms?(t=Ku(),ne=3):t===dr?(t=Ku(),ne=4):ne=t===Er?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,lt=t,K===null&&(Ne=1,ls(e,vt(t,e.current)))}function Th(){var e=mt.current;return e===null?!0:($&4194048)===$?Nt===null:($&62914560)===$||$&536870912?e===Nt:!1}function Ah(){var e=V.H;return V.H=Vl,e===null?Vl:e}function Eh(){var e=V.A;return V.A=dp,e}function rs(){Ne=4,ba||($&4194048)!==$&&mt.current!==null||(Wn=!0),!(Ra&134217727)&&!(Ja&134217727)||oe===null||va(oe,$,ct,!1)}function Ec(e,t,a){var n=W;W|=2;var l=Ah(),i=Eh();(oe!==e||$!==t)&&(os=null,Yn(e,t)),t=!1;var c=Ne;e:do try{if(ne!==0&&K!==null){var o=K,r=lt;switch(ne){case 8:_r(),c=6;break e;case 3:case 2:case 9:case 6:mt.current===null&&(t=!0);var u=ne;if(ne=0,lt=null,Dn(e,o,r,u),a&&Wn){c=0;break e}break;default:u=ne,ne=0,lt=null,Dn(e,o,r,u)}}hp(),c=Ne;break}catch(f){wh(e,f)}while(!0);return t&&e.shellSuspendCounter++,Pt=rn=null,W=n,V.H=l,V.A=i,K===null&&(oe=null,$=0,Ds()),c}function hp(){for(;K!==null;)Dh(K)}function gp(e,t){var a=W;W|=2;var n=Ah(),l=Eh();oe!==e||$!==t?(os=null,cs=ot()+500,Yn(e,t)):Wn=Wl(e,t);e:do try{if(ne!==0&&K!==null){t=K;var i=lt;t:switch(ne){case 1:ne=0,lt=null,Dn(e,t,i,1);break;case 2:case 9:if(Zu(i)){ne=0,lt=null,yd(t);break}t=function(){ne!==2&&ne!==9||oe!==e||(ne=7),Vt(e)},i.then(t,t);break e;case 3:ne=7;break e;case 4:ne=5;break e;case 7:Zu(i)?(ne=0,lt=null,yd(t)):(ne=0,lt=null,Dn(e,t,i,7));break;case 5:var c=null;switch(K.tag){case 26:c=K.memoizedState;case 5:case 27:var o=K;if(c?$h(c):o.stateNode.complete){ne=0,lt=null;var r=o.sibling;if(r!==null)K=r;else{var u=o.return;u!==null?(K=u,ks(u)):K=null}break t}}ne=0,lt=null,Dn(e,t,i,5);break;case 6:ne=0,lt=null,Dn(e,t,i,6);break;case 8:_r(),Ne=6;break e;default:throw Error(N(462))}}yp();break}catch(f){wh(e,f)}while(!0);return Pt=rn=null,V.H=n,V.A=l,W=a,K!==null?0:(oe=null,$=0,Ds(),Ne)}function yp(){for(;K!==null&&!L0();)Dh(K)}function Dh(e){var t=th(e.alternate,e,ca);e.memoizedProps=e.pendingProps,t===null?ks(e):K=t}function yd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=rd(a,t,t.pendingProps,t.type,void 0,$);break;case 11:t=rd(a,t,t.pendingProps,t.type.render,t.ref,$);break;case 5:xr(t);default:ah(a,t),t=K=am(t,ca),t=th(a,t,ca)}e.memoizedProps=e.pendingProps,t===null?ks(e):K=t}function Dn(e,t,a,n){Pt=rn=null,xr(t),_n=null,Ll=0;var l=t.return;try{if(lp(e,l,t,a,$)){Ne=1,ls(e,vt(a,e.current)),K=null;return}}catch(i){if(l!==null)throw K=l,i;Ne=1,ls(e,vt(a,e.current)),K=null;return}t.flags&32768?(J||n===1?e=!0:Wn||$&536870912?e=!1:(ba=e=!0,(n===2||n===9||n===3||n===6)&&(n=mt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ch(t,e)):ks(t)}function ks(e){var t=e;do{if(t.flags&32768){Ch(t,ba);return}e=t.return;var a=cp(t.alternate,t,ca);if(a!==null){K=a;return}if(t=t.sibling,t!==null){K=t;return}K=t=e}while(t!==null);Ne===0&&(Ne=5)}function Ch(e,t){do{var a=op(e.alternate,e);if(a!==null){a.flags&=32767,K=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){K=e;return}K=e=a}while(e!==null);Ne=6,K=null}function pd(e,t,a,n,l,i,c,o,r){e.cancelPendingCommit=null;do Hs();while(Re!==0);if(W&6)throw Error(N(327));if(t!==null){if(t===e.current)throw Error(N(177));if(i=t.lanes|t.childLanes,i|=lr,J0(e,a,i,c,o,r),e===oe&&(K=oe=null,$=0),Gn=t,Ea=e,aa=a,Ao=i,Eo=l,Sh=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,vp(Ki,function(){return Rh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=V.T,V.T=null,l=P.p,P.p=2,c=W,W|=4;try{rp(e,t,a)}finally{W=c,P.p=l,V.T=n}}Re=1,Mh(),Oh(),zh()}}function Mh(){if(Re===1){Re=0;var e=Ea,t=Gn,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=V.T,V.T=null;var n=P.p;P.p=2;var l=W;W|=4;try{mh(t,e);var i=zo,c=$f(e.containerInfo),o=i.focusedElem,r=i.selectionRange;if(c!==o&&o&&o.ownerDocument&&Kf(o.ownerDocument.documentElement,o)){if(r!==null&&nr(o)){var u=r.start,f=r.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var p=o.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=o.textContent.length,S=Math.min(r.start,v),M=r.end===void 0?S:Math.min(r.end,v);!m.extend&&S>M&&(c=M,M=S,S=c);var g=Lu(o,S),d=Lu(o,M);if(g&&d&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==d.node||m.focusOffset!==d.offset)){var y=p.createRange();y.setStart(g.node,g.offset),m.removeAllRanges(),S>M?(m.addRange(y),m.extend(d.node,d.offset)):(y.setEnd(d.node,d.offset),m.addRange(y))}}}}for(p=[],m=o;m=m.parentNode;)m.nodeType===1&&p.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var b=p[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}ps=!!Oo,zo=Oo=null}finally{W=l,P.p=n,V.T=a}}e.current=t,Re=2}}function Oh(){if(Re===2){Re=0;var e=Ea,t=Gn,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=V.T,V.T=null;var n=P.p;P.p=2;var l=W;W|=4;try{oh(e,t.alternate,t)}finally{W=l,P.p=n,V.T=a}}Re=3}}function zh(){if(Re===4||Re===3){Re=0,B0();var e=Ea,t=Gn,a=aa,n=Sh;t.subtreeFlags&10256||t.flags&10256?Re=5:(Re=0,Gn=Ea=null,_h(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Aa=null),Fo(a),t=t.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Il,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=V.T,l=P.p,P.p=2,V.T=null;try{for(var i=e.onRecoverableError,c=0;c<n.length;c++){var o=n[c];i(o.value,{componentStack:o.stack})}}finally{V.T=t,P.p=l}}aa&3&&Hs(),Vt(e),l=e.pendingLanes,a&261930&&l&42?e===Do?Ol++:(Ol=0,Do=e):Ol=0,ii(0)}}function _h(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ai(t)))}function Hs(){return Mh(),Oh(),zh(),Rh()}function Rh(){if(Re!==5)return!1;var e=Ea,t=Ao;Ao=0;var a=Fo(aa),n=V.T,l=P.p;try{P.p=32>a?32:a,V.T=null,a=Eo,Eo=null;var i=Ea,c=aa;if(Re=0,Gn=Ea=null,aa=0,W&6)throw Error(N(331));var o=W;if(W|=4,xh(i.current),gh(i,i.current,c,a),W=o,ii(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Il,i)}catch{}return!0}finally{P.p=l,V.T=n,_h(e,t)}}function xd(e,t,a){t=vt(a,t),t=So(e.stateNode,t,2),e=Ta(e,t,2),e!==null&&(Pl(e,2),Vt(e))}function le(e,t,a){if(e.tag===3)xd(e,e,a);else for(;t!==null;){if(t.tag===3){xd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Aa===null||!Aa.has(n))){e=vt(a,e),a=Jm(2),n=Ta(t,a,2),n!==null&&(Fm(a,n,t,e),Pl(n,2),Vt(n));break}}t=t.return}}function Dc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new fp;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(Or=!0,l.add(a),e=pp.bind(null,e,t,a),t.then(e,e))}function pp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&($&a)===a&&(Ne===4||Ne===3&&($&62914560)===$&&300>ot()-Us?!(W&2)&&Yn(e,0):zr|=a,Qn===$&&(Qn=0)),Vt(e)}function Uh(e,t){t===0&&(t=Af()),e=on(e,t),e!==null&&(Pl(e,t),Vt(e))}function xp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Uh(e,a)}function bp(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(N(314))}n!==null&&n.delete(t),Uh(e,a)}function vp(e,t){return $o(e,t)}var us=null,yn=null,Co=!1,ds=!1,Cc=!1,Sa=0;function Vt(e){e!==yn&&e.next===null&&(yn===null?us=yn=e:yn=yn.next=e),ds=!0,Co||(Co=!0,Np())}function ii(e,t){if(!Cc&&ds){Cc=!0;do for(var a=!1,n=us;n!==null;){if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var c=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-ut(42|e)+1)-1,i&=l&~(c&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,bd(n,i))}else i=$,i=ws(n,n===oe?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Wl(n,i)||(a=!0,bd(n,i));n=n.next}while(a);Cc=!1}}function Sp(){qh()}function qh(){ds=Co=!1;var e=0;Sa!==0&&zp()&&(e=Sa);for(var t=ot(),a=null,n=us;n!==null;){var l=n.next,i=kh(n,t);i===0?(n.next=null,a===null?us=l:a.next=l,l===null&&(yn=a)):(a=n,(e!==0||i&3)&&(ds=!0)),n=l}Re!==0&&Re!==5||ii(e),Sa!==0&&(Sa=0)}function kh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-ut(i),o=1<<c,r=l[c];r===-1?(!(o&a)||o&n)&&(l[c]=$0(o,t)):r<=t&&(e.expiredLanes|=o),i&=~o}if(t=oe,a=$,a=ws(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ne===2||ne===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Wl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&nc(n),Fo(a)){case 2:case 8:a=wf;break;case 32:a=Ki;break;case 268435456:a=Tf;break;default:a=Ki}return n=Hh.bind(null,e),a=$o(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&nc(n),e.callbackPriority=2,e.callbackNode=null,2}function Hh(e,t){if(Re!==0&&Re!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Hs()&&e.callbackNode!==a)return null;var n=$;return n=ws(e,e===oe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(jh(e,n,t),kh(e,ot()),e.callbackNode!=null&&e.callbackNode===a?Hh.bind(null,e):null)}function bd(e,t){if(Hs())return null;jh(e,t,!0)}function Np(){Rp(function(){W&6?$o(jf,Sp):qh()})}function Rr(){if(Sa===0){var e=Ln;e===0&&(e=fi,fi<<=1,!(fi&261888)&&(fi=256)),Sa=e}return Sa}function vd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ei(""+e)}function Sd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function jp(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=vd((l[et]||null).action),c=n.submitter;c&&(t=(t=c[et]||null)?vd(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var o=new Ts("action","action",null,n,l);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Sa!==0){var r=c?Sd(l,c):new FormData(l);bo(a,{pending:!0,data:r,method:l.method,action:i},null,r)}}else typeof i=="function"&&(o.preventDefault(),r=c?Sd(l,c):new FormData(l),bo(a,{pending:!0,data:r,method:l.method,action:i},i,r))},currentTarget:l}]})}}for(var Mc=0;Mc<so.length;Mc++){var Oc=so[Mc],wp=Oc.toLowerCase(),Tp=Oc[0].toUpperCase()+Oc.slice(1);Mt(wp,"on"+Tp)}Mt(Ff,"onAnimationEnd");Mt(If,"onAnimationIteration");Mt(Wf,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(Vy,"onTransitionRun");Mt(Qy,"onTransitionStart");Mt(Gy,"onTransitionCancel");Mt(Pf,"onTransitionEnd");kn("onMouseEnter",["mouseout","mouseover"]);kn("onMouseLeave",["mouseout","mouseover"]);kn("onPointerEnter",["pointerout","pointerover"]);kn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Lh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var c=n.length-1;0<=c;c--){var o=n[c],r=o.instance,u=o.currentTarget;if(o=o.listener,r!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=u;try{i(l)}catch(f){Ji(f)}l.currentTarget=null,i=r}else for(c=0;c<n.length;c++){if(o=n[c],r=o.instance,u=o.currentTarget,o=o.listener,r!==i&&l.isPropagationStopped())break e;i=o,l.currentTarget=u;try{i(l)}catch(f){Ji(f)}l.currentTarget=null,i=r}}}}function Z(e,t){var a=t[Wc];a===void 0&&(a=t[Wc]=new Set);var n=e+"__bubble";a.has(n)||(Bh(t,e,2,!1),a.add(n))}function zc(e,t,a){var n=0;t&&(n|=4),Bh(a,e,n,t)}var Ni="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Ni]){e[Ni]=!0,Of.forEach(function(a){a!=="selectionchange"&&(Ap.has(a)||zc(a,!1,e),zc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ni]||(t[Ni]=!0,zc("selectionchange",!1,t))}}function Bh(e,t,a,n){switch(Ph(t)){case 2:var l=ex;break;case 8:l=tx;break;default:l=Lr}a=l.bind(null,t,a,e),l=void 0,!no||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function _c(e,t,a,n,l){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var o=n.stateNode.containerInfo;if(o===l)break;if(c===4)for(c=n.return;c!==null;){var r=c.tag;if((r===3||r===4)&&c.stateNode.containerInfo===l)return;c=c.return}for(;o!==null;){if(c=bn(o),c===null)return;if(r=c.tag,r===5||r===6||r===26||r===27){n=i=c;continue e}o=o.parentNode}}n=n.return}Lf(function(){var u=i,f=Po(a),p=[];e:{var h=em.get(e);if(h!==void 0){var m=Ts,v=e;switch(e){case"keypress":if(Ci(a)===0)break e;case"keydown":case"keyup":m=by;break;case"focusin":v="focus",m=oc;break;case"focusout":v="blur",m=oc;break;case"beforeblur":case"afterblur":m=oc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ny;break;case Ff:case If:case Wf:m=uy;break;case Pf:m=wy;break;case"scroll":case"scrollend":m=iy;break;case"wheel":m=Ay;break;case"copy":case"cut":case"paste":m=fy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ou;break;case"toggle":case"beforetoggle":m=Dy}var S=(t&4)!==0,M=!S&&(e==="scroll"||e==="scrollend"),g=S?h!==null?h+"Capture":null:h;S=[];for(var d=u,y;d!==null;){var b=d;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||g===null||(b=Rl(d,g),b!=null&&S.push(Gl(d,b,y))),M)break;d=d.return}0<S.length&&(h=new m(h,v,null,a,f),p.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&a!==ao&&(v=a.relatedTarget||a.fromElement)&&(bn(v)||v[$n]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=a.relatedTarget||a.toElement,m=u,v=v?bn(v):null,v!==null&&(M=Fl(v),S=v.tag,v!==M||S!==5&&S!==27&&S!==6)&&(v=null)):(m=null,v=u),m!==v)){if(S=Cu,b="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=Ou,b="onPointerLeave",g="onPointerEnter",d="pointer"),M=m==null?h:pl(m),y=v==null?h:pl(v),h=new S(b,d+"leave",m,a,f),h.target=M,h.relatedTarget=y,b=null,bn(f)===u&&(S=new S(g,d+"enter",v,a,f),S.target=y,S.relatedTarget=M,b=S),M=b,m&&v)t:{for(S=Ep,g=m,d=v,y=0,b=g;b;b=S(b))y++;b=0;for(var E=d;E;E=S(E))b++;for(;0<y-b;)g=S(g),y--;for(;0<b-y;)d=S(d),b--;for(;y--;){if(g===d||d!==null&&g===d.alternate){S=g;break t}g=S(g),d=S(d)}S=null}else S=null;m!==null&&Nd(p,h,m,S,!1),v!==null&&M!==null&&Nd(p,M,v,S,!0)}}e:{if(h=u?pl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var z=Uu;else if(Ru(h))if(Xf)z=Hy;else{z=qy;var w=Uy}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Wo(u.elementType)&&(z=Uu):z=ky;if(z&&(z=z(e,u))){Yf(p,z,a,f);break e}w&&w(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&to(h,"number",h.value)}switch(w=u?pl(u):window,e){case"focusin":(Ru(w)||w.contentEditable==="true")&&(Nn=w,lo=u,Nl=null);break;case"focusout":Nl=lo=Nn=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,Bu(p,a,f);break;case"selectionchange":if(By)break;case"keydown":case"keyup":Bu(p,a,f)}var R;if(ar)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Sn?Qf(e,a)&&(T="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(T="onCompositionStart");T&&(Vf&&a.locale!=="ko"&&(Sn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Sn&&(R=Bf()):(xa=f,er="value"in xa?xa.value:xa.textContent,Sn=!0)),w=fs(u,T),0<w.length&&(T=new Mu(T,e,null,a,f),p.push({event:T,listeners:w}),R?T.data=R:(R=Gf(a),R!==null&&(T.data=R)))),(R=My?Oy(e,a):zy(e,a))&&(T=fs(u,"onBeforeInput"),0<T.length&&(w=new Mu("onBeforeInput","beforeinput",null,a,f),p.push({event:w,listeners:T}),w.data=R)),jp(p,e,u,a,f)}Lh(p,t)})}function Gl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function fs(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Rl(e,a),l!=null&&n.unshift(Gl(e,l,i)),l=Rl(e,t),l!=null&&n.push(Gl(e,l,i))),e.tag===3)return n;e=e.return}return[]}function Ep(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Nd(e,t,a,n,l){for(var i=t._reactName,c=[];a!==null&&a!==n;){var o=a,r=o.alternate,u=o.stateNode;if(o=o.tag,r!==null&&r===n)break;o!==5&&o!==26&&o!==27||u===null||(r=u,l?(u=Rl(a,i),u!=null&&c.unshift(Gl(a,u,r))):l||(u=Rl(a,i),u!=null&&c.push(Gl(a,u,r)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var Dp=/\r\n?/g,Cp=/\u0000|\uFFFD/g;function jd(e){return(typeof e=="string"?e:""+e).replace(Dp,`
`).replace(Cp,"")}function Vh(e,t){return t=jd(t),jd(e)===t}function ie(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Hn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Hn(e,""+n);break;case"className":gi(e,"class",n);break;case"tabIndex":gi(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,a,n);break;case"style":Hf(e,n,i);break;case"data":if(t!=="object"){gi(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ei(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&ie(e,t,"name",l.name,l,null),ie(e,t,"formEncType",l.formEncType,l,null),ie(e,t,"formMethod",l.formMethod,l,null),ie(e,t,"formTarget",l.formTarget,l,null)):(ie(e,t,"encType",l.encType,l,null),ie(e,t,"method",l.method,l,null),ie(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ei(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Wt);break;case"onScroll":n!=null&&Z("scroll",e);break;case"onScrollEnd":n!=null&&Z("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(N(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(N(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ei(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Z("beforetoggle",e),Z("toggle",e),Ai(e,"popover",n);break;case"xlinkActuate":Gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Gt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Gt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Gt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Gt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ai(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ny.get(a)||a,Ai(e,a,n))}}function Mo(e,t,a,n,l,i){switch(a){case"style":Hf(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(N(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(N(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Hn(e,n):(typeof n=="number"||typeof n=="bigint")&&Hn(e,""+n);break;case"onScroll":n!=null&&Z("scroll",e);break;case"onScrollEnd":n!=null&&Z("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[et]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ai(e,a,n)}}}function Ge(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Z("error",e),Z("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:ie(e,t,i,c,a,null)}}l&&ie(e,t,"srcSet",a.srcSet,a,null),n&&ie(e,t,"src",a.src,a,null);return;case"input":Z("invalid",e);var o=i=c=l=null,r=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var f=a[n];if(f!=null)switch(n){case"name":l=f;break;case"type":c=f;break;case"checked":r=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(N(137,t));break;default:ie(e,t,n,f,a,null)}}Uf(e,i,o,r,u,c,l,!1);return;case"select":Z("invalid",e),n=c=i=null;for(l in a)if(a.hasOwnProperty(l)&&(o=a[l],o!=null))switch(l){case"value":i=o;break;case"defaultValue":c=o;break;case"multiple":n=o;default:ie(e,t,l,o,a,null)}t=i,a=c,e.multiple=!!n,t!=null?Mn(e,!!n,t,!1):a!=null&&Mn(e,!!n,a,!0);return;case"textarea":Z("invalid",e),i=l=n=null;for(c in a)if(a.hasOwnProperty(c)&&(o=a[c],o!=null))switch(c){case"value":n=o;break;case"defaultValue":l=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(N(91));break;default:ie(e,t,c,o,a,null)}kf(e,n,l,i);return;case"option":for(r in a)if(a.hasOwnProperty(r)&&(n=a[r],n!=null))switch(r){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ie(e,t,r,n,a,null)}return;case"dialog":Z("beforetoggle",e),Z("toggle",e),Z("cancel",e),Z("close",e);break;case"iframe":case"object":Z("load",e);break;case"video":case"audio":for(n=0;n<Ql.length;n++)Z(Ql[n],e);break;case"image":Z("error",e),Z("load",e);break;case"details":Z("toggle",e);break;case"embed":case"source":case"link":Z("error",e),Z("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:ie(e,t,u,n,a,null)}return;default:if(Wo(t)){for(f in a)a.hasOwnProperty(f)&&(n=a[f],n!==void 0&&Mo(e,t,f,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&ie(e,t,o,n,a,null))}function Mp(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,c=null,o=null,r=null,u=null,f=null;for(m in a){var p=a[m];if(a.hasOwnProperty(m)&&p!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":r=p;default:n.hasOwnProperty(m)||ie(e,t,m,null,n,p)}}for(var h in n){var m=n[h];if(p=a[h],n.hasOwnProperty(h)&&(m!=null||p!=null))switch(h){case"type":i=m;break;case"name":l=m;break;case"checked":u=m;break;case"defaultChecked":f=m;break;case"value":c=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(N(137,t));break;default:m!==p&&ie(e,t,h,m,n,p)}}eo(e,c,o,r,u,f,i,l);return;case"select":m=c=o=h=null;for(i in a)if(r=a[i],a.hasOwnProperty(i)&&r!=null)switch(i){case"value":break;case"multiple":m=r;default:n.hasOwnProperty(i)||ie(e,t,i,null,n,r)}for(l in n)if(i=n[l],r=a[l],n.hasOwnProperty(l)&&(i!=null||r!=null))switch(l){case"value":h=i;break;case"defaultValue":o=i;break;case"multiple":c=i;default:i!==r&&ie(e,t,l,i,n,r)}t=o,a=c,n=m,h!=null?Mn(e,!!a,h,!1):!!n!=!!a&&(t!=null?Mn(e,!!a,t,!0):Mn(e,!!a,a?[]:"",!1));return;case"textarea":m=h=null;for(o in a)if(l=a[o],a.hasOwnProperty(o)&&l!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ie(e,t,o,null,n,l)}for(c in n)if(l=n[c],i=a[c],n.hasOwnProperty(c)&&(l!=null||i!=null))switch(c){case"value":h=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(N(91));break;default:l!==i&&ie(e,t,c,l,n,i)}qf(e,h,m);return;case"option":for(var v in a)if(h=a[v],a.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:ie(e,t,v,null,n,h)}for(r in n)if(h=n[r],m=a[r],n.hasOwnProperty(r)&&h!==m&&(h!=null||m!=null))switch(r){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ie(e,t,r,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in a)h=a[S],a.hasOwnProperty(S)&&h!=null&&!n.hasOwnProperty(S)&&ie(e,t,S,null,n,h);for(u in n)if(h=n[u],m=a[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,t));break;default:ie(e,t,u,h,n,m)}return;default:if(Wo(t)){for(var M in a)h=a[M],a.hasOwnProperty(M)&&h!==void 0&&!n.hasOwnProperty(M)&&Mo(e,t,M,void 0,n,h);for(f in n)h=n[f],m=a[f],!n.hasOwnProperty(f)||h===m||h===void 0&&m===void 0||Mo(e,t,f,h,n,m);return}}for(var g in a)h=a[g],a.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g)&&ie(e,t,g,null,n,h);for(p in n)h=n[p],m=a[p],!n.hasOwnProperty(p)||h===m||h==null&&m==null||ie(e,t,p,h,n,m)}function wd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Op(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,c=l.initiatorType,o=l.duration;if(i&&o&&wd(c)){for(c=0,o=l.responseEnd,n+=1;n<a.length;n++){var r=a[n],u=r.startTime;if(u>o)break;var f=r.transferSize,p=r.initiatorType;f&&wd(p)&&(r=r.responseEnd,c+=f*(r<o?1:(o-u)/(r-u)))}if(--n,t+=8*(i+c)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Oo=null,zo=null;function ms(e){return e.nodeType===9?e:e.ownerDocument}function Td(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rc=null;function zp(){var e=window.event;return e&&e.type==="popstate"?e===Rc?!1:(Rc=e,!0):(Rc=null,!1)}var Gh=typeof setTimeout=="function"?setTimeout:void 0,_p=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,Rp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(e){return Ad.resolve(null).then(e).catch(Up)}:Gh;function Up(e){setTimeout(function(){throw e})}function qa(e){return e==="head"}function Ed(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),Zn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")zl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,zl(a);for(var i=a.firstChild;i;){var c=i.nextSibling,o=i.nodeName;i[ei]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=c}}else a==="body"&&zl(e.ownerDocument.body);a=l}while(a);Zn(t)}function Dd(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Ro(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ro(a),Io(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qp(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[ei])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function kp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jt(e.nextSibling),e===null))return null;return e}function Yh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jt(e.nextSibling),e===null))return null;return e}function Uo(e){return e.data==="$?"||e.data==="$~"}function qo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ko=null;function Cd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return jt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Xh(e,t,a){switch(t=ms(a),e){case"html":if(e=t.documentElement,!e)throw Error(N(452));return e;case"head":if(e=t.head,!e)throw Error(N(453));return e;case"body":if(e=t.body,!e)throw Error(N(454));return e;default:throw Error(N(451))}}function zl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Io(e)}var wt=new Map,Od=new Set;function hs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oa=P.d;P.d={f:Lp,r:Bp,D:Vp,C:Qp,L:Gp,m:Yp,X:Zp,S:Xp,M:Kp};function Lp(){var e=oa.f(),t=qs();return e||t}function Bp(e){var t=Jn(e);t!==null&&t.tag===5&&t.type==="form"?Hm(t):oa.r(e)}var Pn=typeof document>"u"?null:document;function Zh(e,t,a){var n=Pn;if(n&&typeof t=="string"&&t){var l=bt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),Od.has(l)||(Od.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),Ge(t,"link",e),ke(t),n.head.appendChild(t)))}}function Vp(e){oa.D(e),Zh("dns-prefetch",e,null)}function Qp(e,t){oa.C(e,t),Zh("preconnect",e,t)}function Gp(e,t,a){oa.L(e,t,a);var n=Pn;if(n&&e&&t){var l='link[rel="preload"][as="'+bt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+bt(a.imageSizes)+'"]')):l+='[href="'+bt(e)+'"]';var i=l;switch(t){case"style":i=Xn(e);break;case"script":i=el(e)}wt.has(i)||(e=ge({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),wt.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(si(i))||t==="script"&&n.querySelector(ci(i))||(t=n.createElement("link"),Ge(t,"link",e),ke(t),n.head.appendChild(t)))}}function Yp(e,t){oa.m(e,t);var a=Pn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+bt(n)+'"][href="'+bt(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=el(e)}if(!wt.has(i)&&(e=ge({rel:"modulepreload",href:e},t),wt.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ci(i)))return}n=a.createElement("link"),Ge(n,"link",e),ke(n),a.head.appendChild(n)}}}function Xp(e,t,a){oa.S(e,t,a);var n=Pn;if(n&&e){var l=Cn(n).hoistableStyles,i=Xn(e);t=t||"default";var c=l.get(i);if(!c){var o={loading:0,preload:null};if(c=n.querySelector(si(i)))o.loading=5;else{e=ge({rel:"stylesheet",href:e,"data-precedence":t},a),(a=wt.get(i))&&qr(e,a);var r=c=n.createElement("link");ke(r),Ge(r,"link",e),r._p=new Promise(function(u,f){r.onload=u,r.onerror=f}),r.addEventListener("load",function(){o.loading|=1}),r.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ki(c,t,n)}c={type:"stylesheet",instance:c,count:1,state:o},l.set(i,c)}}}function Zp(e,t){oa.X(e,t);var a=Pn;if(a&&e){var n=Cn(a).hoistableScripts,l=el(e),i=n.get(l);i||(i=a.querySelector(ci(l)),i||(e=ge({src:e,async:!0},t),(t=wt.get(l))&&kr(e,t),i=a.createElement("script"),ke(i),Ge(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function Kp(e,t){oa.M(e,t);var a=Pn;if(a&&e){var n=Cn(a).hoistableScripts,l=el(e),i=n.get(l);i||(i=a.querySelector(ci(l)),i||(e=ge({src:e,async:!0,type:"module"},t),(t=wt.get(l))&&kr(e,t),i=a.createElement("script"),ke(i),Ge(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function zd(e,t,a,n){var l=(l=Na.current)?hs(l):null;if(!l)throw Error(N(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Xn(a.href),a=Cn(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xn(a.href);var i=Cn(l).hoistableStyles,c=i.get(e);if(c||(l=l.ownerDocument||l,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=l.querySelector(si(e)))&&!i._p&&(c.instance=i,c.state.loading=5),wt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wt.set(e,a),i||$p(l,e,a,c.state))),t&&n===null)throw Error(N(528,""));return c}if(t&&n!==null)throw Error(N(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=el(a),a=Cn(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,e))}}function Xn(e){return'href="'+bt(e)+'"'}function si(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return ge({},e,{"data-precedence":e.precedence,precedence:null})}function $p(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ge(t,"link",a),ke(t),e.head.appendChild(t))}function el(e){return'[src="'+bt(e)+'"]'}function ci(e){return"script[async]"+e}function _d(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+bt(a.href)+'"]');if(n)return t.instance=n,ke(n),n;var l=ge({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ke(n),Ge(n,"style",l),ki(n,a.precedence,e),t.instance=n;case"stylesheet":l=Xn(a.href);var i=e.querySelector(si(l));if(i)return t.state.loading|=4,t.instance=i,ke(i),i;n=Kh(a),(l=wt.get(l))&&qr(n,l),i=(e.ownerDocument||e).createElement("link"),ke(i);var c=i;return c._p=new Promise(function(o,r){c.onload=o,c.onerror=r}),Ge(i,"link",n),t.state.loading|=4,ki(i,a.precedence,e),t.instance=i;case"script":return i=el(a.src),(l=e.querySelector(ci(i)))?(t.instance=l,ke(l),l):(n=a,(l=wt.get(i))&&(n=ge({},a),kr(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),ke(l),Ge(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,ki(n,a.precedence,e));return t.instance}function ki(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,c=0;c<n.length;c++){var o=n[c];if(o.dataset.precedence===t)i=o;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function qr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function kr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hi=null;function Rd(e,t,a){if(Hi===null){var n=new Map,l=Hi=new Map;l.set(a,n)}else l=Hi,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[ei]||i[Be]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var o=n.get(c);o?o.push(i):n.set(c,[i])}}return n}function Ud(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Jp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $h(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Fp(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var l=Xn(n.href),i=t.querySelector(si(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=gs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,ke(i);return}i=t.ownerDocument||t,n=Kh(n),(l=wt.get(l))&&qr(n,l),i=i.createElement("link"),ke(i);var c=i;c._p=new Promise(function(o,r){c.onload=o,c.onerror=r}),Ge(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=gs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Uc=0;function Ip(e,t){return e.stylesheets&&e.count===0&&Li(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Li(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Uc===0&&(Uc=62500*Op());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Li(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Uc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function gs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Li(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ys=null;function Li(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ys=new Map,t.forEach(Wp,e),ys=null,gs.call(e))}function Wp(e,t){if(!(t.state.loading&4)){var a=ys.get(e);if(a)var n=a.get(null);else{a=new Map,ys.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var c=l[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),n=c)}n&&a.set(null,n)}l=t.instance,c=l.getAttribute("data-precedence"),i=a.get(c)||n,i===n&&a.set(null,l),a.set(c,l),this.count++,n=gs.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Yl={$$typeof:It,Provider:null,Consumer:null,_currentValue:Xa,_currentValue2:Xa,_threadCount:0};function Pp(e,t,a,n,l,i,c,o,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.hiddenUpdates=lc(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function Jh(e,t,a,n,l,i,c,o,r,u,f,p){return e=new Pp(e,t,a,c,r,u,f,p,o),t=1,i===!0&&(t|=24),i=st(3,null,null,t),e.current=i,i.stateNode=e,t=rr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},fr(i),e}function Fh(e){return e?(e=Tn,e):Tn}function Ih(e,t,a,n,l,i){l=Fh(l),n.context===null?n.context=l:n.pendingContext=l,n=wa(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Ta(e,n,t),a!==null&&(Pe(a,e,t),wl(a,e,t))}function qd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Hr(e,t){qd(e,t),(e=e.alternate)&&qd(e,t)}function Wh(e){if(e.tag===13||e.tag===31){var t=on(e,67108864);t!==null&&Pe(t,e,67108864),Hr(e,67108864)}}function kd(e){if(e.tag===13||e.tag===31){var t=dt();t=Jo(t);var a=on(e,t);a!==null&&Pe(a,e,t),Hr(e,t)}}var ps=!0;function ex(e,t,a,n){var l=V.T;V.T=null;var i=P.p;try{P.p=2,Lr(e,t,a,n)}finally{P.p=i,V.T=l}}function tx(e,t,a,n){var l=V.T;V.T=null;var i=P.p;try{P.p=8,Lr(e,t,a,n)}finally{P.p=i,V.T=l}}function Lr(e,t,a,n){if(ps){var l=Ho(n);if(l===null)_c(e,t,n,xs,a),Hd(e,n);else if(nx(l,e,t,a,n))n.stopPropagation();else if(Hd(e,n),t&4&&-1<ax.indexOf(e)){for(;l!==null;){var i=Jn(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Va(i.pendingLanes);if(c!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var r=1<<31-ut(c);o.entanglements[1]|=r,c&=~r}Vt(i),!(W&6)&&(cs=ot()+500,ii(0))}}break;case 31:case 13:o=on(i,2),o!==null&&Pe(o,i,2),qs(),Hr(i,2)}if(i=Ho(n),i===null&&_c(e,t,n,xs,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else _c(e,t,n,null,a)}}function Ho(e){return e=Po(e),Br(e)}var xs=null;function Br(e){if(xs=null,e=bn(e),e!==null){var t=Fl(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=xf(t),e!==null)return e;e=null}else if(a===31){if(e=bf(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xs=e,null}function Ph(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(V0()){case jf:return 2;case wf:return 8;case Ki:case Q0:return 32;case Tf:return 268435456;default:return 32}default:return 32}}var Lo=!1,Da=null,Ca=null,Ma=null,Xl=new Map,Zl=new Map,ya=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hd(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(t.pointerId)}}function hl(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Jn(t),t!==null&&Wh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function nx(e,t,a,n,l){switch(t){case"focusin":return Da=hl(Da,e,t,a,n,l),!0;case"dragenter":return Ca=hl(Ca,e,t,a,n,l),!0;case"mouseover":return Ma=hl(Ma,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return Xl.set(i,hl(Xl.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,Zl.set(i,hl(Zl.get(i)||null,e,t,a,n,l)),!0}return!1}function eg(e){var t=bn(e.target);if(t!==null){var a=Fl(t);if(a!==null){if(t=a.tag,t===13){if(t=xf(a),t!==null){e.blockedOn=t,Nu(e.priority,function(){kd(a)});return}}else if(t===31){if(t=bf(a),t!==null){e.blockedOn=t,Nu(e.priority,function(){kd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ho(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);ao=n,a.target.dispatchEvent(n),ao=null}else return t=Jn(a),t!==null&&Wh(t),e.blockedOn=a,!1;t.shift()}return!0}function Ld(e,t,a){Bi(e)&&a.delete(t)}function lx(){Lo=!1,Da!==null&&Bi(Da)&&(Da=null),Ca!==null&&Bi(Ca)&&(Ca=null),Ma!==null&&Bi(Ma)&&(Ma=null),Xl.forEach(Ld),Zl.forEach(Ld)}function ji(e,t){e.blockedOn===t&&(e.blockedOn=null,Lo||(Lo=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,lx)))}var wi=null;function Bd(e){wi!==e&&(wi=e,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,function(){wi===e&&(wi=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(Br(n||a)===null)continue;break}var i=Jn(a);i!==null&&(e.splice(t,3),t-=3,bo(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function Zn(e){function t(r){return ji(r,e)}Da!==null&&ji(Da,e),Ca!==null&&ji(Ca,e),Ma!==null&&ji(Ma,e),Xl.forEach(t),Zl.forEach(t);for(var a=0;a<ya.length;a++){var n=ya[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ya.length&&(a=ya[0],a.blockedOn===null);)eg(a),a.blockedOn===null&&ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],c=l[et]||null;if(typeof i=="function")c||Bd(a);else if(c){var o=null;if(i&&i.hasAttribute("formAction")){if(l=i,c=i[et]||null)o=c.formAction;else if(Br(l)!==null)continue}else o=c.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),Bd(a)}}}function tg(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return l=c})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Vr(e){this._internalRoot=e}Ls.prototype.render=Vr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));var a=t.current,n=dt();Ih(a,n,e,t,null,null)};Ls.prototype.unmount=Vr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ih(e.current,2,null,e,null,null),qs(),t[$n]=null}};function Ls(e){this._internalRoot=e}Ls.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ya.length&&t!==0&&t<ya[a].priority;a++);ya.splice(a,0,e),a===0&&eg(e)}};var Vd=yf.version;if(Vd!=="19.2.3")throw Error(N(527,Vd,"19.2.3"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=R0(t),e=e!==null?vf(e):null,e=e===null?null:e.stateNode,e};var ix={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{Il=Ti.inject(ix),rt=Ti}catch{}}js.createRoot=function(e,t){if(!pf(e))throw Error(N(299));var a=!1,n="",l=Zm,i=Km,c=$m;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Jh(e,1,!1,null,null,a,n,null,l,i,c,tg),e[$n]=t.current,Ur(e),new Vr(t)};js.hydrateRoot=function(e,t,a){if(!pf(e))throw Error(N(299));var n=!1,l="",i=Zm,c=Km,o=$m,r=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(r=a.formState)),t=Jh(e,1,!0,t,a??null,n,l,r,i,c,o,tg),t.context=Fh(null),a=t.current,n=dt(),n=Jo(n),l=wa(n),l.callback=null,Ta(a,l,n),a=n,t.current.lanes=a,Pl(t,a),Vt(t),e[$n]=t.current,Ur(e),new Ls(t)};js.version="19.2.3";function ag(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ag)}catch(e){console.error(e)}}ag(),mf.exports=js;var sx=mf.exports;const cx="modulepreload",ox=function(e){return"/"+e},Qd={},be=function(t,a,n){let l=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),o=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));l=Promise.allSettled(a.map(r=>{if(r=ox(r),r in Qd)return;Qd[r]=!0;const u=r.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":cx,u||(p.as="script"),p.crossOrigin="",p.href=r,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((h,m)=>{p.addEventListener("load",h),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${r}`)))})}))}function i(c){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c}return l.then(c=>{for(const o of c||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},rx={apiKey:"AIzaSyAh1eF1NFXUzCSPppycYjqeWGrSj1fGJj0",authDomain:"kepler-omega-dd495.firebaseapp.com",projectId:"kepler-omega-dd495",storageBucket:"kepler-omega-dd495.appspot.com",messagingSenderId:"110852541952",appId:"1:110852541952:web:dcc1b0bbeb4dfabd1552e5",measurementId:"G-V4T01YLVWT"},Qr=$g(rx),j=Jg(Qr),tt=sf(Qr);Fg(Qr);const me={TECHNICIAN:"technician",SUPER_ADMIN:"superAdmin",CUSTOMER:"customer"},ux=async(e,t,a,n)=>{let l=null;try{l=(await Qo(tt,e,t)).user,await Ss(l,{displayName:a});try{if(await Dt(L(j,"users",l.uid),{uid:l.uid,email:e,fullName:a,phoneNumber:n||"",role:me.TECHNICIAN,createdAt:new Date().toISOString()}),!(await Fa(L(j,"users",l.uid))).exists())throw new Error("Firestore document verification failed");return{success:!0,user:l}}catch(c){return l&&await l.delete(),{success:!1,error:`chec de la cration du profil utilisateur: ${c.message}`}}}catch(i){return{success:!1,error:`chec de la cration du compte: ${i.message}`}}},dx=async(e,t)=>{try{return{success:!0,user:(await Jl(tt,e,t)).user}}catch(a){return{success:!1,error:a.message}}},Gr=async()=>{try{return await e0(tt),{success:!0}}catch(e){return{success:!1,error:e.message}}},fx=async e=>{try{return await Ig(tt,e),{success:!0}}catch(t){return{success:!1,error:t.message}}},mx=async(e,t)=>{try{const a=tt.currentUser;if(!a)throw new Error("No user is signed in");return await Ss(a,{displayName:e}),await Dt(L(j,"users",a.uid),{fullName:e,phoneNumber:t||"",updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(a){return{success:!1,error:a.message}}},hx=async(e,t)=>{try{const a=tt.currentUser;if(!a||!a.email)throw new Error("No user is signed in");return await Jl(tt,a.email,t),await Wg(a,e),await Dt(L(j,"users",a.uid),{email:e,updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(a){return{success:!1,error:a.message}}},gx=async(e,t)=>{try{const a=tt.currentUser;if(!a||!a.email)throw new Error("No user is signed in");return await Jl(tt,a.email,e),await Pg(a,t),{success:!0}}catch(a){return{success:!1,error:a.message}}},ng=async e=>{try{const t=await Fa(L(j,"users",e));return t.exists()?t.data().role:(await Fa(L(j,"customer_profiles",e))).exists()?me.CUSTOMER:null}catch(t){return console.error("Error getting user role:",t),null}},yx=async()=>{try{const e=pe(H(j,"users"),xe("role","==",me.TECHNICIAN));return(await I(e)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error getting technicians:",e),[]}},px=async(e,t)=>{try{return await Dt(L(j,"users",e),{role:t,updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(a){return{success:!1,error:a.message}}},xx=async(e,t,a,n,l)=>{let i=null,c=null;try{if(l)if(c=await sg(l),c)!e&&c.email&&(e=c.email),!a&&c.name&&(a=c.name),!n&&c.phone&&(n=c.phone);else return{success:!1,error:"Code d'accs client invalide"};else c=await lg(e,n);i=(await Qo(tt,e,t)).user,await Ss(i,{displayName:a});try{const r={id:i.uid,email:e,fullName:a,phoneNumber:n||"",preferredLanguage:"fr",notificationPreferences:{pushEnabled:!1,emailEnabled:!0,smsEnabled:!1},fcmTokens:[],createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()};if(c&&(r.linkedClientId=c.id,r.linkedAt=new Date().toISOString()),await Dt(L(j,"customer_profiles",i.uid),r),c&&await ig(c.id,i.uid),!(await Fa(L(j,"customer_profiles",i.uid))).exists())throw new Error("Customer profile document verification failed");return{success:!0,user:i,linkedClient:c||null}}catch(r){return i&&await i.delete(),{success:!1,error:`chec de la cration du compte client: ${r.message}`}}}catch(o){return{success:!1,error:`chec de la cration du compte: ${o.message}`}}},bx=async(e,t)=>{try{const a=await Jl(tt,e,t);return await Dt(L(j,"customer_profiles",a.user.uid),{lastLoginAt:new Date().toISOString()},{merge:!0}),{success:!0,user:a.user}}catch(a){return{success:!1,error:a.message}}},lg=async(e,t)=>{try{const a=pe(H(j,"clients"),xe("email","==",e)),n=await I(a);if(!n.empty){const l=n.docs[0];return{id:l.id,...l.data(),matchType:"email"}}if(t){const l=pe(H(j,"clients"),xe("phone","==",t)),i=await I(l);if(!i.empty){const c=i.docs[0];return{id:c.id,...c.data(),matchType:"phone"}}}return null}catch(a){return console.error("Error finding client:",a),null}},ig=async(e,t)=>{try{return await Dt(L(j,"clients",e),{linkedCustomerId:t,linkedAt:new Date().toISOString()},{merge:!0}),await Dt(L(j,"customer_profiles",t),{linkedClientId:e,linkedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(a){return console.error("Error linking client to customer:",a),{success:!1,error:a.message}}},vx=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let a=0;a<6;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},sg=async e=>{try{const t=pe(H(j,"clients"),xe("customerCode","==",e)),a=await I(t);if(!a.empty){const n=a.docs[0],l=n.data();return{id:n.id,name:l.name||"",email:l.email||"",phone:l.phone||"",...l}}return null}catch(t){return console.error("Error finding client by code:",t),null}},cg=async()=>{try{const e="othsma@gmail.com",t=H(j,"users"),a=pe(t,xe("email","==",e));if((await I(a)).empty)try{const i=(await Qo(tt,e,"Egnirf999@")).user;await Ss(i,{displayName:"Othsma"}),await Dt(L(j,"users",i.uid),{uid:i.uid,email:e,fullName:"Othsma",phoneNumber:"0033767695290",role:me.SUPER_ADMIN,createdAt:new Date().toISOString()})}catch(l){if(l.code==="auth/email-already-in-use")try{const c=(await Jl(tt,e,"Egnirf999@")).user;await Dt(L(j,"users",c.uid),{uid:c.uid,email:e,fullName:"Othsma",phoneNumber:"0033767695290",role:me.SUPER_ADMIN,createdAt:new Date().toISOString()})}catch(i){console.error("Error signing in as super admin:",i)}else console.error("Error creating super admin:",l)}}catch(e){console.error("Error initializing super admin:",e)}},Xv=Object.freeze(Object.defineProperty({__proto__:null,ROLES:me,auth:tt,db:j,findClientByCode:sg,findClientByEmailOrPhone:lg,generateCustomerCode:vx,getAllTechnicians:yx,getUserRole:ng,initializeSuperAdmin:cg,linkClientToCustomer:ig,loginCustomer:bx,loginUser:dx,logoutUser:Gr,registerCustomer:xx,registerUser:ux,resetPassword:fx,updateUserEmail:hx,updateUserPassword:gx,updateUserProfile:mx,updateUserRole:px},Symbol.toStringTag,{value:"Module"}));function Zv(e,t,a){const n=e.cost||0,l=.2,i=n*(l/(1+l)),c=n-i,o=[];if(e.taskPrices&&Array.isArray(e.taskPrices))e.taskPrices.forEach(u=>{o.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:u.name,quantity:1,price:u.price})});else if(e.tasks&&Array.isArray(e.tasks)){const u=e.tasks.length,f=u>0?c/u:0;e.tasks.forEach(p=>{o.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:p,quantity:1,price:f})})}let r=0;return e.paymentStatus==="fully_paid"?r=n:e.paymentStatus==="partially_paid"&&(r=e.amountPaid||0),{id:e.id||`ticket-${Math.random().toString(36).substring(2,9)}`,number:e.ticketNumber||"",date:e.createdAt||new Date().toISOString(),customer:a?{id:t,name:a.name||"",email:a.email||"",phone:a.phone||"",address:a.address||""}:void 0,items:o,subtotal:c,tax:i,total:n,paymentStatus:e.paymentStatus||"not_paid",amountPaid:r,status:e.status||"Pending",type:"ticket",deviceType:e.deviceType||"",brand:e.brand||"",model:e.model||"",imeiSerial:e.imeiSerial,sourceType:"ticket",sourceId:e.id}}function Sx(e){return{id:e.id||`receipt-${Math.random().toString(36).substring(2,9)}`,number:e.receiptNumber||e.invoiceNumber||"",date:e.date||new Date().toISOString(),customer:e.customer?{id:e.customer.id||`customer-${Math.random().toString(36).substring(2,9)}`,name:e.customer.name||"",email:e.customer.email||"",phone:e.customer.phone||"",address:e.customer.address||""}:void 0,items:(e.items||[]).map(t=>({id:t.id||`item-${Math.random().toString(36).substring(2,9)}`,name:t.name||"",quantity:t.quantity||1,price:t.price||0})),subtotal:e.subtotal||0,tax:e.tax||0,total:e.total||0,paymentMethod:e.paymentMethod,paymentStatus:e.paymentStatus||"Paid",amountPaid:e.amountPaid,note:e.note,type:"receipt",sourceType:"pos",sourceId:e.id}}function Kv(e){return{id:e.id||`quote-${Math.random().toString(36).substring(2,9)}`,number:e.quoteNumber||"",date:e.createdAt||new Date().toISOString(),customer:e.customer?{id:e.customer.id||`customer-${Math.random().toString(36).substring(2,9)}`,name:e.customer.name||"",email:e.customer.email||"",phone:e.customer.phone||"",address:e.customer.address||""}:void 0,items:(e.items||[]).map(t=>({id:t.productId||`item-${Math.random().toString(36).substring(2,9)}`,name:t.name||"",quantity:t.quantity||1,price:t.price||0,sku:t.sku})),subtotal:e.subtotal||0,tax:e.tax||0,total:e.total||0,paymentMethod:e.paymentMethod,note:e.notes,type:"quote",status:e.status||"draft",validUntil:e.validUntil,sourceType:"pos",sourceId:e.id}}function Nx(e,t,a){const n=e.cost||0,l=.2,i=n*(l/(1+l)),c=n-i,o=[];if(e.taskPrices&&Array.isArray(e.taskPrices))e.taskPrices.forEach(r=>{o.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:r.name,quantity:1,price:r.price})});else if(e.tasks&&Array.isArray(e.tasks)){const r=e.tasks.length,u=r>0?c/r:0;e.tasks.forEach(f=>{o.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:f,quantity:1,price:u})})}return{id:`invoice-${e.id||Math.random().toString(36).substring(2,9)}`,number:e.invoiceNumber||`TICKET-${e.ticketNumber}`,date:e.createdAt||new Date().toISOString(),customer:t?{id:t.id||`customer-${Math.random().toString(36).substring(2,9)}`,name:t.name||"",email:t.email||"",phone:t.phone||"",address:t.address||"",taxId:t.taxId}:void 0,items:o,subtotal:c,tax:i,total:n,paymentStatus:e.paymentStatus==="fully_paid"?"paid":e.paymentStatus,paymentMethod:e.paymentMethod||"cash",amountPaid:n,status:e.paymentStatus==="fully_paid"?"paid":e.paymentStatus,type:"invoice",deviceType:e.deviceType,brand:e.brand,model:e.model,imeiSerial:e.imeiSerial,sourceType:"ticket",sourceId:e.id}}function $v(e,t){const a=[];return e.taskPrices&&Array.isArray(e.taskPrices)?e.taskPrices.forEach(n=>{a.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:n.name,quantity:1,price:n.price})}):e.tasks&&Array.isArray(e.tasks)&&e.tasks.forEach(n=>{a.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:n,quantity:1,price:0,description:"Prestation de rparation"})}),{id:e.id||`engagement-${Math.random().toString(36).substring(2,9)}`,number:`ENG-${e.ticketNumber||Math.random().toString(36).substring(2,9)}`,date:e.createdAt||new Date().toISOString(),customer:t?{id:t.id||`customer-${Math.random().toString(36).substring(2,9)}`,name:t.name||"",email:t.email||"",phone:t.phone||"",address:t.address||""}:void 0,items:a,subtotal:e.cost||0,tax:0,total:e.cost||0,status:e.status||"pending",type:"engagement",deviceType:e.deviceType||"",brand:e.brand||"",model:e.model||"",imeiSerial:e.imeiSerial,sourceType:"ticket",sourceId:e.id,note:`CONTRAT D'ENGAGEMENT CLIENT - ${e.ticketNumber}`}}const ka=Ct(e=>({isDarkMode:!1,toggleDarkMode:()=>e(t=>({isDarkMode:!t.isDarkMode}))})),jx=Ct(e=>({language:"en",setLanguage:t=>e({language:t}),sidebarCollapsed:!1,toggleSidebar:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed})),technicians:[],setTechnicians:t=>e({technicians:t})})),Kn=Ct(e=>({user:null,userRole:null,userProfile:null,loading:!0,error:null,initialized:!1,setUser:t=>e({user:t}),setUserRole:t=>e({userRole:t}),setUserProfile:t=>e({userProfile:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setInitialized:t=>e({initialized:t}),clearError:()=>e({error:null}),logout:()=>e({user:null,userRole:null,userProfile:null})})),Yr=Ct(e=>({clients:[],loading:!1,error:null,searchQuery:"",setSearchQuery:t=>e({searchQuery:t}),fetchClients:async()=>{e({loading:!0,error:null});try{const t=H(j,"clients"),n=(await I(t)).docs.map(l=>{var i;return{id:l.id,...l.data(),createdAt:((i=l.data().createdAt)==null?void 0:i.toDate().toISOString())||new Date().toISOString()}});e({clients:n,loading:!1})}catch(t){console.error("Error fetching clients:",t),e({error:"Failed to fetch clients",loading:!1})}},addClient:async t=>{e({loading:!0,error:null});try{const a={...t,createdAt:Et()},n=await We(H(j,"clients"),a),l={id:n.id,...t,createdAt:new Date().toISOString()};return e(i=>({clients:[...i.clients,l],loading:!1})),n.id}catch(a){return console.error("Error adding client:",a),e({error:"Failed to add client",loading:!1}),""}},updateClient:async(t,a)=>{e({loading:!0,error:null});try{const n=L(j,"clients",t);await Ce(n,a),e(l=>({clients:l.clients.map(i=>i.id===t?{...i,...a}:i),loading:!1}))}catch(n){console.error("Error updating client:",n),e({error:"Failed to update client",loading:!1})}},deleteClient:async t=>{e({loading:!0,error:null});try{await gt(L(j,"clients",t)),e(a=>({clients:a.clients.filter(n=>n.id!==t),loading:!1}))}catch(a){console.error("Error deleting client:",a),e({error:"Failed to delete client",loading:!1})}}})),wx=()=>{const e=new Date().toLocaleString("en-US",{month:"short"}).toLowerCase(),t=Math.floor(1e3+Math.random()*9e3);return`${e}${t}`},bs=Ct((e,t)=>({tickets:[],settings:{deviceTypes:[],brands:[],models:[],tasks:[]},loading:!1,error:null,filterStatus:"all",setFilterStatus:a=>e({filterStatus:a}),fetchTickets:async()=>{e({loading:!0,error:null});try{const a=Kn.getState().userRole,n=Kn.getState().user;let l;a===me.TECHNICIAN&&n&&n.uid?l=pe(H(j,"tickets"),xe("technicianId","==",n.uid)):l=H(j,"tickets");const c=(await I(l)).docs.map(o=>{var u,f;const r=o.data();return{id:o.id,...r,createdAt:((u=r.createdAt)==null?void 0:u.toDate().toISOString())||new Date().toISOString(),updatedAt:((f=r.updatedAt)==null?void 0:f.toDate().toISOString())||new Date().toISOString()}});e({tickets:c,loading:!1})}catch(a){console.error("Error fetching tickets:",a),e({error:"Failed to fetch tickets",loading:!1})}},fetchTechnicianTickets:async a=>{e({loading:!0,error:null});try{const n=pe(H(j,"tickets"),xe("technicianId","==",a)),i=(await I(n)).docs.map(c=>{var r,u;const o=c.data();return{id:c.id,...o,createdAt:((r=o.createdAt)==null?void 0:r.toDate().toISOString())||new Date().toISOString(),updatedAt:((u=o.updatedAt)==null?void 0:u.toDate().toISOString())||new Date().toISOString()}});e({tickets:i,loading:!1})}catch(n){console.error("Error fetching technician tickets:",n),e({error:"Failed to fetch technician tickets",loading:!1})}},fetchSettings:async()=>{e({loading:!0,error:null});try{const n=(await I(H(j,"settings","ticket","deviceTypes"))).docs.map(f=>f.data().name),i=(await I(H(j,"settings","ticket","brands"))).docs.map(f=>f.data().name),o=(await I(H(j,"settings","ticket","models"))).docs.map(f=>({id:f.id,name:f.data().name,brandId:f.data().brandId})),u=(await I(H(j,"settings","ticket","tasks"))).docs.map(f=>f.data().name);e({settings:{deviceTypes:n,brands:i,models:o,tasks:u},loading:!1})}catch(a){console.error("Error fetching settings:",a),e({error:"Failed to fetch settings",loading:!1})}},addTicket:async a=>{e({loading:!0,error:null});try{const n=wx(),l={...a,ticketNumber:n,createdAt:Et(),updatedAt:Et()},c={id:(await We(H(j,"tickets"),l)).id,ticketNumber:n,...a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(o=>({tickets:[...o.tickets,c],loading:!1})),n}catch(n){return console.error("Error adding ticket:",n),e({error:"Failed to add ticket",loading:!1}),""}},updateTicket:async(a,n)=>{e({loading:!0,error:null});try{const l=L(j,"tickets",a),i={...n,updatedAt:Et()};await Ce(l,i),e(c=>({tickets:c.tickets.map(o=>o.id===a?{...o,...n,updatedAt:new Date().toISOString()}:o),loading:!1}))}catch(l){console.error("Error updating ticket:",l),e({error:"Failed to update ticket",loading:!1})}},assignTicket:async(a,n)=>{e({loading:!0,error:null});try{const l=L(j,"tickets",a),i={technicianId:n,updatedAt:Et()};await Ce(l,i),e(c=>({tickets:c.tickets.map(o=>o.id===a?{...o,technicianId:n,updatedAt:new Date().toISOString()}:o),loading:!1}))}catch(l){console.error("Error assigning ticket:",l),e({error:"Failed to assign ticket",loading:!1})}},deleteTicket:async a=>{e({loading:!0,error:null});try{await gt(L(j,"tickets",a)),e(n=>({tickets:n.tickets.filter(l=>l.id!==a),loading:!1}))}catch(n){console.error("Error deleting ticket:",n),e({error:"Failed to delete ticket",loading:!1})}},addDeviceType:async a=>{const n=t();try{e(l=>({settings:{...l.settings,deviceTypes:[...l.settings.deviceTypes,a]}})),await We(H(j,"settings","ticket","deviceTypes"),{name:a})}catch(l){console.error("Error adding device type:",l),e({settings:n.settings,error:"Failed to add device type"})}},removeDeviceType:async a=>{try{const n=H(j,"settings","ticket","deviceTypes"),l=pe(n,xe("name","==",a));(await I(l)).forEach(async c=>{await gt(L(j,"settings","ticket","deviceTypes",c.id))}),e(c=>({settings:{...c.settings,deviceTypes:c.settings.deviceTypes.filter(o=>o!==a)}}))}catch(n){console.error("Error removing device type:",n),e({error:"Failed to remove device type"})}},updateDeviceType:async(a,n)=>{try{const l=H(j,"settings","ticket","deviceTypes"),i=pe(l,xe("name","==",a));(await I(i)).forEach(async o=>{await Ce(L(j,"settings","ticket","deviceTypes",o.id),{name:n})}),e(o=>({settings:{...o.settings,deviceTypes:o.settings.deviceTypes.map(r=>r===a?n:r)}}))}catch(l){console.error("Error updating device type:",l),e({error:"Failed to update device type"})}},addBrand:async a=>{const n=t();try{e(l=>({settings:{...l.settings,brands:[...l.settings.brands,a]}})),await We(H(j,"settings","ticket","brands"),{name:a})}catch(l){console.error("Error adding brand:",l),e({settings:n.settings,error:"Failed to add brand"})}},removeBrand:async a=>{try{const n=H(j,"settings","ticket","brands"),l=pe(n,xe("name","==",a));(await I(l)).forEach(async u=>{await gt(L(j,"settings","ticket","brands",u.id))});const c=H(j,"settings","ticket","models"),o=pe(c,xe("brandId","==",a));(await I(o)).forEach(async u=>{await gt(L(j,"settings","ticket","models",u.id))}),e(u=>({settings:{...u.settings,brands:u.settings.brands.filter(f=>f!==a),models:u.settings.models.filter(f=>f.brandId!==a)}}))}catch(n){console.error("Error removing brand:",n),e({error:"Failed to remove brand"})}},updateBrand:async(a,n)=>{try{const l=H(j,"settings","ticket","brands"),i=pe(l,xe("name","==",a));(await I(i)).forEach(async f=>{await Ce(L(j,"settings","ticket","brands",f.id),{name:n})});const o=H(j,"settings","ticket","models"),r=pe(o,xe("brandId","==",a));(await I(r)).forEach(async f=>{await Ce(L(j,"settings","ticket","models",f.id),{brandId:n})}),e(f=>({settings:{...f.settings,brands:f.settings.brands.map(p=>p===a?n:p),models:f.settings.models.map(p=>p.brandId===a?{...p,brandId:n}:p)}}))}catch(l){console.error("Error updating brand:",l),e({error:"Failed to update brand"})}},addModel:async a=>{const n=t();try{const l=`temp-${Date.now()}`;e(c=>({settings:{...c.settings,models:[...c.settings.models,{...a,id:l}]}}));const i=await We(H(j,"settings","ticket","models"),a);e(c=>({settings:{...c.settings,models:c.settings.models.map(o=>o.id===l?{...a,id:i.id}:o)}}))}catch(l){console.error("Error adding model:",l),e({settings:n.settings,error:"Failed to add model"})}},removeModel:async a=>{try{await gt(L(j,"settings","ticket","models",a)),e(n=>({settings:{...n.settings,models:n.settings.models.filter(l=>l.id!==a)}}))}catch(n){console.error("Error removing model:",n),e({error:"Failed to remove model"})}},updateModel:async(a,n)=>{try{await Ce(L(j,"settings","ticket","models",a),{name:n}),e(l=>({settings:{...l.settings,models:l.settings.models.map(i=>i.id===a?{...i,name:n}:i)}}))}catch(l){console.error("Error updating model:",l),e({error:"Failed to update model"})}},addTask:async a=>{const n=t();try{e(l=>({settings:{...l.settings,tasks:[...l.settings.tasks,a]}})),await We(H(j,"settings","ticket","tasks"),{name:a})}catch(l){console.error("Error adding task:",l),e({settings:n.settings,error:"Failed to add task"})}},removeTask:async a=>{try{const n=H(j,"settings","ticket","tasks"),l=pe(n,xe("name","==",a));(await I(l)).forEach(async c=>{await gt(L(j,"settings","ticket","tasks",c.id))}),e(c=>({settings:{...c.settings,tasks:c.settings.tasks.filter(o=>o!==a)}}))}catch(n){console.error("Error removing task:",n),e({error:"Failed to remove task"})}},updateTask:async(a,n)=>{try{const l=H(j,"settings","ticket","tasks"),i=pe(l,xe("name","==",a));(await I(i)).forEach(async o=>{await Ce(L(j,"settings","ticket","tasks",o.id),{name:n})}),e(o=>({settings:{...o.settings,tasks:o.settings.tasks.map(r=>r===a?n:r)}}))}catch(l){console.error("Error updating task:",l),e({error:"Failed to update task"})}}})),og=Ct((e,t)=>({products:[],categories:[],loading:!1,error:null,searchQuery:"",selectedCategory:"all",setSearchQuery:a=>e({searchQuery:a}),setSelectedCategory:a=>e({selectedCategory:a}),fetchProducts:async()=>{e({loading:!0,error:null});try{const a=H(j,"products"),l=(await I(a)).docs.map(i=>({id:i.id,...i.data()}));e({products:l,loading:!1})}catch(a){console.error("Error fetching products:",a),e({error:"Failed to fetch products",loading:!1})}},fetchCategories:async()=>{e({loading:!0,error:null});try{const a=H(j,"categories"),l=(await I(a)).docs.map(i=>i.data().name);e({categories:l,loading:!1})}catch(a){console.error("Error fetching categories:",a),e({error:"Failed to fetch categories",loading:!1})}},addProduct:async a=>{e({loading:!0,error:null});try{const l={id:(await We(H(j,"products"),a)).id,...a};e(c=>({products:[...c.products,l],loading:!1}));const{categories:i}=t();i.includes(a.category)||(await We(H(j,"categories"),{name:a.category}),e(c=>({categories:[...c.categories,a.category]})))}catch(n){console.error("Error adding product:",n),e({error:"Failed to add product",loading:!1})}},updateProduct:async(a,n)=>{e({loading:!0,error:null});try{const l=L(j,"products",a);if(await Ce(l,n),e(i=>({products:i.products.map(c=>c.id===a?{...c,...n}:c),loading:!1})),n.category){const{categories:i}=t();i.includes(n.category)||(await We(H(j,"categories"),{name:n.category}),e(c=>({categories:[...c.categories,n.category]})))}}catch(l){console.error("Error updating product:",l),e({error:"Failed to update product",loading:!1})}},deleteProduct:async a=>{e({loading:!0,error:null});try{await gt(L(j,"products",a)),e(n=>({products:n.products.filter(l=>l.id!==a),loading:!1}))}catch(n){console.error("Error deleting product:",n),e({error:"Failed to delete product",loading:!1})}},updateStock:async(a,n)=>{e({loading:!0,error:null});try{const l=L(j,"products",a),i=t().products.find(c=>c.id===a);if(i){const c=i.stock+n;await Ce(l,{stock:c}),e(o=>({products:o.products.map(r=>r.id===a?{...r,stock:c}:r),loading:!1}))}}catch(l){console.error("Error updating stock:",l),e({error:"Failed to update stock",loading:!1})}},addCategory:async a=>{const n=a.trim();if(!n)throw new Error("Le nom de la catgorie ne peut pas tre vide");const{categories:l}=t();if(l.some(i=>i.toLowerCase()===n.toLowerCase()))throw new Error("Une catgorie avec ce nom existe dj");e({loading:!0,error:null});try{e(i=>({categories:[...i.categories,n],loading:!1})),await We(H(j,"categories"),{name:n})}catch(i){throw console.error("Error adding category:",i),e(c=>({categories:c.categories.filter(o=>o!==n),error:i.message||"Erreur lors de l'ajout de la catgorie",loading:!1})),i}},updateCategory:async(a,n)=>{const l=n.trim();if(!l)throw new Error("Le nom de la catgorie ne peut pas tre vide");const{categories:i,products:c}=t();if(i.some(o=>o.toLowerCase()===l.toLowerCase()&&o!==a))throw new Error("Une catgorie avec ce nom existe dj");e({loading:!0,error:null});try{const o=H(j,"categories"),r=pe(o,xe("name","==",a)),u=await I(r);if(u.empty)throw new Error("Catgorie introuvable");const f=u.docs[0];await Ce(L(j,"categories",f.id),{name:l});const h=c.filter(m=>m.category===a).map(m=>Ce(L(j,"products",m.id),{category:l}));await Promise.all(h),e(m=>({categories:m.categories.map(v=>v===a?l:v),products:m.products.map(v=>v.category===a?{...v,category:l}:v),loading:!1}))}catch(o){throw console.error("Error updating category:",o),e({error:o.message||"Erreur lors de la mise  jour de la catgorie",loading:!1}),o}},deleteCategory:async(a,n=!1)=>{const{products:l}=t(),i=l.filter(c=>c.category===a);if(i.length>0&&!n)throw new Error(`Impossible de supprimer cette catgorie car ${i.length} produit(s) l'utilisent. Utilisez l'option "Forcer la suppression" pour raffecter ces produits  "Aucune catgorie".`);e({loading:!0,error:null});try{const c=H(j,"categories"),o=pe(c,xe("name","==",a)),r=await I(o);if(!r.empty){const u=r.docs[0];await gt(L(j,"categories",u.id))}if(n&&i.length>0){const u=i.map(f=>Ce(L(j,"products",f.id),{category:""}));await Promise.all(u)}e(u=>({categories:u.categories.filter(f=>f!==a),products:n?u.products.map(f=>f.category===a?{...f,category:""}:f):u.products,loading:!1}))}catch(c){throw console.error("Error deleting category:",c),e({error:c.message||"Erreur lors de la suppression de la catgorie",loading:!1}),c}},getCategoryUsage:a=>{const{products:n}=t();return n.filter(l=>l.category===a).length}})),Tx=Ct(e=>({showReceipt:!1,currentInvoice:null,setShowReceipt:t=>e({showReceipt:t}),setCurrentInvoice:t=>e({currentInvoice:t}),clearReceipt:()=>e({showReceipt:!1,currentInvoice:null})})),Gd=Ct(e=>({sales:[],loading:!1,error:null,fetchSales:async()=>{e({loading:!0,error:null});try{const t=H(j,"sales"),n=(await I(t)).docs.map(l=>{var c;const i=l.data();return{id:l.id,...i,createdAt:(c=i.createdAt)!=null&&c.toDate?i.createdAt.toDate().toISOString():i.createdAt}});e({sales:n,loading:!1})}catch(t){console.error("Error fetching sales:",t),e({error:"Failed to fetch sales",loading:!1})}},createSale:async t=>{e({loading:!0,error:null});try{const a={invoiceNumber:t.invoiceNumber,items:t.items,subtotal:t.subtotal,tax:t.tax,total:t.total,paymentMethod:t.paymentMethod,paymentStatus:t.paymentStatus,date:t.date,createdAt:new Date};t.customer&&(a.customer=t.customer),t.note&&(a.note=t.note),console.log("Creating sale with data:",a);const n=await We(H(j,"sales"),a);console.log("Sale created with ID:",n.id);const l={id:n.id,...t,createdAt:new Date().toISOString()};return e(i=>({sales:[...i.sales,l],loading:!1})),n.id}catch(a){return console.error("Error creating sale:",a),e({error:"Failed to create sale",loading:!1}),""}},deleteSale:async t=>{e({loading:!0,error:null});try{await gt(L(j,"sales",t)),e(a=>({sales:a.sales.filter(n=>n.id!==t),loading:!1}))}catch(a){console.error("Error deleting sale:",a),e({error:"Failed to delete sale",loading:!1})}}})),Jv=Ct(e=>({invoices:[],loading:!1,error:null,fetchInvoices:async()=>{e({loading:!0,error:null});try{const t=H(j,"invoices"),n=(await I(t)).docs.map(l=>{var c,o;const i=l.data();return{id:l.id,...i,createdAt:(c=i.createdAt)!=null&&c.toDate?i.createdAt.toDate().toISOString():i.createdAt,date:(o=i.date)!=null&&o.toDate?i.date.toDate().toISOString():i.date}});e({invoices:n,loading:!1})}catch(t){console.error("Error fetching invoices:",t),e({error:"Failed to fetch invoices",loading:!1})}},createInvoiceFromTicket:async t=>{e({loading:!0,error:null});try{const{tickets:a}=bs.getState(),{clients:n}=Yr.getState(),l=a.find(d=>d.id===t);if(!l)throw new Error("Ticket not found");if(l.paymentStatus!=="fully_paid")throw new Error("Ticket must be fully paid to generate invoice");const i=n.find(d=>d.id===l.clientId),{technicians:c}=jx.getState(),o=c==null?void 0:c.find(d=>d.id===l.technicianId),r=o?o.fullName:"notre quipe technique",u=Nx(l,i,r),f="REP",p=Ht(new Date,"yyMMdd"),h=Math.floor(1e3+Math.random()*9e3),v={invoiceNumber:`${f}-${p}-${h}`,clientId:l.clientId,ticketId:l.id,ticketNumber:l.ticketNumber,date:new Date().toISOString(),items:u.items,subtotal:u.subtotal,tax:u.tax,total:u.total,paymentStatus:"paid",paymentMethod:l.paymentMethod||"cash",sourceType:"ticket",deviceType:l.deviceType,brand:l.brand,model:l.model,imeiSerial:l.imeiSerial,technicianId:l.technicianId,status:"paid",createdAt:new Date};console.log("Creating invoice from ticket:",v);const S=await We(H(j,"invoices"),v);console.log("Invoice created with ID:",S.id);const{updateTicket:M}=bs.getState();await M(t,{invoiceGenerated:!0,invoiceId:S.id});const g={id:S.id,...v,createdAt:new Date().toISOString()};return e(d=>({invoices:[...d.invoices,g],loading:!1})),S.id}catch(a){throw console.error("Error creating invoice from ticket:",a),e({error:a.message||"Failed to create invoice",loading:!1}),a}},deleteInvoice:async t=>{e({loading:!0,error:null});try{await gt(L(j,"invoices",t)),e(a=>({invoices:a.invoices.filter(n=>n.id!==t),loading:!1}))}catch(a){console.error("Error deleting invoice:",a),e({error:"Failed to delete invoice",loading:!1})}}})),Ax=()=>{const e=Ht(new Date,"yyMMdd"),t=Math.floor(100+Math.random()*900);return`Q-${e}-${t}`},Ex=Ct((e,t)=>({quotes:[],loading:!1,error:null,fetchQuotes:async()=>{e({loading:!0,error:null});try{const a=H(j,"quotes"),l=(await I(a)).docs.map(i=>{var f,p,h;const c=i.data(),o=(f=c.createdAt)!=null&&f.toDate?c.createdAt.toDate().toISOString():typeof c.createdAt=="string"?c.createdAt:new Date().toISOString(),r=(p=c.updatedAt)!=null&&p.toDate?c.updatedAt.toDate().toISOString():typeof c.updatedAt=="string"?c.updatedAt:o,u=(h=c.validUntil)!=null&&h.toDate?c.validUntil.toDate().toISOString():typeof c.validUntil=="string"?c.validUntil:new Date(Date.now()+30*24*60*60*1e3).toISOString();return{id:i.id,...c,createdAt:o,updatedAt:r,validUntil:u}});e({quotes:l,loading:!1}),console.log("Fetched quotes:",l.length)}catch(a){console.error("Error fetching quotes:",a),e({error:"Failed to fetch quotes",loading:!1})}},createQuote:async a=>{e({loading:!0,error:null});try{const n=Ax(),l=new Date;l.setDate(l.getDate()+30);const i={items:a.items,subtotal:a.subtotal,tax:a.tax,total:a.total,quoteNumber:n,status:"draft",validUntil:Et(),createdAt:Et(),updatedAt:Et(),createdFrom:"pos"};a.customer&&(i.customer=a.customer),a.paymentMethod&&(i.paymentMethod=a.paymentMethod),a.paymentStatus&&(i.paymentStatus=a.paymentStatus),a.notes&&(i.notes=a.notes);const c=await We(H(j,"quotes"),i);console.log("Quote created with ID:",c.id);const o={id:c.id,...a,quoteNumber:n,status:"draft",validUntil:l.toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdFrom:"pos"};return e(r=>({quotes:[...r.quotes,o],loading:!1})),c.id}catch(n){return console.error("Error creating quote:",n),e({error:"Failed to create quote",loading:!1}),""}},updateQuote:async(a,n)=>{console.log("=== STORE updateQuote START ==="),console.log("Quote ID:",a),console.log("Quote data:",n),e({loading:!0,error:null});try{const l=L(j,"quotes",a);console.log("Quote reference:",l);const i={...n,updatedAt:Et()};console.log("Final update data:",i),console.log("Calling updateDoc..."),await Ce(l,i),console.log("updateDoc completed successfully"),e(c=>{const o=c.quotes.map(r=>r.id===a?{...r,...n,updatedAt:new Date().toISOString()}:r);return console.log("Updated local state quotes count:",o.length),{quotes:o,loading:!1}}),console.log("=== STORE updateQuote END ===")}catch(l){throw console.error("=== STORE updateQuote ERROR ==="),console.error("Error updating quote:",l),e({error:"Failed to update quote",loading:!1}),l}},updateQuoteStatus:async(a,n)=>{e({loading:!0,error:null});try{const l=L(j,"quotes",a),i={status:n,updatedAt:Et()};await Ce(l,i),e(c=>({quotes:c.quotes.map(o=>o.id===a?{...o,status:n,updatedAt:new Date().toISOString()}:o),loading:!1}))}catch(l){console.error("Error updating quote status:",l),e({error:"Failed to update quote status",loading:!1})}},convertQuoteToSale:async a=>{e({loading:!0,error:null});try{const{quotes:n}=t(),l=n.find(m=>m.id===a);if(!l)throw new Error("Quote not found");const i="INV",c=Ht(new Date,"yyMMdd"),o=Math.floor(1e3+Math.random()*9e3),f={...{invoiceNumber:`${i}-${c}-${o}`,items:l.items.map(m=>({productId:m.productId,quantity:m.quantity,name:m.name,sku:m.sku,price:m.price})),subtotal:l.subtotal,tax:l.tax,total:l.total,customer:l.customer,paymentMethod:l.paymentMethod||"cash",paymentStatus:"Paid",date:new Date().toISOString(),note:`Issu du devis numro ${l.quoteNumber}`},createdAt:new Date},p=await We(H(j,"sales"),f),h=L(j,"quotes",a);return await Ce(h,{status:"accepted",convertedToSaleId:p.id,updatedAt:Et()}),e(m=>({quotes:m.quotes.map(v=>v.id===a?{...v,status:"accepted",convertedToSaleId:p.id,updatedAt:new Date().toISOString()}:v),loading:!1})),p.id}catch(n){return console.error("Error converting quote to sale:",n),e({error:"Failed to convert quote to sale",loading:!1}),""}},deleteQuote:async a=>{e({loading:!0,error:null});try{await gt(L(j,"quotes",a)),e(n=>({quotes:n.quotes.filter(l=>l.id!==a),loading:!1}))}catch(n){console.error("Error deleting quote:",n),e({error:"Failed to delete quote",loading:!1})}}}));cg();function Dx({isCollapsed:e,toggleSidebar:t}){const a=ka(u=>u.isDarkMode),{userRole:n}=Kn(),[l,i]=D.useState({PDV:!0}),c=u=>{i(f=>({...f,[u]:!f[u]}))},r=(()=>{const u=[{name:"Tableau de bord",href:"/",icon:m0},{name:"Clients",href:"/clients",icon:h0},{name:"Tickets",href:"/tickets",icon:g0}];return n===me.SUPER_ADMIN&&(u.push({name:"PDV",href:"/pos",icon:of,children:[{name:"Ventes",href:"/pos"},{name:"Devis",href:"/pos/quotes"},{name:"Produits",href:"/pos/products"}]}),u.push({name:"Paramtres",href:"/settings",icon:y0}),u.push({name:"Gestion des utilisateurs",href:"/user-management",icon:p0})),u})();return s.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 flex flex-col transition-all duration-300 ${a?"bg-gray-800":"bg-white"} shadow-lg ${e?"w-20":"w-72"}`,children:[s.jsxs("div",{className:"flex h-16 shrink-0 items-center px-6",children:[s.jsx(r0,{className:"h-8 w-8 text-indigo-600"}),!e&&s.jsx("span",{className:"ml-4 text-xl font-semibold",children:"O'MEGA SERVICES"})]}),s.jsx("button",{onClick:t,className:`absolute top-4 right-0 translate-x-1/2 p-1 rounded-full shadow-md ${a?"bg-gray-700 text-gray-300":"bg-white text-gray-700"}`,children:e?s.jsx(u0,{className:"h-4 w-4"}):s.jsx(d0,{className:"h-4 w-4"})}),s.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4 overflow-y-auto",children:r.map(u=>s.jsx("div",{children:u.children?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded-md cursor-pointer ${a?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>c(u.name),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(u.icon,{className:"h-5 w-5 min-w-5"}),!e&&s.jsx("span",{className:"ml-3",children:u.name})]}),!e&&(l[u.name]?s.jsx(f0,{className:"h-4 w-4"}):s.jsx(Gc,{className:"h-4 w-4"}))]}),l[u.name]&&!e&&s.jsx("div",{className:"ml-8 mt-2 space-y-1",children:u.children.map(f=>s.jsx(fu,{to:f.href,className:({isActive:p})=>`block px-3 py-2 rounded-md ${p?"bg-indigo-600 text-white":`${a?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`}`,end:!0,children:f.name},f.name))})]}):s.jsxs(fu,{to:u.href,className:({isActive:f})=>`flex items-center px-3 py-2 rounded-md ${f?"bg-indigo-600 text-white":`${a?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`}`,end:!0,children:[s.jsx(u.icon,{className:"h-5 w-5 min-w-5"}),!e&&s.jsx("span",{className:"ml-3",children:u.name})]})},u.name))})]})}function Cx(){const{isDarkMode:e,toggleDarkMode:t}=ka(),{user:a,logout:n}=Kn(),l=async()=>{await Gr(),n()};return s.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"} shadow-sm`,children:s.jsxs("div",{className:"flex h-16 items-center justify-end gap-4 px-4 sm:px-6 lg:px-8",children:[s.jsx("button",{onClick:t,className:`rounded-full p-2 ${e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e?s.jsx(x0,{className:"h-5 w-5"}):s.jsx(b0,{className:"h-5 w-5"})}),s.jsxs(sl,{as:"div",className:"relative",children:[s.jsx(sl.Button,{className:`rounded-full p-2 ${e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:s.jsx(rf,{className:"h-5 w-5"})}),s.jsxs(sl.Items,{className:"absolute right-0 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[s.jsx(sl.Item,{children:s.jsx(nf,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profil"})}),s.jsx(sl.Item,{children:s.jsxs("button",{onClick:l,className:"flex w-full items-center px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:[s.jsx(uf,{className:"mr-2 h-4 w-4"}),"Dconnexion"]})})]})]})]})})}function Mx(){const e=ka(i=>i.isDarkMode),{user:t}=Kn(),[a,n]=D.useState(!1),l=()=>{n(!a)};return t?s.jsxs("div",{className:`min-h-screen ${e?"dark bg-gray-900":"bg-gray-50"}`,children:[s.jsx(Dx,{isCollapsed:a,toggleSidebar:l}),s.jsxs("div",{className:`transition-all duration-300 ${a?"lg:ml-20":"lg:ml-72"}`,children:[s.jsx(Cx,{}),s.jsx("main",{className:"py-10",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsx(lf,{})})})]})]}):s.jsx(Rt,{to:"/login"})}const rg=Ct((e,t)=>({user:null,profile:null,loading:!1,error:null,tickets:[],notifications:[],unreadCount:0,setUser:a=>e({user:a}),setProfile:a=>e({profile:a}),setLoading:a=>e({loading:a}),setError:a=>e({error:a}),fetchProfile:async()=>{const{user:a}=t();if(a){e({loading:!0,error:null});try{const n=await Fa(L(j,"customer_profiles",a.uid));if(n.exists()){const l=n.data();e({profile:l,loading:!1})}else e({error:"Profile not found",loading:!1})}catch(n){console.error("Error fetching customer profile:",n),e({error:"Failed to fetch profile",loading:!1})}}},fetchTickets:async()=>{const{profile:a}=t();if(a){e({loading:!0,error:null});try{let n=[];if(a.linkedClientId)console.log("Customer has linked client ID:",a.linkedClientId),n.push(a.linkedClientId);else{console.log("Searching for clients by email/phone...");const o=pe(H(j,"clients"),xe("email","==",a.email)),u=(await I(o)).docs.map(p=>p.id);let f=[];if(a.phoneNumber){const p=pe(H(j,"clients"),xe("phone","==",a.phoneNumber));f=(await I(p)).docs.map(m=>m.id)}n=[...new Set([...u,...f])],console.log(`Found ${n.length} matching clients:`,n)}if(n.length===0){console.log("No clients found for customer"),e({tickets:[],loading:!1});return}const l=n.map(o=>I(pe(H(j,"tickets"),xe("clientId","==",o)))),i=await Promise.all(l),c=[];i.forEach(o=>{o.docs.forEach(r=>{var f,p;const u=r.data();c.push({id:r.id,...u,createdAt:(f=u.createdAt)!=null&&f.toDate?u.createdAt.toDate().toISOString():typeof u.createdAt=="string"?u.createdAt:new Date().toISOString(),updatedAt:(p=u.updatedAt)!=null&&p.toDate?u.updatedAt.toDate().toISOString():typeof u.updatedAt=="string"?u.updatedAt:new Date().toISOString()})})}),c.sort((o,r)=>new Date(r.createdAt).getTime()-new Date(o.createdAt).getTime()),console.log(`Fetched ${c.length} tickets for customer`),e({tickets:c,loading:!1})}catch(n){console.error("Error fetching customer tickets:",n),e({error:"Failed to fetch tickets",loading:!1})}}},fetchNotifications:async()=>{const{profile:a}=t();if(a)try{const{tickets:n}=t(),l=[];n.forEach(c=>{Math.floor((Date.now()-new Date(c.updatedAt).getTime())/864e5)<=7&&l.push({id:`${c.id}-status-${c.status}`,customerId:a.id,ticketId:c.id,type:"status_change",title:`Statut mis  jour - ${c.deviceType} ${c.brand}`,message:`Votre rparation est maintenant ${Ox(c.status)}`,isRead:!1,createdAt:c.updatedAt})}),l.sort((c,o)=>new Date(o.createdAt).getTime()-new Date(c.createdAt).getTime());const i=l.filter(c=>!c.isRead).length;e({notifications:l,unreadCount:i})}catch(n){console.error("Error fetching notifications:",n),e({error:"Failed to fetch notifications"})}},subscribeToTickets:()=>{const{profile:a}=t();if(!a)return()=>{};const n=H(j,"tickets");return Qc(n,async i=>{try{let c=[];if(a.linkedClientId)c.push(a.linkedClientId);else{const r=pe(H(j,"clients"),xe("email","==",a.email)),f=(await I(r)).docs.map(h=>h.id);let p=[];if(a.phoneNumber){const h=pe(H(j,"clients"),xe("phone","==",a.phoneNumber));p=(await I(h)).docs.map(v=>v.id)}c=[...new Set([...f,...p])]}if(c.length===0){e({tickets:[]});return}const o=i.docs.filter(r=>c.includes(r.data().clientId)).map(r=>{var f,p;const u=r.data();return{id:r.id,...u,createdAt:(f=u.createdAt)!=null&&f.toDate?u.createdAt.toDate().toISOString():typeof u.createdAt=="string"?u.createdAt:new Date().toISOString(),updatedAt:(p=u.updatedAt)!=null&&p.toDate?u.updatedAt.toDate().toISOString():typeof u.updatedAt=="string"?u.updatedAt:new Date().toISOString()}});o.sort((r,u)=>new Date(u.createdAt).getTime()-new Date(r.createdAt).getTime()),e({tickets:o}),t().fetchNotifications()}catch(c){console.error("Error in ticket subscription:",c)}})},subscribeToNotifications:()=>t().subscribeToTickets(),markNotificationRead:async a=>{e(n=>({notifications:n.notifications.map(l=>l.id===a?{...l,isRead:!0}:l),unreadCount:Math.max(0,n.unreadCount-1)}))},markAllNotificationsRead:async()=>{e(a=>({notifications:a.notifications.map(n=>({...n,isRead:!0})),unreadCount:0}))},updateProfile:async a=>{const{profile:n,user:l}=t();if(!(!n||!l)){e({loading:!0,error:null});try{await Dt(L(j,"customer_profiles",l.uid),{...a,updatedAt:new Date().toISOString()},{merge:!0}),e({profile:{...n,...a},loading:!1})}catch(i){console.error("Error updating profile:",i),e({error:"Failed to update profile",loading:!1})}}},updateNotificationPreferences:async a=>{await t().updateProfile({notificationPreferences:a})},reset:()=>e({user:null,profile:null,tickets:[],notifications:[],unreadCount:0,loading:!1,error:null})}));function Ox(e){switch(e){case"pending":return"en attente";case"in-progress":return"en cours";case"completed":return"termine";default:return e}}const ug="@firebase/installations",Xr="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=1e4,fg=`w:${Xr}`,mg="FIS_v2",zx="https://firebaseinstallations.googleapis.com/v1",_x=60*60*1e3,Rx="installations",Ux="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},an=new cf(Rx,Ux,qx);function hg(e){return e instanceof t0&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg({projectId:e}){return`${zx}/projects/${e}/installations`}function yg(e){return{token:e.token,requestStatus:2,expiresIn:Hx(e.expiresIn),creationTime:Date.now()}}async function pg(e,t){const n=(await t.json()).error;return an.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function xg({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function kx(e,{refreshToken:t}){const a=xg(e);return a.append("Authorization",Lx(t)),a}async function bg(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Hx(e){return Number(e.replace("s","000"))}function Lx(e){return`${mg} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx({appConfig:e,heartbeatServiceProvider:t},{fid:a}){const n=gg(e),l=xg(e),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&l.append("x-firebase-client",u)}const c={fid:a,authVersion:mg,appId:e.appId,sdkVersion:fg},o={method:"POST",headers:l,body:JSON.stringify(c)},r=await bg(()=>fetch(n,o));if(r.ok){const u=await r.json();return{fid:u.fid||a,registrationStatus:2,refreshToken:u.refreshToken,authToken:yg(u.authToken)}}else throw await pg("Create Installation",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=/^[cdef][\w-]{21}$/,Bo="";function Gx(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const a=Yx(e);return Qx.test(a)?a:Bo}catch{return Bo}}function Yx(e){return Vx(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Map;function Ng(e,t){const a=Bs(e);jg(a,t),Xx(a,t)}function jg(e,t){const a=Sg.get(e);if(a)for(const n of a)n(t)}function Xx(e,t){const a=Zx();a&&a.postMessage({key:e,fid:t}),Kx()}let Ya=null;function Zx(){return!Ya&&"BroadcastChannel"in self&&(Ya=new BroadcastChannel("[Firebase] FID Change"),Ya.onmessage=e=>{jg(e.data.key,e.data.fid)}),Ya}function Kx(){Sg.size===0&&Ya&&(Ya.close(),Ya=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firebase-installations-database",Jx=1,nn="firebase-installations-store";let qc=null;function Zr(){return qc||(qc=Yo($x,Jx,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(nn)}}})),qc}async function vs(e,t){const a=Bs(e),l=(await Zr()).transaction(nn,"readwrite"),i=l.objectStore(nn),c=await i.get(a);return await i.put(t,a),await l.done,(!c||c.fid!==t.fid)&&Ng(e,t.fid),t}async function wg(e){const t=Bs(e),n=(await Zr()).transaction(nn,"readwrite");await n.objectStore(nn).delete(t),await n.done}async function Vs(e,t){const a=Bs(e),l=(await Zr()).transaction(nn,"readwrite"),i=l.objectStore(nn),c=await i.get(a),o=t(c);return o===void 0?await i.delete(a):await i.put(o,a),await l.done,o&&(!c||c.fid!==o.fid)&&Ng(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(e){let t;const a=await Vs(e.appConfig,n=>{const l=Fx(n),i=Ix(e,l);return t=i.registrationPromise,i.installationEntry});return a.fid===Bo?{installationEntry:await t}:{installationEntry:a,registrationPromise:t}}function Fx(e){const t=e||{fid:Gx(),registrationStatus:0};return Tg(t)}function Ix(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(an.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const a={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=Wx(e,a);return{installationEntry:a,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Px(e)}:{installationEntry:t}}async function Wx(e,t){try{const a=await Bx(e,t);return vs(e.appConfig,a)}catch(a){throw hg(a)&&a.customData.serverCode===409?await wg(e.appConfig):await vs(e.appConfig,{fid:t.fid,registrationStatus:0}),a}}async function Px(e){let t=await Yd(e.appConfig);for(;t.registrationStatus===1;)await vg(100),t=await Yd(e.appConfig);if(t.registrationStatus===0){const{installationEntry:a,registrationPromise:n}=await Kr(e);return n||a}return t}function Yd(e){return Vs(e,t=>{if(!t)throw an.create("installation-not-found");return Tg(t)})}function Tg(e){return eb(e)?{fid:e.fid,registrationStatus:0}:e}function eb(e){return e.registrationStatus===1&&e.registrationTime+dg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb({appConfig:e,heartbeatServiceProvider:t},a){const n=ab(e,a),l=kx(e,a),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&l.append("x-firebase-client",u)}const c={installation:{sdkVersion:fg,appId:e.appId}},o={method:"POST",headers:l,body:JSON.stringify(c)},r=await bg(()=>fetch(n,o));if(r.ok){const u=await r.json();return yg(u)}else throw await pg("Generate Auth Token",r)}function ab(e,{fid:t}){return`${gg(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $r(e,t=!1){let a;const n=await Vs(e.appConfig,i=>{if(!Ag(i))throw an.create("not-registered");const c=i.authToken;if(!t&&ib(c))return i;if(c.requestStatus===1)return a=nb(e,t),i;{if(!navigator.onLine)throw an.create("app-offline");const o=cb(i);return a=lb(e,o),o}});return a?await a:n.authToken}async function nb(e,t){let a=await Xd(e.appConfig);for(;a.authToken.requestStatus===1;)await vg(100),a=await Xd(e.appConfig);const n=a.authToken;return n.requestStatus===0?$r(e,t):n}function Xd(e){return Vs(e,t=>{if(!Ag(t))throw an.create("not-registered");const a=t.authToken;return ob(a)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function lb(e,t){try{const a=await tb(e,t),n=Object.assign(Object.assign({},t),{authToken:a});return await vs(e.appConfig,n),a}catch(a){if(hg(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await wg(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await vs(e.appConfig,n)}throw a}}function Ag(e){return e!==void 0&&e.registrationStatus===2}function ib(e){return e.requestStatus===2&&!sb(e)}function sb(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+_x}function cb(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ob(e){return e.requestStatus===1&&e.requestTime+dg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(e){const t=e,{installationEntry:a,registrationPromise:n}=await Kr(t);return n?n.catch(console.error):$r(t).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(e,t=!1){const a=e;return await db(a),(await $r(a,t)).token}async function db(e){const{registrationPromise:t}=await Kr(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(e){if(!e||!e.options)throw kc("App Configuration");if(!e.name)throw kc("App Name");const t=["projectId","apiKey","appId"];for(const a of t)if(!e.options[a])throw kc(a);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function kc(e){return an.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="installations",mb="installations-internal",hb=e=>{const t=e.getProvider("app").getImmediate(),a=fb(t),n=Go(t,"heartbeat");return{app:t,appConfig:a,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},gb=e=>{const t=e.getProvider("app").getImmediate(),a=Go(t,Eg).getImmediate();return{getId:()=>rb(a),getToken:l=>ub(a,l)}};function yb(){Qi(new Gi(Eg,hb,"PUBLIC")),Qi(new Gi(mb,gb,"PRIVATE"))}yb();Vi(ug,Xr);Vi(ug,Xr,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="/firebase-messaging-sw.js",xb="/firebase-cloud-messaging-push-scope",Dg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bb="https://fcmregistrations.googleapis.com/v1",Cg="google.c.a.c_id",vb="google.c.a.c_l",Sb="google.c.a.ts",Nb="google.c.a.e";var Zd;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Zd||(Zd={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Kl;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Kl||(Kl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jb(e){const t="=".repeat((4-e.length%4)%4),a=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(a),l=new Uint8Array(n.length);for(let i=0;i<n.length;++i)l[i]=n.charCodeAt(i);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="fcm_token_details_db",wb=5,Kd="fcm_token_object_Store";async function Tb(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Hc))return null;let t=null;return(await Yo(Hc,wb,{upgrade:async(n,l,i,c)=>{var o;if(l<2||!n.objectStoreNames.contains(Kd))return;const r=c.objectStore(Kd),u=await r.index("fcmSenderId").get(e);if(await r.clear(),!!u){if(l===2){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;t={token:f.fcmToken,createTime:(o=f.createTime)!==null&&o!==void 0?o:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:$t(f.vapidKey)}}}else if(l===3){const f=u;t={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:$t(f.auth),p256dh:$t(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:$t(f.vapidKey)}}}else if(l===4){const f=u;t={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:$t(f.auth),p256dh:$t(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:$t(f.vapidKey)}}}}}})).close(),await Ws(Hc),await Ws("fcm_vapid_details_db"),await Ws("undefined"),Ab(t)?t:null}function Ab(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebase-messaging-database",Db=1,$l="firebase-messaging-store";let Lc=null;function Mg(){return Lc||(Lc=Yo(Eb,Db,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore($l)}}})),Lc}async function Cb(e){const t=Og(e),n=await(await Mg()).transaction($l).objectStore($l).get(t);if(n)return n;{const l=await Tb(e.appConfig.senderId);if(l)return await Jr(e,l),l}}async function Jr(e,t){const a=Og(e),l=(await Mg()).transaction($l,"readwrite");return await l.objectStore($l).put(t,a),await l.done,t}function Og({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ze=new cf("messaging","Messaging",Mb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(e,t){const a=await Ir(e),n=zg(t),l={method:"POST",headers:a,body:JSON.stringify(n)};let i;try{i=await(await fetch(Fr(e.appConfig),l)).json()}catch(c){throw Ze.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(i.error){const c=i.error.message;throw Ze.create("token-subscribe-failed",{errorInfo:c})}if(!i.token)throw Ze.create("token-subscribe-no-token");return i.token}async function zb(e,t){const a=await Ir(e),n=zg(t.subscriptionOptions),l={method:"PATCH",headers:a,body:JSON.stringify(n)};let i;try{i=await(await fetch(`${Fr(e.appConfig)}/${t.token}`,l)).json()}catch(c){throw Ze.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(i.error){const c=i.error.message;throw Ze.create("token-update-failed",{errorInfo:c})}if(!i.token)throw Ze.create("token-update-no-token");return i.token}async function _b(e,t){const n={method:"DELETE",headers:await Ir(e)};try{const i=await(await fetch(`${Fr(e.appConfig)}/${t}`,n)).json();if(i.error){const c=i.error.message;throw Ze.create("token-unsubscribe-failed",{errorInfo:c})}}catch(l){throw Ze.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function Fr({projectId:e}){return`${bb}/projects/${e}/registrations`}async function Ir({appConfig:e,installations:t}){const a=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${a}`})}function zg({p256dh:e,auth:t,endpoint:a,vapidKey:n}){const l={web:{endpoint:a,auth:t,p256dh:e}};return n!==Dg&&(l.web.applicationPubKey=n),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=7*24*60*60*1e3;async function Ub(e){const t=await kb(e.swRegistration,e.vapidKey),a={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:$t(t.getKey("auth")),p256dh:$t(t.getKey("p256dh"))},n=await Cb(e.firebaseDependencies);if(n){if(Hb(n.subscriptionOptions,a))return Date.now()>=n.createTime+Rb?qb(e,{token:n.token,createTime:Date.now(),subscriptionOptions:a}):n.token;try{await _b(e.firebaseDependencies,n.token)}catch(l){console.warn(l)}return $d(e.firebaseDependencies,a)}else return $d(e.firebaseDependencies,a)}async function qb(e,t){try{const a=await zb(e.firebaseDependencies,t),n=Object.assign(Object.assign({},t),{token:a,createTime:Date.now()});return await Jr(e.firebaseDependencies,n),a}catch(a){throw a}}async function $d(e,t){const n={token:await Ob(e,t),createTime:Date.now(),subscriptionOptions:t};return await Jr(e,n),n.token}async function kb(e,t){const a=await e.pushManager.getSubscription();return a||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jb(t)})}function Hb(e,t){const a=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,l=t.auth===e.auth,i=t.p256dh===e.p256dh;return a&&n&&l&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return Lb(t,e),Bb(t,e),Vb(t,e),t}function Lb(e,t){if(!t.notification)return;e.notification={};const a=t.notification.title;a&&(e.notification.title=a);const n=t.notification.body;n&&(e.notification.body=n);const l=t.notification.image;l&&(e.notification.image=l);const i=t.notification.icon;i&&(e.notification.icon=i)}function Bb(e,t){t.data&&(e.data=t.data)}function Vb(e,t){var a,n,l,i,c;if(!t.fcmOptions&&!(!((a=t.notification)===null||a===void 0)&&a.click_action))return;e.fcmOptions={};const o=(l=(n=t.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&l!==void 0?l:(i=t.notification)===null||i===void 0?void 0:i.click_action;o&&(e.fcmOptions.link=o);const r=(c=t.fcmOptions)===null||c===void 0?void 0:c.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(e){return typeof e=="object"&&!!e&&Cg in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(e){if(!e||!e.options)throw Bc("App Configuration Object");if(!e.name)throw Bc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:a}=e;for(const n of t)if(!a[n])throw Bc(n);return{appName:e.name,projectId:a.projectId,apiKey:a.apiKey,appId:a.appId,senderId:a.messagingSenderId}}function Bc(e){return Ze.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,a,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=Gb(t);this.firebaseDependencies={app:t,appConfig:l,installations:a,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(e){try{e.swRegistration=await navigator.serviceWorker.register(pb,{scope:xb}),e.swRegistration.update().catch(()=>{})}catch(t){throw Ze.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(e,t){if(!t&&!e.swRegistration&&await Xb(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Ze.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Dg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _g(e,t){if(!navigator)throw Ze.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ze.create("permission-blocked");return await Kb(e,t==null?void 0:t.vapidKey),await Zb(e,t==null?void 0:t.serviceWorkerRegistration),Ub(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(e,t,a){const n=Jb(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:a[Cg],message_name:a[vb],message_time:a[Sb],message_device_time:Math.floor(Date.now()/1e3)})}function Jb(e){switch(e){case Kl.NOTIFICATION_CLICKED:return"notification_open";case Kl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(e,t){const a=t.data;if(!a.isFirebaseMessaging)return;e.onMessageHandler&&a.messageType===Kl.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Jd(a)):e.onMessageHandler.next(Jd(a)));const n=a.data;Qb(n)&&n[Nb]==="1"&&await $b(e,a.messageType,n)}const Fd="@firebase/messaging",Id="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=e=>{const t=new Yb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",a=>Fb(t,a)),t},Wb=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:n=>_g(t,n)}};function Pb(){Qi(new Gi("messaging",Ib,"PUBLIC")),Qi(new Gi("messaging-internal",Wb,"PRIVATE")),Vi(Fd,Id),Vi(Fd,Id,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(){try{await a0()}catch{return!1}return typeof window<"u"&&n0()&&l0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(e,t){if(!navigator)throw Ze.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(e=i0()){return Rg().then(t=>{if(!t)throw Ze.create("unsupported-browser")},t=>{throw Ze.create("indexed-db-unsupported")}),Go(Xo(e),"messaging").getImmediate()}async function Pd(e,t){return e=Xo(e),_g(e,t)}function tv(e,t){return e=Xo(e),ev(e,t)}Pb();class av{constructor(){this.messaging=null,this.isSupported=!1,this.initialize()}async initialize(){try{this.isSupported=await Rg(),this.isSupported&&(this.messaging=Wd(),this.setupMessageListener())}catch(t){console.error("Failed to initialize push notifications:",t)}}setupMessageListener(){if(!this.messaging){console.error(" setupMessageListener: No messaging instance available");return}console.log(" Setting up foreground message listener..."),tv(this.messaging,t=>{var a,n,l;if(console.log(" FOREGROUND MESSAGE RECEIVED:",t),Notification.permission==="granted")try{console.log(" CREATING BROWSER NOTIFICATION...");const i=new Notification(((a=t.notification)==null?void 0:a.title)||"O'MEGA Services",{body:((n=t.notification)==null?void 0:n.body)||"Vous avez une nouvelle notification",icon:"/omegalogo.png",badge:"/omegalogo.png",data:t.data,tag:((l=t.data)==null?void 0:l.tag)||"repair-notification",requireInteraction:!0,silent:!1});console.log(" BROWSER NOTIFICATION CREATED:",i);let c=!1;i.onclick=o=>{var u;console.log(" NOTIFICATION CLICKED:",o),o.preventDefault(),c=!0,i.close(),window.focus();const r=((u=t.data)==null?void 0:u.url)||"/customer";console.log(" NAVIGATING TO:",r),window.location.pathname!==r&&(window.location.href=r)},i.onclose=()=>{console.log(" NOTIFICATION CLOSED BY USER"),c=!0},i.onerror=o=>{console.error(" NOTIFICATION ERROR:",o),c=!0},setTimeout(()=>{c||(console.log(" AUTO-CLOSING NOTIFICATION"),i.close(),c=!0)},1e4)}catch(i){console.error(" ERROR CREATING FOREGROUND NOTIFICATION:",i)}else console.warn(" NOTIFICATION PERMISSION NOT GRANTED. Current permission:",Notification.permission)})}async requestPermission(){if(!this.isSupported)throw new Error("Push notifications are not supported in this browser");try{return await Notification.requestPermission()}catch(t){return console.error("Error requesting notification permission:",t),"denied"}}async subscribeToPush(t){if(location.protocol!=="https:"&&location.hostname!=="localhost")return console.error("Push notifications require HTTPS. Current protocol:",location.protocol),!1;let a=this.messaging;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&!this.messaging)try{a=Wd()}catch(l){return console.error("Failed to initialize Firebase messaging for mobile:",l),!1}if(!a)return console.warn("Push notifications not supported - no messaging instance"),!1;try{if(await Notification.requestPermission()!=="granted")return console.log("Push notification permission denied"),!1;if("serviceWorker"in navigator)try{(await navigator.serviceWorker.getRegistrations()).find(r=>r.scope.includes("firebase"))||await navigator.serviceWorker.register("/firebase-messaging-sw.js")}catch(c){console.error("Service worker registration failed:",c)}await new Promise(c=>setTimeout(c,1e3));const i=await Pd(a,{vapidKey:"BEKAzNQQC9EL3Hv821Gzvzr-QTpNoSlhl3n1E06EtnHgreAsoMlmgXLVqvjZsASV1RyM-70lz_HvRihQJfLyzDk"});return i?this.isValidFCMToken(i)?(await Ce(L(j,"customer_profiles",t),{fcmTokens:s0(i),"notificationPreferences.pushEnabled":!0,lastPushTokenUpdate:new Date}),!0):(console.error("Invalid FCM token format. Token:",i.substring(0,50)+"...","Length:",i.length),!1):(console.error("Failed to get FCM token - token is null/empty"),!1)}catch(l){return console.error(" Error subscribing to push notifications:",l),!1}}async unsubscribeFromPush(t,a){try{return a?await Ce(L(j,"customer_profiles",t),{fcmTokens:c0(a),"notificationPreferences.pushEnabled":!1}):await Ce(L(j,"customer_profiles",t),{fcmTokens:[],"notificationPreferences.pushEnabled":!1}),!0}catch(n){return console.error("Error unsubscribing from push notifications:",n),!1}}isValidFCMToken(t){return!t||typeof t!="string"||t.length<100||t.length>300?!1:/^[a-zA-Z0-9_.:-]+$/.test(t)}get isPushSupported(){const t="Notification"in window,a="serviceWorker"in navigator,n="PushManager"in window,l=location.protocol==="https:"||location.hostname==="localhost",i=this.isSupported;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?t&&a&&n&&l:i}async debugFCMSetup(t){var a,n;if(console.log(" FCM DEBUG INFO:"),console.log("- Protocol:",location.protocol),console.log("- Hostname:",location.hostname),console.log("- Notification.permission:",Notification.permission),console.log("- Firebase supported:",this.isSupported),console.log("- Push supported:",this.isPushSupported),console.log("- Messaging instance:",!!this.messaging),"serviceWorker"in navigator)try{const l=await navigator.serviceWorker.getRegistrations();console.log("- Service workers registered:",l.length),l.forEach((c,o)=>{var r;console.log(`  ${o+1}. Scope: ${c.scope}, State: ${(r=c.active)==null?void 0:r.state}`)});const i=l.find(c=>c.scope.includes("firebase"));console.log("- Firebase SW found:",!!i)}catch(l){console.error("- Error checking service workers:",l)}if(t&&this.messaging)try{const l=await Pd(this.messaging,{vapidKey:"BEKAzNQQC9EL3Hv821Gzvzr-QTpNoSlhl3n1E06EtnHgreAsoMlmgXLVqvjZsASV1RyM-70lz_HvRihQJfLyzDk"});console.log("- FCM token exists:",!!l),l&&(console.log("- Token length:",l.length),console.log("- Token valid format:",this.isValidFCMToken(l)))}catch(l){console.error("- Error getting FCM token:",l)}if(t)try{const l=await Fa(L(j,"customer_profiles",t));if(l.exists()){const i=l.data();console.log("- Customer FCM tokens count:",((a=i==null?void 0:i.fcmTokens)==null?void 0:a.length)||0),console.log("- Push enabled:",(n=i==null?void 0:i.notificationPreferences)==null?void 0:n.pushEnabled)}}catch(l){console.error("- Error checking customer profile:",l)}}}typeof window<"u"&&(window.debugFCM=Vo.debugFCMSetup.bind(Vo));const Vo=new av;function nv(){const e=ka(T=>T.isDarkMode),{user:t,profile:a,tickets:n,reset:l,fetchProfile:i,fetchTickets:c,subscribeToTickets:o}=rg(),[r,u]=D.useState([]),[f,p]=D.useState(!1),[h,m]=D.useState(!1),[v,S]=D.useState(0),M=D.useRef(null),g=D.useRef(null);D.useEffect(()=>{t&&!a&&(i(),c())},[t,a,i,c]),D.useEffect(()=>{if(a)return o()},[a,o]),D.useEffect(()=>{t!=null&&t.uid&&d()},[t==null?void 0:t.uid]),D.useEffect(()=>{f&&(t!=null&&t.uid)&&!h&&y()},[f,t==null?void 0:t.uid]),D.useEffect(()=>{const T=C=>{M.current&&!M.current.contains(C.target)&&g.current&&!g.current.contains(C.target)&&p(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const d=async()=>{if(!(t!=null&&t.uid)){console.log(" fetchUnreadNotificationCount: No user UID");return}console.log(" fetchUnreadNotificationCount: Starting for user:",t.uid);try{const T=pe(H(j,"notification_history"),xe("customerId","==",t.uid),mu("sentAt","desc"),hu(50));return console.log(" fetchUnreadNotificationCount: Query created"),Qc(T,q=>{console.log(" fetchUnreadNotificationCount: Snapshot received, docs count:",q.docs.length);const ee=q.docs.filter(ce=>{const ze=ce.data();return console.log(" Notification data:",ze),!ze.readAt}).length;console.log(" fetchUnreadNotificationCount: Unread count:",ee),S(ee)},q=>{console.error(" fetchUnreadNotificationCount: Error in snapshot:",q)})}catch(T){console.error(" fetchUnreadNotificationCount: Error:",T)}},y=async()=>{if(t!=null&&t.uid){m(!0);try{const T=pe(H(j,"notification_history"),xe("customerId","==",t.uid),mu("sentAt","desc"),hu(5));return Qc(T,async q=>{var ce,ze,Ye,A,_,U,te,F;const ee=[];for(const ae of q.docs){const Y=ae.data();if(Y.readAt)continue;let _e="",Xe="";Y.type==="status_change"?(_e="Statut de rparation mis  jour",Xe=`Votre ${((ce=Y.metadata)==null?void 0:ce.deviceInfo)||"appareil"} est maintenant ${((ze=Y.metadata)==null?void 0:ze.newStatus)||"mis  jour"}`):Y.type==="email"?(_e="Notification par email",Xe=`Mise  jour rparation - ${((Ye=Y.metadata)==null?void 0:Ye.deviceInfo)||"appareil"}`):Y.channel==="push"?(_e="Notification push",Xe="Votre rparation a t mise  jour"):(_e=`Notification ${Y.channel||"gnrale"}`,Xe="Vous avez une nouvelle notification");let nt=((A=Y.metadata)==null?void 0:A.ticketNumber)||Y.ticketId;if(!((_=Y.metadata)!=null&&_.ticketNumber)&&Y.ticketId)try{const Ha=await Fa(L(j,"tickets",Y.ticketId));if(Ha.exists()){const ra=Ha.data();nt=(ra==null?void 0:ra.ticketNumber)||Y.ticketId}}catch(Ha){console.error("Error fetching ticket number:",Ha),nt=Y.ticketId}ee.push({id:ae.id,customerId:Y.customerId,type:Y.channel||Y.type||"push",title:_e,message:Xe,ticketId:Y.ticketId,ticketNumber:nt,status:Y.status,createdAt:((U=Y.sentAt)==null?void 0:U.toDate())||new Date,deliveredAt:(te=Y.deliveredAt)==null?void 0:te.toDate(),readAt:(F=Y.readAt)==null?void 0:F.toDate()})}u(ee),m(!1)})}catch(T){console.error("Error fetching notifications:",T),m(!1)}}},b=async T=>{try{await Ce(L(j,"notification_history",T),{readAt:new Date}),u(C=>C.filter(q=>q.id!==T)),S(C=>Math.max(0,C-1))}catch(C){console.error("Error marking notification as read:",C)}},E=()=>{p(!f)},z=T=>{switch(T){case"push":return s.jsx(gu,{className:"h-4 w-4 text-blue-500"});case"email":return s.jsx(cl,{className:"h-4 w-4 text-green-500"});case"sms":return s.jsx(cl,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(cl,{className:"h-4 w-4 text-gray-500"})}},w=T=>{const q=Math.floor((new Date().getTime()-T.getTime())/(1e3*60*60));return q<1?" l'instant":q<24?`Il y a ${q}h`:q<24*7?`Il y a ${Math.floor(q/24)}j`:T.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})};D.useEffect(()=>{const T=async()=>{var ee;if(!(a!=null&&a.id))return;const C=(ee=a.notificationPreferences)==null?void 0:ee.pushEnabled,q=a.fcmTokens&&a.fcmTokens.length>0;if(C&&!q)try{await Vo.subscribeToPush(a.id)&&await i()}catch{}};if(a&&a.id){const C=setTimeout(T,2e3);return()=>clearTimeout(C)}},[a,i]);const R=async()=>{try{await Gr(),l()}catch(T){console.error("Error logging out:",T)}};return t?s.jsxs("div",{className:`min-h-screen ${e?"dark bg-gray-900":"bg-gray-50"}`,children:[s.jsx("header",{className:`bg-white dark:bg-gray-800 shadow-sm border-b ${e?"border-gray-700":"border-gray-200"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[s.jsx(gu,{className:"h-8 w-8 text-indigo-600"}),s.jsx("span",{className:`ml-2 text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"O'MEGA Services"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{ref:g,onClick:E,className:"relative p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Notifications",children:[s.jsx(cl,{className:"h-6 w-6"}),v>0&&s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:v>9?"9+":v})]}),f&&s.jsxs("div",{ref:M,className:`absolute right-0 mt-2 w-80 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg shadow-lg z-50`,children:[s.jsx("div",{className:`p-4 border-b ${e?"border-gray-700":"border-gray-200"}`,children:s.jsx("h3",{className:`text-sm font-semibold ${e?"text-white":"text-gray-900"}`,children:"Notifications rcentes"})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:h?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600 mx-auto"}),s.jsx("p",{className:`text-sm mt-2 ${e?"text-gray-400":"text-gray-500"}`,children:"Chargement..."})]}):r.length===0?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx(cl,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Aucune notification rcente"})]}):r.map(T=>s.jsx("div",{className:`p-4 border-b ${e?"border-gray-700 hover:bg-gray-700":"border-gray-100 hover:bg-gray-50"} transition-colors cursor-pointer`,onClick:()=>b(T.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:z(T.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium ${T.readAt?e?"text-gray-400":"text-gray-600":e?"text-white":"text-gray-900"} truncate`,children:T.title}),s.jsx("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"} mt-1 line-clamp-2`,children:T.message}),s.jsx("p",{className:`text-xs ${e?"text-gray-500":"text-gray-400"} mt-2`,children:w(T.createdAt)})]}),!T.readAt&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})})]})},T.id))}),s.jsx("div",{className:`p-3 border-t ${e?"border-gray-700":"border-gray-200"}`,children:s.jsx("a",{href:"/customer/notifications",className:`block w-full text-center text-sm ${e?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-500"} font-medium`,onClick:()=>p(!1),children:"Voir toutes les notifications"})})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center",children:s.jsx(rf,{className:"h-5 w-5 text-white"})})}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:(a==null?void 0:a.fullName)||"Client"})}),s.jsx("button",{onClick:R,className:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-md",title:"Dconnexion",children:s.jsx(uf,{className:"h-5 w-5"})})]})]})]})})}),s.jsx("nav",{className:`bg-white dark:bg-gray-800 border-b ${e?"border-gray-700":"border-gray-200"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex space-x-8",children:[s.jsx("a",{href:"/customer",className:`py-4 px-1 border-b-2 font-medium text-sm ${window.location.pathname==="/customer"?"border-indigo-500 text-indigo-600":`border-transparent ${e?"text-gray-300 hover:text-white":"text-gray-500 hover:text-gray-700"}`}`,children:"Mes Rparations"}),s.jsx("a",{href:"/customer/notifications",className:`py-4 px-1 border-b-2 font-medium text-sm ${window.location.pathname==="/customer/notifications"?"border-indigo-500 text-indigo-600":`border-transparent ${e?"text-gray-300 hover:text-white":"text-gray-500 hover:text-gray-700"}`}`,children:"Notifications"}),s.jsx("a",{href:"/customer/profile",className:`py-4 px-1 border-b-2 font-medium text-sm ${window.location.pathname==="/customer/profile"?"border-indigo-500 text-indigo-600":`border-transparent ${e?"text-gray-300 hover:text-white":"text-gray-500 hover:text-gray-700"}`}`,children:"Mon Profil"})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s.jsx("div",{className:"px-4 py-6 sm:px-0",children:s.jsx(lf,{})})})]}):s.jsx(Rt,{to:"/customer/login"})}function Vc(){const e=ka(t=>t.isDarkMode);return s.jsx("div",{className:`min-h-screen flex items-center justify-center ${e?"bg-gray-900":"bg-gray-50"}`,children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-indigo-600"}),s.jsx("p",{className:`mt-4 text-lg font-medium ${e?"text-white":"text-gray-900"}`,children:"Loading..."})]})})}function ef(){const e=ka(t=>t.isDarkMode);return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center",children:s.jsxs("div",{className:`text-center p-8 rounded-lg ${e?"bg-gray-800":"bg-white"} shadow-lg max-w-md`,children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 rounded-full bg-red-100",children:s.jsx(v0,{className:"h-12 w-12 text-red-600"})})}),s.jsx("h1",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Access Denied"}),s.jsx("p",{className:`mb-6 ${e?"text-gray-300":"text-gray-600"}`,children:"You don't have permission to access this page. Please contact your administrator if you believe this is an error."}),s.jsx(nf,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Return to Dashboard"})]})})}const Qs={thermal:{name:"Thermal Receipt",width:"80mm",styles:{container:"p-4 bg-white text-black",header:"text-center mb-4",body:"space-y-2",footer:"text-center text-xs mt-4 border-t border-dashed pt-2"},showLogo:!0,showTerms:!1,showQRCode:!1,layout:"compact"},a4:{name:"A4 Format",width:"210mm",height:"297mm",styles:{container:"p-8 bg-white text-black",header:"mb-8",body:"space-y-6",footer:"text-center text-sm text-gray-600 border-t border-gray-300 pt-4"},showLogo:!0,showTerms:!0,showQRCode:!1,layout:"spacious"},pdf:{name:"PDF Format",width:"210mm",height:"297mm",styles:{container:"",header:"",body:"",footer:""},showLogo:!0,showTerms:!0,showQRCode:!1,layout:"spacious"}},Gs={receipt:"Receipt",invoice:"Invoice",ticket:"Repair Ticket",quote:"Quote",engagement:"Client Engagement Contract"},je={name:"O'MEGA SERVICES",address:"400 Rue nationale, 69400 Villefranche-Sur-Sane",phone:"0986608980",email:"contact@omegaservices.fr",taxId:"FR123456789",logoUrl:"/omegalogo.png"},lv={ticket:["Le client est responsable de la sauvegarde de ses donnes.","Diagnostic et devis possiblement payants.","Dlais indicatifs, non contractuels.","Devis accept avant intervention, frais de diagnostic 40  TTC en cas de refus de rparation.","Appareil non rcupr sous 30 jours = abandonn.","Garantie 3 mois (hors casse, oxydation, mauvaise utilisation)."],invoice:["Aucun matriel ne sera restitu avant rglement intgral de la facture.","Les rparations sont garanties 3 mois pices et main-duvre.","Les produits vendus bnficient dune garantie standard de 1 an.","Toute rclamation doit tre formule par crit dans un dlai de 7 jours suivant la facture.","Les retours produits sont accepts sous 14 jours avec emballage dorigine."],receipt:["Ce reu fait office de preuve dachat.","Les conditions gnrales de vente sappliquent  toute transaction figurant sur ce reu.","Conservez ce reu pour toute demande de garantie ou de service aprsvente."],quote:["Ce devis est valable 30 jours  compter de sa date dmission. ","Les prix indiqus peuvent voluer en fonction des spcifications finales.","Toute modification demande pourra entraner une rvision du devis.","Lexcution des travaux dbutera aprs rception de lacompte prvu.","Le tarif dfinitif sera confirm lors de la validation de la commande. "],engagement:["Je reconnais avoir confi mon appareil  OMEGA SERVICES","J'ai t inform(e) que je dois sauvegarder mes donnes avant toute intervention","Le client reconnat avoir t inform que l'intervention peut entraner la perte de tout ou une partie de ses donnes et en accepte les consquences","J'accepte que le diagnostic puisse tre payant","Je reconnais que les dlais sont indicatifs","Je m'engage  rgler la totalit de la prestation avant rcupration de l'appareil","Je reconnais la garantie de 3 mois applicable uniquement sur les pices remplaces","Tout appareil non rcupr sous 30 jours pourra tre considr comme abandonn"]},iv=({data:e,documentRef:t,onFormatChange:a})=>{var f,p;const n=D.useRef(!1),l=D.useCallback(async()=>{if(!n.current){n.current=!0,console.log(" PHASE 2: Starting window-based print process");try{const h=t.current;if(!h){console.log(" PHASE 2: No modal element found, printing entire page"),window.print(),n.current=!1;return}const m=h.querySelector("[data-format]");if(!m){console.log(" PHASE 2: No document content element found, printing entire page"),window.print(),n.current=!1;return}const v=m.getAttribute("data-format");console.log(" PHASE 2: Document format:",v),console.log(" PHASE 2: Capturing document with html2canvas");const S=m.querySelectorAll("img"),M=Array.from(S).map(C=>new Promise(q=>{C.complete&&C.naturalHeight>0?q():(C.onload=()=>q(),C.onerror=()=>q(),setTimeout(()=>q(),2e3))}));await Promise.all(M),console.log(" PHASE 2: Images loaded");const g={transform:m.style.transform,position:m.style.position,willChange:m.style.willChange,contain:m.style.contain};m.style.transform="none",m.style.position="static",m.style.willChange="auto",m.style.contain="none";const d=m.closest('[class*="fixed"]'),y=d?{transform:d.style.transform,willChange:d.style.willChange}:{};d&&(d.style.transform="none",d.style.willChange="auto");const b=await ui(m,{scale:2,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,width:m.offsetWidth,height:m.offsetHeight});console.log(" PHASE 2: Canvas created:",b.width,"x",b.height),Object.assign(m.style,g),d&&y&&Object.assign(d.style,y);const E=b.toDataURL("image/png");console.log(" PHASE 2: Image data created");const z=window.open("","_blank");if(!z){console.error(" PHASE 2: Failed to open print window"),window.print(),n.current=!1;return}const w=v==="thermal";let R,T;if(w)R="80mm",T="auto";else{const ee=794/b.width,ce=1123/b.height,ze=Math.min(ee,ce);R=`${Math.round(b.width*ze)}px`,T=`${Math.round(b.height*ze)}px`,console.log(" PHASE 2: Scaled A4 dimensions:",R,"x",T)}z.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Document Print</title>
            <style>
              @media print {
                @page {
                  size: ${w?"80mm 200mm":"A4"};
                  margin: ${w?"5mm":"0"};
                }
                body {
                  margin: 0;
                  padding: 0;
                }
                img {
                  page-break-inside: avoid;
                  page-break-after: avoid;
                  page-break-before: avoid;
                }
              }
              body {
                margin: 0;
                padding: ${w?"10px":"0"};
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                background: white;
                font-family: Arial, sans-serif;
              }
              img {
                display: block;
                max-width: 100%;
                height: auto;
                box-shadow: none;
              }
              .thermal {
                width: 80mm;
                margin: 0 auto;
              }
              .a4 {
                width: ${R};
                height: ${T};
                margin: 0 auto;
                object-fit: contain;
              }
            </style>
          </head>
          <body>
            <div class="${w?"thermal":"a4"}">
              <img src="${E}" alt="Document" style="width: 100%; height: auto;" />
            </div>
          </body>
        </html>
      `),z.document.close(),console.log(" PHASE 2: Print window content set"),z.onload=()=>{console.log(" PHASE 2: Print window loaded, triggering print"),z.print(),setTimeout(()=>{z.close(),console.log(" PHASE 2: Print window closed")},1e3)}}catch(h){console.error(" PHASE 2: Error in window-based print action:",h),window.print()}finally{setTimeout(()=>{n.current=!1,console.log(" PHASE 2: Print process complete")},1e3)}}},[t]),i=D.useCallback(async()=>{var h;if(!(n.current||!((h=e.customer)!=null&&h.email))){n.current=!0;try{console.log("Starting PDF generation for email...");const m=async()=>{if(console.log("PDF download function called"),!t.current){console.log("PDF generation blocked - no ref");return}try{console.log("Importing jsPDF...");const{default:M}=await be(async()=>{const{default:ae}=await import("./jspdf.es.min-Cgtc_GIT.js").then(Y=>Y.j);return{default:ae}},[]);console.log("jsPDF imported successfully");const g=t.current;console.log("Modal element:",g);const d=(g==null?void 0:g.querySelector('[data-format="a4"]'))||(g==null?void 0:g.querySelector('[data-format="thermal"]'))||g;if(console.log("Format element found:",d),console.log("Format element data-format:",d==null?void 0:d.getAttribute("data-format")),!d)throw new Error("No format element found");const y=d;console.log("Target element dimensions:",y.offsetWidth,"x",y.offsetHeight);const b=y.querySelectorAll("img");console.log("Found images:",b.length);const E=Array.from(b).map(ae=>new Promise(Y=>{ae.complete&&ae.naturalHeight>0?(console.log("Image already loaded"),Y()):(console.log("Waiting for image to load..."),ae.onload=()=>{console.log("Image loaded successfully"),Y()},ae.onerror=()=>{console.log("Image failed to load, continuing"),Y()},setTimeout(()=>{console.log("Image load timeout, continuing"),Y()},2e3))}));await Promise.all(E),console.log("All images processed"),await new Promise(ae=>setTimeout(ae,200)),console.log("Render delay complete");const z={transform:y.style.transform,position:y.style.position,willChange:y.style.willChange,contain:y.style.contain};y.style.transform="none",y.style.position="static",y.style.willChange="auto",y.style.contain="none";const w=y.closest('[class*="fixed"]'),R=w?{transform:w.style.transform,willChange:w.style.willChange}:{};w&&(w.style.transform="none",w.style.willChange="auto"),console.log("Starting html2canvas capture...");const T=await ui(y,{scale:1.5,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,foreignObjectRendering:!1,logging:!1,width:y.offsetWidth,height:y.offsetHeight,scrollX:0,scrollY:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,ignoreElements:ae=>ae.tagName==="IFRAME"||ae.classList.contains("html2canvas-ignore")||ae.style.display==="none"});console.log("Canvas created:",T.width,"x",T.height),Object.assign(y.style,z),w&&R&&Object.assign(w.style,R);const C=y.hasAttribute("data-format")&&y.getAttribute("data-format")==="thermal";console.log("Is thermal format:",C);let q,ee,ce;C?(q=new M({orientation:"portrait",unit:"mm",format:[80,200]}),ee=80,ce=200):(q=new M({orientation:"portrait",unit:"mm",format:"a4"}),ee=q.internal.pageSize.getWidth(),ce=q.internal.pageSize.getHeight()),console.log("PDF dimensions:",ee,"x",ce);const ze=ee,Ye=T.height*ee/T.width,A=Math.min(Ye,ce);console.log("Image dimensions in PDF:",ze,"x",A);const _=T.toDataURL("image/png",1);console.log("Image data URL length:",_.length),q.addImage(_,"PNG",0,0,ze,A);const U=q.output("blob");console.log("PDF blob created, size:",U.size);const te=URL.createObjectURL(U),F=document.createElement("a");F.href=te,F.download=`${e.type}_${e.number}_${Date.now()}.pdf`,document.body.appendChild(F),console.log("Triggering PDF download..."),F.click(),document.body.removeChild(F),URL.revokeObjectURL(te),console.log("PDF download triggered successfully")}catch(M){console.error("Error generating PDF for email:",M);try{const[{pdf:g},{default:d}]=await Promise.all([be(()=>import("./vendor-pdf-renderer-DliE_hgd.js").then(w=>w.r),__vite__mapDeps([0,1,2])),be(()=>Promise.resolve().then(()=>af),void 0)]),y=d({data:e}),b=await g(y).toBlob(),E=URL.createObjectURL(b),z=document.createElement("a");z.href=E,z.download=`${e.type}_${e.number}_${Date.now()}.pdf`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(E),console.log("Fallback PDF download completed")}catch(g){throw console.error("Fallback PDF generation for email also failed:",g),g}}};console.log("Calling PDF download...");try{await m(),console.log("PDF download completed successfully")}catch(M){throw console.error("PDF download failed:",M),M}await new Promise(M=>setTimeout(M,500));const v=`${e.type.charAt(0).toUpperCase()+e.type.slice(1)} ${e.number}`,S=`Bonjour ${e.customer.name},

Veuillez trouver ci-joint le document relatif  votre demande auprs d'Omega Services :

- Type de document: ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} ${e.number}
- Date: ${new Date(e.date).toLocaleDateString()}

Notre quipe reste  votre disposition pour toute question ou information complmentaire.
N'hsitez pas  nous contacter par retour de mail ou au [numro de tlphone] si vous avez besoin d'assistance supplmentaire.

Cordialement.`;window.location.href=`mailto:${e.customer.email}?subject=${encodeURIComponent(v)}&body=${encodeURIComponent(S)}`}catch(m){console.error("Error in email action:",m);const v=`${e.type.charAt(0).toUpperCase()+e.type.slice(1)} ${e.number}`,S=`Please find your ${e.type.toLowerCase()} details attached.`;window.location.href=`mailto:${e.customer.email}?subject=${encodeURIComponent(v)}&body=${encodeURIComponent(S)}`}finally{setTimeout(()=>{n.current=!1},2e3)}}},[(f=e.customer)==null?void 0:f.email,e.type,e.number,e,t]),c=D.useCallback(async()=>{if(!(n.current||!t.current)){n.current=!0;try{const h=t.current,m=(h==null?void 0:h.querySelector('[data-format="a4"]'))||(h==null?void 0:h.querySelector('[data-format="thermal"]'))||h;if(!m)throw new Error("No format element found");const v=m,S=v.querySelectorAll("img"),M=Array.from(S).map(b=>new Promise(E=>{b.complete&&b.naturalHeight>0?E():(b.onload=()=>E(),b.onerror=()=>E(),setTimeout(()=>E(),2e3))}));await Promise.all(M),await new Promise(b=>setTimeout(b,100));const d=(await ui(v,{scale:2,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!1,width:v.offsetWidth,height:v.offsetHeight})).toDataURL("image/png"),y=document.createElement("a");y.href=d,y.download=`${e.type}_${e.number}_${Date.now()}.png`,document.body.appendChild(y),y.click(),document.body.removeChild(y)}catch(h){console.error("Error generating document image:",h)}finally{setTimeout(()=>{n.current=!1},1e3)}}},[e.type,e.number,t]),o=D.useCallback(h=>{if(n.current)return;const m=h==="thermal"?"a4":"thermal";a==null||a(m)},[a]),r=D.useCallback(async()=>{if(!(n.current||!t.current)){n.current=!0;try{const{default:h}=await be(async()=>{const{default:_}=await import("./jspdf.es.min-Cgtc_GIT.js").then(U=>U.j);return{default:_}},[]),m=t.current,v=(m==null?void 0:m.querySelector('[data-format="a4"]'))||(m==null?void 0:m.querySelector('[data-format="thermal"]'))||m;if(!v)throw new Error("No format element found");const S=v,M=S.querySelectorAll("img"),g=Array.from(M).map(_=>new Promise(U=>{_.complete&&_.naturalHeight>0?U():(_.onload=()=>U(),_.onerror=()=>U(),setTimeout(()=>U(),2e3))}));await Promise.all(g),await new Promise(_=>setTimeout(_,200));const d={transform:S.style.transform,position:S.style.position,willChange:S.style.willChange,contain:S.style.contain};S.style.transform="none",S.style.position="static",S.style.willChange="auto",S.style.contain="none";const y=S.closest('[class*="fixed"]'),b=y?{transform:y.style.transform,willChange:y.style.willChange}:{};y&&(y.style.transform="none",y.style.willChange="auto");const E=await ui(S,{scale:1.5,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,foreignObjectRendering:!1,logging:!1,width:S.offsetWidth,height:S.offsetHeight,scrollX:0,scrollY:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,ignoreElements:_=>_.tagName==="IFRAME"||_.classList.contains("html2canvas-ignore")||_.style.display==="none"});Object.assign(S.style,d),y&&b&&Object.assign(y.style,b);const z=S.hasAttribute("data-format")&&S.getAttribute("data-format")==="thermal";console.log("PDF Generation - Element format:",S.getAttribute("data-format")),console.log("PDF Generation - Is thermal:",z);let w,R,T;z?(w=new h({orientation:"portrait",unit:"mm",format:[80,200]}),R=80,T=200):(w=new h({orientation:"portrait",unit:"mm",format:"a4"}),R=w.internal.pageSize.getWidth(),T=w.internal.pageSize.getHeight());const C=R,q=E.height*R/E.width,ee=Math.min(q,T),ce=E.toDataURL("image/png",1);w.addImage(ce,"PNG",0,0,C,ee);const ze=w.output("blob"),Ye=URL.createObjectURL(ze),A=document.createElement("a");A.href=Ye,A.download=`${e.type}_${e.number}_${Date.now()}.pdf`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(Ye)}catch(h){console.error("Error generating PDF:",h);try{const[{pdf:m},{default:v}]=await Promise.all([be(()=>import("./vendor-pdf-renderer-DliE_hgd.js").then(y=>y.r),__vite__mapDeps([0,1,2])),be(()=>Promise.resolve().then(()=>af),void 0)]),S=v({data:e}),M=await m(S).toBlob(),g=URL.createObjectURL(M),d=document.createElement("a");d.href=g,d.download=`fallback_${e.type}_${e.number}_${Date.now()}.pdf`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(g)}catch(m){console.error("Fallback PDF generation also failed:",m)}}finally{setTimeout(()=>{n.current=!1},1e3)}}},[e,t]),u=D.useCallback(h=>{var m;switch(h){case"email":return!!((m=e.customer)!=null&&m.email);case"download":case"print":case"toggleFormat":return!0;default:return!1}},[(p=e.customer)==null?void 0:p.email]);return{handlePrint:l,handleEmail:i,handleDownload:c,handlePDFDownload:r,handleFormatToggle:o,isActionAvailable:u,isProcessing:n.current}};function sv({currentFormat:e,onToggle:t,disabled:a=!1}){const n=()=>e==="thermal"?Ns:df,l=()=>`Switch to ${e==="thermal"?"A4":"Thermal"}`,i=n();return s.jsxs("button",{onClick:t,disabled:a,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:l(),children:[s.jsx(i,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:l()}),s.jsx("span",{className:"sm:hidden",children:"Switch"})]})}function cv({onDownload:e,disabled:t=!1,isProcessing:a=!1}){return s.jsxs("button",{onClick:e,disabled:t||a,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:"Download Document",children:[s.jsx(S0,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:a?"Downloading...":"Download"}),s.jsx("span",{className:"sm:hidden",children:a?"...":"DL"})]})}function ov({data:e,onDownload:t,disabled:a=!1,isProcessing:n=!1}){return s.jsxs("button",{onClick:t,disabled:a||n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:"Download PDF",children:[s.jsx(Ns,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:n?"Generating PDF...":"PDF"}),s.jsx("span",{className:"sm:hidden",children:n?"...":"PDF"})]})}function rv({onEmail:e,disabled:t=!1,hasEmail:a=!1}){return a?s.jsxs("button",{onClick:e,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:"Email Document",children:[s.jsx(N0,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Email"})]}):null}function uv({onPrint:e,disabled:t=!1}){return s.jsxs("button",{onClick:e,disabled:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:"Print Document",children:[s.jsx(ff,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Print"})]})}const Wr="/assets/omegalogo-RZXh5qpI.png",dv=e=>{switch(e){case"not_paid":return"Non pay";case"partially_paid":return"Partiellement pay";case"fully_paid":case"Paid":case"paid":return"Pay";default:return e}},fv=e=>{switch(e){case"cash":return"Espces";case"card":return"Carte bancaire";case"transfer":return"Virement";case"digital":return"Chque";default:return e}};function tf({data:e}){const t=Qs.thermal,a=e.amountPaid!==void 0?e.total-e.amountPaid:0,n=()=>{switch(e.type){case"quote":return"DEVIS";case"invoice":return"FACTURE";case"ticket":return"TICKET DE RPARATION";default:return"REU"}};return s.jsxs("div",{className:t.styles.container,style:{width:t.width,margin:"0 auto"},"data-format":"thermal",children:[s.jsxs("div",{className:t.styles.header,children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("img",{src:Wr,alt:`${je.name} Logo`,className:"h-8 w-auto mr-2"})}),s.jsx("h1",{className:"font-bold text-lg",children:je.name}),s.jsx("p",{className:"text-xs",children:je.address}),s.jsxs("p",{className:"text-xs",children:["Tel: ",je.phone]}),s.jsxs("p",{className:"text-xs",children:["TVA: ",je.taxId]})]}),s.jsxs("div",{className:"border-y border-dashed py-2 my-2 text-center",children:[s.jsx("p",{className:"font-bold text-sm",children:n()}),s.jsxs("p",{className:"text-xs",children:["#",e.number]}),s.jsx("p",{className:"text-xs",children:Ht(new Date(e.date),"dd/MM/yyyy HH:mm")})]}),e.customer&&s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-1",children:"Client:"}),s.jsx("p",{className:"text-xs",children:e.customer.name}),e.customer.phone&&s.jsxs("p",{className:"text-xs",children:["Tel: ",e.customer.phone]}),e.customer.email&&s.jsx("p",{className:"text-xs",children:e.customer.email}),e.customer.address&&s.jsx("p",{className:"text-xs",children:e.customer.address})]}),(e.type==="ticket"||e.type==="invoice"&&e.sourceType==="ticket")&&e.deviceType&&s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-1",children:"Appareil:"}),s.jsx("p",{className:"text-xs",children:e.deviceType}),e.brand&&s.jsx("p",{className:"text-xs",children:e.brand}),e.model&&s.jsx("p",{className:"text-xs",children:e.model}),e.imeiSerial&&s.jsxs("p",{className:"text-xs",children:["IMEI: ",e.imeiSerial]})]}),s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-2",children:"Produits:"}),e.items.map((l,i)=>s.jsxs("div",{className:"mb-1",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"flex-1",children:l.name}),s.jsxs("span",{children:["x",l.quantity]})]}),l.sku&&s.jsxs("p",{className:"text-xs text-gray-600",children:["SKU: ",l.sku]}),s.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[s.jsxs("span",{children:["",(l.price*l.quantity).toFixed(2)]}),s.jsxs("span",{children:["@ ",l.price.toFixed(2)]})]})]},i))]}),s.jsxs("div",{className:"border-t border-dashed pt-2 my-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{children:"Prix HT:"}),s.jsxs("span",{children:["",e.subtotal.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{children:"TVA (20%):"}),s.jsxs("span",{children:["",e.tax.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-sm border-t border-dashed pt-1 mt-1",children:[s.jsx("span",{children:"TOTAL TTC:"}),s.jsxs("span",{children:["",e.total.toFixed(2)]})]})]}),(e.paymentMethod||e.paymentStatus)&&s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-1",children:"Paiement:"}),e.paymentMethod&&s.jsxs("p",{className:"text-xs",children:["Type de paiement: ",fv(e.paymentMethod)]}),e.paymentStatus&&s.jsxs("p",{className:"text-xs",children:["Statut: ",dv(e.paymentStatus)]}),e.amountPaid!==void 0&&e.amountPaid>0&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs",children:["Montant pay: ",e.amountPaid.toFixed(2)]}),e.amountPaid<e.total&&s.jsxs("p",{className:"text-xs font-bold",children:["Solde restant: ",a.toFixed(2)]})]})]}),e.note&&s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-1",children:"Note:"}),s.jsx("p",{className:"text-xs",children:e.note})]}),s.jsxs("div",{className:"text-center text-xs mt-4 border-t border-dashed pt-2",children:[s.jsx("p",{className:"mb-1",children:"Merci pour votre confiance !"}),s.jsx("p",{className:"mb-1",children:"Votre satisfaction est notre priorit."}),s.jsxs("p",{children:["Pour toute question concernant ce ",Gs[e.type].toLowerCase(),", veuillez nous contacter  ladresse ",je.email]})]})]})}const mv=e=>{switch(e){case"not_paid":return"Non pay";case"partially_paid":return"Partiellement pay";case"fully_paid":case"Paid":case"paid":return"Pay";default:return e}},hv=e=>{switch(e){case"cash":return"Espces";case"card":return"Carte bancaire";case"transfer":return"Virement";case"digital":return"Chque";default:return e}};function gv({data:e}){const t=Qs.a4,a=e.amountPaid!==void 0?e.total-e.amountPaid:0,n=()=>{switch(e.type){case"quote":return"DEVIS";case"invoice":return"FACTURE";case"ticket":return"TICKET DE RPARATION";default:return"FACTURE"}};return s.jsxs("div",{className:`${t.styles.container} flex flex-col`,style:{width:t.width,maxWidth:"100%",minHeight:"100vh"},"data-format":"a4",children:[s.jsxs("div",{className:`${t.styles.header} flex justify-between flex-shrink-0`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-4",children:s.jsx("img",{src:Wr,alt:`${je.name} Logo`,className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-1 text-gray-900",children:je.name}),s.jsx("p",{className:"text-sm text-gray-600",children:je.address}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tel: ",je.phone]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",je.email]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["TVA: ",je.taxId]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h2",{className:"text-xl font-bold mb-1 text-gray-900",children:n()}),s.jsxs("p",{className:"text-sm text-gray-600",children:["#",e.number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",Ht(new Date(e.date),"dd/MM/yyyy")]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Heure: ",Ht(new Date(e.date),"HH:mm")]})]})]}),s.jsxs("div",{className:"flex-grow py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:e.type==="ticket"?"Informations client:":"Facturer :"}),e.customer?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-800",children:e.customer.name}),e.customer.address&&s.jsx("p",{className:"text-gray-800",children:e.customer.address}),e.customer.phone&&s.jsxs("p",{className:"text-gray-800",children:["Tel: ",e.customer.phone]}),e.customer.email&&s.jsx("p",{className:"text-gray-800",children:e.customer.email}),e.customer.taxId&&s.jsxs("p",{className:"text-gray-800",children:["Tax ID: ",e.customer.taxId]})]}):s.jsx("p",{className:"text-gray-800",children:"Client walk-in "})]}),(e.type==="ticket"||e.type==="invoice"&&e.sourceType==="ticket")&&e.deviceType&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Caractristiques de l'appareil:"}),s.jsx("table",{className:"w-full mb-4",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Type:"}),s.jsx("td",{className:"py-2 text-gray-800",children:e.deviceType})]}),e.brand&&s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Marque:"}),s.jsx("td",{className:"py-2 text-gray-800",children:e.brand})]}),e.model&&s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Modle:"}),s.jsx("td",{className:"py-2 text-gray-800",children:e.model})]}),e.imeiSerial&&s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium text-gray-800",children:"IMEI / Numro de Srie:"}),s.jsx("td",{className:"py-2 text-gray-800",children:e.imeiSerial})]})]})})]}),s.jsxs("table",{className:"w-full mb-6 border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("th",{className:"text-left py-2 text-gray-900",children:e.type==="ticket"?"Service":"Produit"}),s.jsx("th",{className:"text-center py-2 text-gray-900",children:"Qt"}),s.jsx("th",{className:"text-right py-2 text-gray-900",children:"P.U."}),s.jsx("th",{className:"text-right py-2 text-gray-900",children:"Prix"})]})}),s.jsx("tbody",{children:e.items.map(l=>s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsxs("td",{className:"py-3 text-gray-800",children:[s.jsx("p",{className:"font-medium",children:l.name}),l.description&&s.jsx("p",{className:"text-sm text-gray-600",children:l.description}),l.sku&&s.jsx("p",{className:"text-sm text-gray-600",children:l.sku})]}),s.jsx("td",{className:"text-center py-3 text-gray-800",children:l.quantity}),s.jsxs("td",{className:"text-right py-3 text-gray-800",children:["",l.price.toFixed(2)]}),s.jsxs("td",{className:"text-right py-3 text-gray-800",children:["",(l.price*l.quantity).toFixed(2)]})]},l.id))}),s.jsxs("tfoot",{children:[s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"text-right py-2 font-medium text-gray-800",children:"Prix HT"}),s.jsxs("td",{className:"text-right py-2 text-gray-800",children:["",e.subtotal.toFixed(2)]})]}),s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"text-right py-2 font-medium text-gray-800",children:"TVA (20%)"}),s.jsxs("td",{className:"text-right py-2 text-gray-800",children:["",e.tax.toFixed(2)]})]}),s.jsxs("tr",{className:"border-t border-gray-300",children:[s.jsx("td",{colSpan:3,className:"text-right py-2 font-bold text-gray-900",children:"Total TTC"}),s.jsxs("td",{className:"text-right py-2 font-bold text-gray-900",children:["",e.total.toFixed(2)]})]})]})]}),(e.paymentMethod||e.paymentStatus||e.amountPaid!==void 0)&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Informations de paiement:"}),e.paymentMethod&&s.jsxs("p",{className:"text-gray-800",children:["Mthode: ",hv(e.paymentMethod)]}),e.paymentStatus&&s.jsxs("p",{className:"text-gray-800",children:["Statut: ",mv(e.paymentStatus)]}),e.amountPaid!==void 0&&e.amountPaid>0&&e.amountPaid<e.total&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-gray-800",children:["Montant pay: ",e.amountPaid.toFixed(2)]}),s.jsxs("p",{className:"text-gray-800 font-bold",children:["Solde restant: ",a.toFixed(2)]})]})]}),e.note&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Notes:"}),s.jsx("p",{className:"text-gray-800",children:e.note})]})]}),s.jsxs("div",{className:"flex-shrink-0 mt-auto",children:[s.jsx("div",{className:"flex justify-between items-end mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Conditions gnrales:"}),s.jsx("ol",{className:"list-decimal list-inside text-sm text-gray-600 pl-4",children:lv[e.type].map((l,i)=>s.jsx("li",{children:l},i))})]})}),s.jsxs("div",{className:t.styles.footer,children:[s.jsx("p",{children:"Votre satisfaction est notre priorit. Merci pour votre confiance!"}),s.jsxs("p",{children:["Pour toute question concernant ce ",Gs[e.type].toLowerCase(),", veuillez nous contacter  ladresse ",je.email]})]})]})]})}const Q=Yg.create({page:{padding:40,fontSize:12,fontFamily:"Helvetica"},header:{marginBottom:20,borderBottomWidth:1,paddingBottom:10,textAlign:"center"},companyName:{fontSize:16,fontWeight:"bold",marginBottom:4},section:{marginBottom:15},flexRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:5},tableHeader:{flexDirection:"row",borderBottomWidth:1,paddingBottom:5,marginBottom:5},tableRow:{flexDirection:"row",marginBottom:3},colDescription:{width:"60%"},colQty:{width:"15%",textAlign:"right"},colPrice:{width:"25%",textAlign:"right"},totalSection:{marginTop:15,borderTopWidth:1,paddingTop:10},bold:{fontWeight:"bold"},footer:{marginTop:30,borderTopWidth:1,paddingTop:10,fontSize:10,textAlign:"center"}}),yv=e=>{switch(e){case"not_paid":return"Non pay";case"partially_paid":return"Partiellement pay";case"fully_paid":case"Paid":case"paid":return"Pay";default:return e}},pv=e=>{switch(e){case"cash":return"Espces";case"card":return"Carte bancaire";case"transfer":return"Virement";case"digital":return"Chque";default:return e}};function Ug({data:e}){const t=()=>{switch(e.type){case"quote":return"DEVIS";case"invoice":return"FACTURE";case"ticket":return"TICKET DE RPARATION";default:return"REU"}};return s.jsx(Qg,{children:s.jsxs(Gg,{size:"A4",style:Q.page,children:[s.jsxs(de,{style:Q.header,children:[s.jsx(k,{style:Q.companyName,children:"O'MEGA SERVICES"}),s.jsx(k,{children:"400 Rue nationale, 69400 Villefranche S/S"}),s.jsx(k,{children:"Tel: 0986608980 | TVA: FR123456789"})]}),s.jsxs(de,{style:Q.section,children:[s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{style:Q.bold,children:t()}),s.jsxs(k,{children:["#",e.number]})]}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Date:"}),s.jsx(k,{children:new Date(e.date).toLocaleDateString()})]}),e.status&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Statut:"}),s.jsx(k,{children:e.status})]})]}),s.jsxs(de,{style:Q.section,children:[s.jsx(k,{style:Q.bold,children:e.type==="ticket"?"Informations client:":"Facturer :"}),e.customer?s.jsxs(s.Fragment,{children:[s.jsx(k,{children:e.customer.name}),e.customer.address&&s.jsx(k,{children:e.customer.address}),e.customer.phone&&s.jsxs(k,{children:["Tel: ",e.customer.phone]}),e.customer.email&&s.jsx(k,{children:e.customer.email}),e.customer.taxId&&s.jsxs(k,{children:["Tax ID: ",e.customer.taxId]})]}):s.jsx(k,{children:"Client walk-in"})]}),(e.type==="ticket"||e.type==="invoice"&&e.sourceType==="ticket")&&e.deviceType&&s.jsxs(de,{style:Q.section,children:[s.jsx(k,{style:Q.bold,children:"Caractristiques de l'appareil:"}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Type:"}),s.jsx(k,{children:e.deviceType})]}),e.brand&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Marque:"}),s.jsx(k,{children:e.brand})]}),e.model&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Modle:"}),s.jsx(k,{children:e.model})]}),e.imeiSerial&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"IMEI/Srie:"}),s.jsx(k,{children:e.imeiSerial})]})]}),s.jsxs(de,{style:Q.section,children:[s.jsxs(de,{style:Q.tableHeader,children:[s.jsx(k,{style:Q.colDescription,children:e.type==="ticket"?"Service":"Produit"}),s.jsx(k,{style:Q.colQty,children:"Qt"}),s.jsx(k,{style:Q.colPrice,children:"Prix"})]}),e.items.map((a,n)=>s.jsxs(de,{style:Q.tableRow,children:[s.jsx(k,{style:Q.colDescription,children:a.name}),s.jsx(k,{style:Q.colQty,children:a.quantity}),s.jsxs(k,{style:Q.colPrice,children:["",(a.price*a.quantity).toFixed(2)]})]},n))]}),s.jsxs(de,{style:Q.totalSection,children:[s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Prix HT:"}),s.jsxs(k,{children:["",e.subtotal.toFixed(2)]})]}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"TVA (20%):"}),s.jsxs(k,{children:["",e.tax.toFixed(2)]})]}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{style:Q.bold,children:"Total TTC:"}),s.jsxs(k,{style:Q.bold,children:["",e.total.toFixed(2)]})]})]}),(e.paymentMethod||e.paymentStatus||e.amountPaid!==void 0)&&s.jsxs(de,{style:Q.section,children:[s.jsx(k,{style:Q.bold,children:"Informations de paiement:"}),e.paymentMethod&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Mthode:"}),s.jsx(k,{children:pv(e.paymentMethod)})]}),e.paymentStatus&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Statut:"}),s.jsx(k,{children:yv(e.paymentStatus)})]}),e.amountPaid!==void 0&&e.amountPaid>0&&e.amountPaid<e.total&&s.jsxs(s.Fragment,{children:[s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{children:"Montant pay:"}),s.jsxs(k,{children:["",e.amountPaid.toFixed(2)]})]}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(k,{style:Q.bold,children:"Solde restant:"}),s.jsxs(k,{style:Q.bold,children:["",(e.total-e.amountPaid).toFixed(2)]})]})]})]}),e.note&&s.jsxs(de,{style:Q.section,children:[s.jsx(k,{style:Q.bold,children:"Notes:"}),s.jsx(k,{children:e.note})]}),s.jsxs(de,{style:Q.footer,children:[s.jsx(k,{children:"Votre satisfaction est notre priorit. Merci pour votre confiance !"}),s.jsxs(k,{children:["Pour toute question concernant ce ",Gs[e.type].toLowerCase(),", veuillez nous contacter  l'adresse ",je.email]}),s.jsx(k,{children:"O'MEGA SERVICES | 400 Rue nationale, 69400 Villefranche S/S | Tel: 0986608980"})]})]})})}const af=Object.freeze(Object.defineProperty({__proto__:null,default:Ug},Symbol.toStringTag,{value:"Module"}));function xv({data:e}){var l;const t=Qs.a4,a=Ht(new Date,"dd/MM/yyyy"),n=["Je reconnais avoir confi mon appareil  OMEGA SERVICES","J'ai t inform(e) que je dois sauvegarder mes donnes avant toute intervention","Le client reconnat avoir t inform que l'intervention peut entraner la perte de tout ou une partie de ses donnes et en accepte les consquences","J'accepte que le diagnostic puisse tre payant","Je reconnais que les dlais sont indicatifs","Je m'engage  rgler la totalit de la prestation avant rcupration de l'appareil","Je reconnais la garantie de 3 mois applicable uniquement sur les pices remplaces","Tout appareil non rcupr sous 30 jours pourra tre considr comme abandonn"];return s.jsxs("div",{className:`${t.styles.container} flex flex-col`,style:{width:t.width,maxWidth:"100%",minHeight:"100vh"},"data-format":"a4",children:[s.jsxs("div",{className:`${t.styles.header} flex justify-between flex-shrink-0`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-4",children:s.jsx("img",{src:Wr,alt:`${je.name} Logo`,className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-1 text-gray-900",children:je.name}),s.jsx("p",{className:"text-sm text-gray-600",children:je.address}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tel: ",je.phone]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",je.email]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["TVA: ",je.taxId]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h2",{className:"text-xl font-bold mb-1 text-gray-900",children:"CONTRAT D'ENGAGEMENT CLIENT"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["#",e.number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",a]})]})]}),s.jsxs("div",{className:"flex-grow py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Informations client:"}),e.customer?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-800",children:e.customer.name}),e.customer.address&&s.jsx("p",{className:"text-gray-800",children:e.customer.address}),e.customer.phone&&s.jsxs("p",{className:"text-gray-800",children:["Tel: ",e.customer.phone]}),e.customer.email&&s.jsx("p",{className:"text-gray-800",children:e.customer.email})]}):s.jsx("p",{className:"text-gray-800",children:"Client walk-in"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Appareil confi:"}),s.jsxs("table",{className:"w-full border-collapse border border-gray-300",style:{tableLayout:"fixed"},children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-bold text-gray-900",style:{width:"25%"},children:"Type"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-bold text-gray-900",style:{width:"25%"},children:"Marque"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-bold text-gray-900",style:{width:"25%"},children:"Modle"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-bold text-gray-900",style:{width:"25%"},children:"IMEI / Numro de Srie"})]})}),s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 px-3 pt-1 pb-2 text-sm text-gray-800",style:{verticalAlign:"text-top"},children:e.deviceType||"Non spcifi"}),s.jsx("td",{className:"border border-gray-300 px-3 pt-1 pb-2 text-sm text-gray-800",style:{verticalAlign:"text-top"},children:e.brand||"Non spcifie"}),s.jsx("td",{className:"border border-gray-300 px-3 pt-1 pb-2 text-sm text-gray-800",style:{verticalAlign:"text-top"},children:e.model||"Non spcifi"}),s.jsx("td",{className:"border border-gray-300 px-3 pt-1 pb-2 text-sm text-gray-800",style:{verticalAlign:"text-top"},children:e.imeiSerial||"Non fourni"})]})})]})]}),e.items&&e.items.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Prestations prvues:"}),s.jsx("table",{className:"w-full mb-4",children:s.jsx("tbody",{children:e.items.map((i,c)=>s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsxs("td",{className:"py-2 font-medium text-gray-800",children:[c+1,". ",i.name]}),s.jsx("td",{className:"py-2 text-gray-800",children:i.description||""})]},i.id))})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Estimation des cots:"}),s.jsxs("p",{className:"text-gray-800 font-bold",children:["Montant estim: ",e.total?`${e.total.toFixed(2)}`:" dterminer aprs diagnostic"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"* Le montant final pourra tre diffrent suite au diagnostic complet de l'appareil"})]})]}),s.jsxs("div",{className:"flex-shrink-0 mt-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Conditions de rparation:"}),s.jsx("div",{className:"space-y-2",children:n.map((i,c)=>s.jsxs("div",{className:"flex items-start",children:[s.jsxs("span",{className:"inline-block w-6 text-sm font-medium text-gray-800 flex-shrink-0",children:[c+1,"."]}),s.jsx("span",{className:"text-sm text-gray-600 leading-relaxed",children:i})]},c))})]}),s.jsxs("div",{className:"mb-6 border-t border-gray-300 pt-4",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900 text-center",children:"SIGNATURE DU CLIENT"}),s.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"En signant ce document, le client reconnat avoir lu et accept toutes les conditions ci-dessus."}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"w-1/2 pr-4",children:s.jsxs("div",{className:"border border-gray-300 p-4",children:[s.jsx("p",{className:"font-medium text-sm mb-2",children:"Signature du client:"}),s.jsx("div",{className:"border-b border-gray-400 h-8 mb-2"}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Nom: ",((l=e.customer)==null?void 0:l.name)||""]})]})}),s.jsx("div",{className:"w-1/2 pl-4",children:s.jsxs("div",{className:"border border-gray-300 p-4",children:[s.jsx("p",{className:"font-medium text-sm mb-2",children:"O'MEGA SERVICES:"}),s.jsx("div",{className:"border-b border-gray-400 h-8 mb-2"}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Date: ",a]})]})})]}),s.jsx("p",{className:"text-xs text-gray-600 text-center mt-4 italic",children:"Ce document fait office de contrat lgal entre le client et OMEGA SERVICES"})]}),s.jsx("div",{className:t.styles.footer,children:s.jsxs("p",{children:["OMEGA SERVICES - Tous droits rservs - Document gnr le ",a]})})]})]})}function bv({data:e,onClose:t,initialFormat:a="thermal"}){var g;const n=ka(d=>d.isDarkMode),[l,i]=D.useState(a),c=D.useRef(null),{handlePrint:o,handleEmail:r,handleDownload:u,handlePDFDownload:f,handleFormatToggle:p,isProcessing:h}=iv({data:e,documentRef:c,onFormatChange:i}),m=Qs[l],v=Gs[e.type],S=()=>{p(l)},M=()=>{const d={data:e};if(e.type==="engagement")return s.jsx(xv,{...d});switch(l){case"thermal":return s.jsx(tf,{...d});case"a4":return s.jsx(gv,{...d});case"pdf":return s.jsx(Ug,{...d});default:return s.jsx(tf,{...d})}};return s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:s.jsxs("div",{className:`relative ${n?"bg-gray-800":"bg-white"} rounded-lg shadow-xl overflow-y-auto`,style:{width:"280mm",maxWidth:"90vw",maxHeight:"90vh",minHeight:"600px"},children:[s.jsxs("div",{className:`flex justify-between items-center p-4 border-b sticky top-0 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} z-10`,children:[s.jsxs("div",{children:[s.jsxs("h2",{className:`text-lg font-semibold ${n?"text-white":"text-gray-900"}`,children:[m.name," - ",v]}),s.jsxs("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:["#",e.number,"  ",je.name]})]}),s.jsx("button",{onClick:t,className:`text-gray-400 hover:text-gray-500 ${n?"hover:text-gray-300":""}`,children:s.jsx(j0,{className:"h-5 w-5"})})]}),s.jsx("div",{className:`overflow-auto ${l==="thermal"?"flex justify-center p-8":"p-4"}`,ref:c,children:s.jsx("div",{className:l==="thermal"?"":m.styles.container,children:M()})}),s.jsxs("div",{className:`flex justify-between items-center gap-2 p-4 border-t sticky bottom-0 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[s.jsx(sv,{currentFormat:l,onToggle:S,disabled:h}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ov,{data:e,onDownload:f,disabled:h,isProcessing:h}),s.jsx(cv,{onDownload:u,disabled:h,isProcessing:h}),s.jsx(rv,{onEmail:r,disabled:h,hasEmail:!!((g=e.customer)!=null&&g.email)}),s.jsx(uv,{onPrint:o,disabled:h})]})]})]})})}const vv=D.memo(bv),hn=[{id:"cash",name:"Espces",icon:M0},{id:"card",name:"Carte bancaire",icon:O0},{id:"transfer",name:"Virement",icon:Ns},{id:"digital",name:"Chque",icon:df}];function Sv(){var uu;const e=ka(x=>x.isDarkMode),{products:t,categories:a,updateStock:n}=og(),{clients:l}=Yr(),{tickets:i}=bs(),{createSale:c}=Gd(),{createQuote:o}=Ex(),{showReceipt:r,currentInvoice:u,setShowReceipt:f,setCurrentInvoice:p,clearReceipt:h}=Tx(),[m,v]=D.useState([]),[S,M]=D.useState(null),[g,d]=D.useState(null),[y,b]=D.useState(""),[E,z]=D.useState(!1),[w,R]=D.useState(""),[T,C]=D.useState(hn[0].id),[q,ee]=D.useState(""),[ce,ze]=D.useState(!1),[Ye,A]=D.useState("thermal"),[_,U]=D.useState("pos"),[te,F]=D.useState(!1),[ae,Y]=D.useState({name:"",price:""}),[_e,Xe]=D.useState(""),[nt,Ha]=D.useState(""),[ra,Pr]=D.useState(""),[tl,eu]=D.useState("desc"),[ua,tu]=D.useState(""),[Qt,al]=D.useState([]),[au,nu]=D.useState(!1),[Ys,qg]=D.useState(!1),[Ot,Xs]=D.useState({min:"",max:""}),[zt,Zs]=D.useState({min:"",max:""}),[_t,Ks]=D.useState({from:"",to:""}),$s=t.filter(x=>{const O=ua?x.name.toLowerCase().includes(ua.toLowerCase())||x.description.toLowerCase().includes(ua.toLowerCase())||x.sku.toLowerCase().includes(ua.toLowerCase())||(x.category||"").toLowerCase().includes(ua.toLowerCase())||x.price.toString().includes(ua):!0,B=Qt.length===0||Qt.includes(x.category||""),X=(!Ot.min||x.price>=Number(Ot.min))&&(!Ot.max||x.price<=Number(Ot.max)),re=(!zt.min||x.stock>=Number(zt.min))&&(!zt.max||x.stock<=Number(zt.max)),dn=(!_t.from||new Date(x.createdAt)>=new Date(_t.from))&&(!_t.to||new Date(x.createdAt)<=new Date(_t.to));return O&&B&&X&&re&&dn}),kg=D.useRef(null);w0({count:$s.length,getScrollElement:()=>kg.current,estimateSize:()=>220,overscan:5});const lu=l.filter(x=>x.name.toLowerCase().includes(y.toLowerCase())||x.email.toLowerCase().includes(y.toLowerCase())||x.phone.toLowerCase().includes(y.toLowerCase())),iu=i.filter(x=>{const O=w?x.ticketNumber.toLowerCase().includes(w.toLowerCase()):!0,B=S?x.clientId===S:!0;return O&&B}),un=m.reduce((x,O)=>x+O.product.price*O.quantity,0),su=.2,nl=un*(su/(1+su)),oi=un-nl,cu=x=>{v(O=>O.find(X=>X.product.id===x.id)?O.map(X=>X.product.id===x.id?{...X,quantity:X.quantity+1}:X):[...O,{product:x,quantity:1}])},Hg=()=>{if(!ae.name.trim()||!ae.price.trim()){alert("Veuillez saisir un nom et un prix pour l'article personnalis.");return}const x=parseFloat(ae.price);if(isNaN(x)||x<=0){alert("Veuillez saisir un prix valide.");return}const O={id:`custom-${Date.now()}`,name:ae.name.trim(),price:x,sku:"",description:"Article personnalis",category:"Service/Article personnalis",stock:999,imageUrl:"",isCustom:!0};v(B=>[...B,{product:O,quantity:1}]),Y({name:"",price:""}),F(!1)},ou=(x,O)=>{O<=0?v(B=>B.filter(X=>X.product.id!==x)):v(B=>B.map(X=>X.product.id===x?{...X,quantity:O}:X))},ri=()=>{v([]),M(null),d(null),b(""),z(!1),R(""),C(hn[0].id),ee(""),ze(!1),A("thermal")},Lg=()=>{const x="INV",O=Ht(new Date,"yyMMdd"),B=Math.floor(1e3+Math.random()*9e3);return`${x}-${O}-${B}`},ru=async()=>{var il,du;if(m.length===0)return;const x=Lg(),O=S?l.find(ve=>ve.id===S):void 0;if(S&&!O){alert("Erreur: Client slectionn introuvable. Veuillez ressayer.");return}const B={invoiceNumber:x,date:new Date().toISOString(),customer:O?{name:O.name,email:O.email,address:O.address,phone:O.phone,taxId:""}:void 0,items:m.map(ve=>({id:ve.product.id,name:ve.product.name,sku:ve.product.sku,quantity:ve.quantity,price:ve.product.price})),subtotal:oi,tax:nl,total:un,paymentMethod:((il=hn.find(ve=>ve.id===T))==null?void 0:il.name)||T,paymentStatus:"Paid",note:q||void 0},re=(q??"")||"",dn={invoiceNumber:x,items:m.map(ve=>({productId:ve.product.id,quantity:ve.quantity,name:ve.product.name,sku:ve.product.sku,price:ve.product.price})),subtotal:oi,tax:nl,total:un,customer:O?{id:O.id,name:O.name,...O.email&&{email:O.email},...O.phone&&{phone:O.phone},...O.address&&{address:O.address}}:void 0,paymentMethod:((du=hn.find(ve=>ve.id===T))==null?void 0:du.name)||T,paymentStatus:"Paid",date:new Date().toISOString()};if(typeof re=="string"&&re.trim().length>0&&(dn.note=re.trim()),!await c(dn)){alert("Erreur: Impossible de crer la vente. Veuillez ressayer.");return}try{for(const ve of m)await n(ve.product.id,-ve.quantity)}catch(ve){console.error("Error updating stock:",ve),alert("Vente cre avec succs, mais erreur lors de la mise  jour du stock. Veuillez vrifier manuellement.")}p(B),f(!0),localStorage.setItem("pos_showReceipt","true"),localStorage.setItem("pos_currentInvoice",JSON.stringify(B))},Bg=async()=>{var X;if(m.length===0)return;const x=S?l.find(re=>re.id===S):void 0;if(S&&!x){alert("Erreur: Client slectionn introuvable. Veuillez ressayer.");return}if(!S&&!ce){alert('Pour crer un devis, veuillez slectionner un client ou cocher "Vente rapide".');return}const O={items:m.map(re=>({productId:re.product.id,quantity:re.quantity,name:re.product.name,sku:re.product.sku,price:re.product.price,description:re.product.description||void 0})),subtotal:oi,tax:nl,total:un,customer:x?{id:x.id,name:x.name,...x.email&&{email:x.email},...x.phone&&{phone:x.phone},...x.address&&{address:x.address}}:void 0,paymentMethod:((X=hn.find(re=>re.id===T))==null?void 0:X.name)||T};q&&q.trim().length>0&&(O.notes=q.trim()),console.log("Creating quote with data:",O);const B=await o(O);if(console.log("Quote creation result:",B),!B){alert("Erreur: Impossible de crer le devis. Veuillez ressayer.");return}alert(`Devis cr avec succs! Numro: ${B}`),ri()},{sales:ll,fetchSales:Js}=Gd();D.useEffect(()=>{Js()},[Js]);const Fs=D.useMemo(()=>{let x=ll.filter(O=>{var Is;const B=_e?O.invoiceNumber.toLowerCase().includes(_e.toLowerCase())||(((Is=O.customer)==null?void 0:Is.name)||"").toLowerCase().includes(_e.toLowerCase())||(O.note||"").toLowerCase().includes(_e.toLowerCase())||O.paymentMethod.toLowerCase().includes(_e.toLowerCase())||O.items.some(il=>il.name.toLowerCase().includes(_e.toLowerCase())||(il.sku||"").toLowerCase().includes(_e.toLowerCase())):!0,X=new Date(O.date),re=nt?X>=new Date(nt):!0,dn=ra?X<=new Date(ra+"T23:59:59"):!0;return B&&re&&dn});return x.sort((O,B)=>{const X=new Date(O.date).getTime(),re=new Date(B.date).getTime();return tl==="desc"?re-X:X-re}),x},[ll,_e,nt,ra,tl]),Vg=()=>{Xe(""),Ha(""),Pr(""),eu("desc")};return D.useEffect(()=>{const x=O=>{if(!(_!=="pos"||O.target instanceof HTMLInputElement||O.target instanceof HTMLTextAreaElement))switch(O.key.toLowerCase()){case"f1":O.preventDefault(),C("cash");break;case"f2":O.preventDefault(),C("card");break;case"f3":O.preventDefault(),C("transfer");break;case"f4":O.preventDefault(),C("digital");break;case"f5":O.preventDefault(),A("thermal");break;case"f6":O.preventDefault(),A("a4");break;case"f7":O.preventDefault(),ze(!ce);break;case"f8":O.preventDefault(),F(!0);break;case"f9":O.preventDefault(),m.length>0&&(ce||S)&&ru();break;case"f10":O.preventDefault(),ri();break;case"escape":O.preventDefault(),U("sales");break}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[_,m.length,ce,S,T,Ye]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:`text-2xl font-semibold ${e?"text-white":"text-gray-900"}`,children:"Caisse"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"} hidden sm:block`,children:"Raccourcis: F1-F4 (Paiement) | F5-F6 (Reu) | F7 (Vente Rapide) | F8 (Article Pers.) | F9 (Finaliser) | F10 (Vider)"}),s.jsx("button",{onClick:()=>U(_==="pos"?"sales":"pos"),className:`px-3 py-2 rounded-md text-sm font-medium ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_==="pos"?" Ventes":" PDV"})]})]}),r&&u&&s.jsx(vv,{data:Sx(u),onClose:()=>{h(),localStorage.removeItem("pos_showReceipt"),localStorage.removeItem("pos_currentInvoice"),ri()},initialFormat:Ye}),te&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>F(!1)}),s.jsxs("div",{className:`relative w-full max-w-md rounded-lg shadow-xl ${e?"bg-gray-800":"bg-white"} p-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:`text-lg font-semibold ${e?"text-white":"text-gray-900"}`,children:" Ajouter un article personnalis"}),s.jsx("button",{onClick:()=>F(!1),className:`p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 ${e?"text-gray-400":"text-gray-600"}`,children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Nom de l'article *"}),s.jsx("input",{type:"text",value:ae.name,onChange:x=>Y({...ae,name:x.target.value}),placeholder:"Ex: Service de rparation, Consultation...",className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Prix () *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:ae.price,onChange:x=>Y({...ae,price:x.target.value}),placeholder:"0.00",className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`,required:!0})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{F(!1),Y({name:"",price:""})},className:`px-4 py-2 border rounded-md text-sm font-medium ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Annuler"}),s.jsx("button",{type:"button",onClick:Hg,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm font-medium",children:"Ajouter au panier"})]})]})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>U("pos"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="pos"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Systme PDV"}),s.jsx("button",{onClick:()=>U("sales"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="sales"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Toutes les ventes"})]})}),_==="sales"?s.jsxs("div",{className:`rounded-lg ${e?"bg-gray-800":"bg-white"} shadow p-6`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:`text-xl font-semibold ${e?"text-white":"text-gray-900"}`,children:["Toutes les ventes (",Fs.length,")"]}),s.jsx("button",{onClick:()=>Js(),className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Actualiser"})]}),s.jsxs("div",{className:"mb-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${e?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx(yu,{className:"h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher par facture, client, produit, mode de paiement...",value:_e,onChange:x=>Xe(x.target.value),className:`flex-1 bg-transparent border-0 focus:ring-0 ${e?"text-white placeholder-gray-400":"text-gray-900 placeholder-gray-500"}`})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>eu(tl==="desc"?"asc":"desc"),className:`flex items-center gap-2 px-3 py-2 rounded-md border ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[tl==="desc"?s.jsx(T0,{className:"h-4 w-4"}):s.jsx(A0,{className:"h-4 w-4"}),"Date ",tl==="desc"?"Plus rcent":"Plus ancien"]}),s.jsx("button",{onClick:Vg,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",children:"Effacer les filtres"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pu,{className:"h-4 w-4 text-gray-400"}),s.jsx("label",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:"De:"}),s.jsx("input",{type:"date",value:nt,onChange:x=>Ha(x.target.value),className:`px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pu,{className:"h-4 w-4 text-gray-400"}),s.jsx("label",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:":"}),s.jsx("input",{type:"date",value:ra,onChange:x=>Pr(x.target.value),className:`px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]})]})]}),Fs.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-500"}`,children:ll.length===0?"Aucune vente trouve.":"Aucune vente ne correspond  vos filtres."})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:`min-w-full divide-y ${e?"divide-gray-700":"divide-gray-200"}`,children:[s.jsx("thead",{className:e?"bg-gray-700":"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Facture"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Date"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Client"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Articles"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Statut"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Total"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Actions"})]})}),s.jsx("tbody",{className:`divide-y ${e?"bg-gray-800 divide-gray-700":"bg-white divide-gray-200"}`,children:Fs.map(x=>{var O;return s.jsxs("tr",{className:e?"hover:bg-gray-700":"hover:bg-gray-50",children:[s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:x.invoiceNumber}),s.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-gray-300":"text-gray-500"}`,children:[Ht(new Date(x.date),"MMM dd, yyyy"),s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:Ht(new Date(x.date),"HH:mm")})]}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-gray-300":"text-gray-500"}`,children:((O=x.customer)==null?void 0:O.name)||"Client sans rendez-vous"}),s.jsx("td",{className:`px-6 py-4 text-sm ${e?"text-gray-300":"text-gray-500"}`,children:s.jsxs("div",{className:"max-w-xs truncate",children:[x.items.length," article(s)",x.items.length>0&&s.jsxs("div",{className:"text-xs mt-1",children:[x.items.slice(0,2).map((B,X)=>s.jsxs("span",{children:[B.name,X<x.items.slice(0,2).length-1?", ":""]},X)),x.items.length>2&&"..."]})]})}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-gray-300":"text-gray-500"}`,children:x.paymentStatus==="Paid"?"Pay":x.paymentStatus||"Non pay"}),s.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:["",x.total.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>{p({invoiceNumber:x.invoiceNumber,date:x.date,customer:x.customer,items:x.items.map(B=>({id:B.productId,name:B.name,sku:B.sku,quantity:B.quantity,price:B.price})),subtotal:x.subtotal,tax:x.tax,total:x.total,paymentMethod:x.paymentMethod,paymentStatus:x.paymentStatus,note:x.note,type:"receipt"}),f(!0)},className:"bg-indigo-600 text-white px-3 py-1 rounded text-sm hover:bg-indigo-700 transition-colors",children:"Facture"})})]},x.id)})})]})})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:`rounded-lg ${e?"bg-gray-800":"bg-white"} shadow p-6`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 flex items-center gap-4 bg-white dark:bg-gray-700 p-4 rounded-lg shadow-inner",children:[s.jsx(yu,{className:"h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher des produits...",value:ua,onChange:x=>tu(x.target.value),className:"flex-1 bg-transparent border-0 focus:ring-0 text-gray-900 dark:text-white placeholder-gray-400"})]}),(Qt.length>0||Ot.min||Ot.max||zt.min||zt.max||_t.from||_t.to||ua)&&s.jsx("button",{type:"button",onClick:()=>{al([]),Xs({min:"",max:""}),Zs({min:"",max:""}),Ks({from:"",to:""}),tu("")},className:"px-3 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 whitespace-nowrap",children:"Effacer les filtres"})]}),s.jsxs("div",{className:"relative min-w-[200px]",children:[s.jsxs("button",{type:"button",onClick:()=>nu(!au),className:`w-full flex items-center justify-between rounded-lg border shadow-sm px-3 py-2 text-left text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:border-indigo-500 focus:ring-indigo-500`,children:[s.jsx("span",{className:"block truncate",children:Qt.length===0?"Toutes les catgories":`${Qt.length} cat. slectionne${Qt.length>1?"s":""}`}),s.jsx(Gc,{className:"h-4 w-4 text-gray-400 ml-2"})]}),au&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>nu(!1)}),s.jsx("div",{className:`absolute z-20 mt-1 w-full rounded-md shadow-lg border ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:s.jsxs("div",{className:"p-2 max-h-60 overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between px-2 py-1 border-b border-gray-200 dark:border-gray-600 mb-2",children:[s.jsx("span",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:"Catgories"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>al(a),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Tout"}),s.jsx("button",{type:"button",onClick:()=>al([]),className:"text-xs text-gray-500 hover:text-gray-700",children:"Effacer"})]})]}),a.map(x=>s.jsxs("label",{className:`flex items-center px-2 py-2 rounded-md cursor-pointer ${e?"hover:bg-gray-700":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"checkbox",checked:Qt.includes(x),onChange:O=>{O.target.checked?al([...Qt,x]):al(Qt.filter(B=>B!==x))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),s.jsx("span",{className:`ml-2 text-sm ${e?"text-gray-300":"text-gray-700"}`,children:x})]},x))]})})]})]})]}),s.jsx("div",{className:"flex items-center justify-between border-t pt-4 border-gray-200 dark:border-gray-700",children:s.jsxs("button",{type:"button",onClick:()=>qg(!Ys),className:`flex items-center gap-2 text-sm font-medium ${e?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"}`,children:[s.jsx(Gc,{className:`h-4 w-4 transition-transform ${Ys?"rotate-180":""}`}),"Filtres avancs"]})}),Ys&&s.jsx("div",{className:`border-t pt-4 ${e?"border-gray-700":"border-gray-200"}`,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Prix ()"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Min",value:Ot.min,onChange:x=>Xs({...Ot,min:x.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),s.jsx("input",{type:"number",placeholder:"Max",value:Ot.max,onChange:x=>Xs({...Ot,max:x.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Stock"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Min",value:zt.min,onChange:x=>Zs({...zt,min:x.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),s.jsx("input",{type:"number",placeholder:"Max",value:zt.max,onChange:x=>Zs({...zt,max:x.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Date de cration"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:_t.from,onChange:x=>Ks({..._t,from:x.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),s.jsx("input",{type:"date",value:_t.to,onChange:x=>Ks({..._t,to:x.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]})]})}),ll.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:`text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:" Produits populaires"}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:(()=>{const x=new Map;return ll.forEach(B=>{B.items.forEach(X=>{const re=x.get(X.productId)||{count:0,name:X.name,price:X.price};x.set(X.productId,{...re,count:re.count+X.quantity})})}),Array.from(x.entries()).sort(([,B],[,X])=>X.count-B.count).slice(0,8).map(([B,X])=>({id:B,...X,product:t.find(re=>re.id===B)})).filter(B=>B.product).map(B=>s.jsxs("button",{onClick:()=>cu(B.product),disabled:B.product.stock<=0,className:`flex-shrink-0 px-3 py-2 rounded-lg border text-left transition-colors ${B.product.stock<=0?"bg-gray-100 text-gray-400 cursor-not-allowed":e?"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx("div",{className:"text-sm font-medium truncate max-w-24",children:B.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["",B.price.toFixed(2)]})]},B.id))})()})]}),s.jsx("div",{className:"min-h-[600px] max-h-[800px] overflow-y-auto",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:$s.map(x=>s.jsxs("div",{className:`border rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow ${e?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"} ${x.stock<=0?"opacity-60":""}`,children:[s.jsxs("div",{className:"h-40 bg-gray-50 dark:bg-gray-700 flex items-center justify-center relative",children:[s.jsx("img",{src:x.imageUrl,alt:x.name,className:"h-full w-full object-contain p-4",loading:"lazy"}),x.stock<=0&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-sm",children:"RUPTURE DE STOCK"})}),x.stock>0&&x.stock<=5&&s.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"STOCK CRITIQUE"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:`font-semibold text-sm leading-tight mb-2 line-clamp-2 ${e?"text-white":"text-gray-900"}`,children:x.name}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:`text-lg font-bold ${e?"text-white":"text-gray-900"}`,children:["",x.price.toFixed(2)]}),s.jsx("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:x.category||"Sans catgorie"})]}),s.jsx("button",{onClick:()=>cu(x),disabled:x.stock<=0,className:`p-3 rounded-full transition-colors ${x.stock<=0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md hover:shadow-lg"}`,title:x.stock<=0?"Produit indisponible":"Ajouter au panier",children:s.jsx(Ps,{className:"h-5 w-5"})})]}),s.jsx("div",{className:`text-xs font-medium ${x.stock<=0?"text-red-600":x.stock<=5?"text-red-500":x.stock<=10?"text-yellow-600":"text-green-600"}`,children:x.stock<=0?" Indisponible":x.stock<=5?` ${x.stock} en stock`:x.stock<=10?` ${x.stock} en stock`:` ${x.stock} en stock`}),x.stock>0&&x.stock<=10&&s.jsx("div",{className:"mt-2 text-xs text-orange-600 font-medium",children:" Stock faible - rapprovisionner bientt"})]})]},x.id))})}),$s.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-500"}`,children:"Aucun produit trouv. Essayez une recherche ou une catgorie diffrente."})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`rounded-lg ${e?"bg-gray-800":"bg-white"} shadow p-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:`text-lg font-semibold ${e?"text-white":"text-gray-900"}`,children:[s.jsx(of,{className:"h-5 w-5 inline mr-2"}),"Panier"]}),s.jsx("button",{onClick:ri,className:"text-gray-400 hover:text-gray-500",disabled:m.length===0,children:s.jsx(E0,{className:"h-5 w-5"})})]}),m.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-500"}`,children:"Votre panier est vide"})}):s.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto mb-4",children:m.map(x=>s.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:x.product.name}),s.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:["",x.product.price.toFixed(2)," x ",x.quantity]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>ou(x.product.id,x.quantity-1),className:"p-1 rounded-full hover:bg-gray-100",children:s.jsx(D0,{className:"h-4 w-4"})}),s.jsx("span",{className:e?"text-white":"text-gray-900",children:x.quantity}),s.jsx("button",{onClick:()=>ou(x.product.id,x.quantity+1),className:"p-1 rounded-full hover:bg-gray-100",disabled:x.quantity>=x.product.stock,children:s.jsx(Ps,{className:"h-4 w-4"})})]})]},x.product.id))}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:"Sous-total"}),s.jsxs("span",{className:e?"text-white":"text-gray-900",children:["",oi.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:"TVA (20%)"}),s.jsxs("span",{className:e?"text-white":"text-gray-900",children:["",nl.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{className:e?"text-white":"text-gray-900",children:"Total"}),s.jsxs("span",{className:e?"text-white":"text-gray-900",children:["",un.toFixed(2)]})]})]})]}),s.jsxs("div",{className:`rounded-lg ${e?"bg-gray-800":"bg-white"} shadow p-6`,children:[s.jsx("h2",{className:`text-lg font-semibold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Paiement"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"quickSale",checked:ce,onChange:x=>{ze(x.target.checked),x.target.checked&&(M(null),b(""))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"quickSale",className:`ml-2 block text-sm ${e?"text-gray-300":"text-gray-700"}`,children:"Vente rapide (sans info client)"})]}),!ce&&s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"} mb-1`,children:"Client"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:S&&((uu=l.find(x=>x.id===S))==null?void 0:uu.name)||y,onChange:x=>{b(x.target.value),z(!0),S&&M(null)},onFocus:()=>{z(!0)},onBlur:()=>{setTimeout(()=>z(!1),200)},placeholder:"Rechercher un client...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),E&&lu.length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto",children:lu.map(x=>s.jsxs("div",{className:`px-4 py-2 hover:bg-gray-100 cursor-pointer ${S===x.id?"bg-indigo-50 border-l-4 border-indigo-500":""}`,onClick:()=>{M(x.id),b(""),z(!1)},children:[s.jsx("div",{className:"font-medium",children:x.name}),s.jsx("div",{className:"text-sm text-gray-500",children:x.phone}),S===x.id&&s.jsx("div",{className:"text-xs text-indigo-600 font-medium",children:"Slectionn"})]},x.id))})]})]}),S&&s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"} mb-1`,children:"Lier  un ticket de rparation (optionnel)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:w,onChange:x=>{R(x.target.value),d(null)},placeholder:"Rechercher un ticket...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),w&&!g&&iu.length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto",children:iu.map(x=>s.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{d(x.id),R(x.ticketNumber)},children:[s.jsxs("div",{className:"font-medium",children:["#",x.ticketNumber]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[x.deviceType," - ",x.brand]})]},x.id))})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Format du reu"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>A("thermal"),className:`flex flex-col items-center justify-center gap-2 p-3 rounded-md ${Ye==="thermal"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(ff,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm",children:"Reu thermique"})]}),s.jsxs("button",{type:"button",onClick:()=>A("a4"),className:`flex flex-col items-center justify-center gap-2 p-3 rounded-md ${Ye==="a4"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Ns,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm",children:"Facture A4"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"} mb-1`,children:"Mode de paiement"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:hn.map(x=>s.jsxs("button",{type:"button",onClick:()=>C(x.id),className:`flex items-center justify-center gap-2 p-3 rounded-md ${T===x.id?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(x.icon,{className:"h-5 w-5"}),x.name]},x.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"} mb-1`,children:"Note (Optional)"}),s.jsx("textarea",{value:q,onChange:x=>ee(x.target.value),rows:2,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Ajouter une note  cette vente..."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Bg,disabled:m.length===0||!ce&&!S,className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:" Crer devis"}),s.jsxs("button",{onClick:ru,disabled:m.length===0||!ce&&!S,className:"flex-1 bg-indigo-600 text-white px-4 py-3 rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(C0,{className:"h-5 w-5"}),"Finaliser la vente"]})]})]})]})]})]}),s.jsxs("button",{onClick:()=>F(!0),className:"fixed bottom-6 right-6 bg-green-600 text-white p-4 rounded-full shadow-lg hover:bg-green-700 hover:shadow-xl transition-all duration-200 z-40 group",title:"Ajouter un article personnalis",children:[s.jsx(Ps,{className:"h-6 w-6"}),s.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Article personnalis"})]})]})}const Nv=D.lazy(()=>be(()=>import("./Dashboard-DFTq6Pyf.js"),__vite__mapDeps([3,0,1,2,4,5,6,7]))),jv=D.lazy(()=>be(()=>import("./Clients-DAfUQ766.js"),__vite__mapDeps([8,0,1,2,4,5,7]))),wv=D.lazy(()=>be(()=>import("./SimpleTickets-C4PPd5p1.js"),__vite__mapDeps([9,0,1,2,4,5,7]))),Tv=D.lazy(()=>be(()=>import("./Products-DGY0j6Qr.js"),__vite__mapDeps([10,0,1,2,4,5,7]))),Av=D.lazy(()=>be(()=>import("./Quotes-DQUed70B.js"),__vite__mapDeps([11,0,1,2,4,5,7]))),Ev=D.lazy(()=>be(()=>import("./Settings-BoT7MEF8.js"),__vite__mapDeps([12,0,1,2,4,5,7]))),Dv=D.lazy(()=>be(()=>import("./Login-bfQm_G3m.js"),__vite__mapDeps([13,0,1,2,14,4,5,7])));D.lazy(()=>be(()=>import("./Register-JjNZNMVb.js"),__vite__mapDeps([15,0,1,2,4,5,7])));const Cv=D.lazy(()=>be(()=>import("./ForgotPassword-ChSVafiJ.js"),__vite__mapDeps([16,0,1,2,4,5,7]))),Mv=D.lazy(()=>be(()=>import("./Profile-DaTmV135.js"),__vite__mapDeps([17,0,1,2,4,5,7]))),Ov=D.lazy(()=>be(()=>import("./UserManagement-Dmalr_Gz.js"),__vite__mapDeps([18,0,1,2,4,5,7]))),zv=D.lazy(()=>be(()=>import("./CustomerLogin-BrUjAeFl.js"),__vite__mapDeps([19,0,1,2,14,4,5,7]))),_v=D.lazy(()=>be(()=>import("./CustomerRegister-XGeXgRlb.js"),__vite__mapDeps([20,0,1,2,4,5,7]))),Rv=D.lazy(()=>be(()=>import("./CustomerForgotPassword-BbBQ0t8V.js"),__vite__mapDeps([21,0,1,2,4,5,7]))),Uv=D.lazy(()=>be(()=>import("./CustomerDashboard-DWksSNYm.js"),__vite__mapDeps([22,0,1,2,4,5,7]))),qv=D.lazy(()=>be(()=>import("./CustomerProfile-DiPj9-sD.js"),__vite__mapDeps([23,0,1,2,4,5,7]))),kv=D.lazy(()=>be(()=>import("./NotificationHistory-B7jknZvE.js"),__vite__mapDeps([24,0,1,2,4,5,7])));function Hv(){const{user:e,userRole:t,loading:a,setUser:n,setUserRole:l,setLoading:i,setInitialized:c}=Kn(),{setUser:o}=rg(),{fetchClients:r}=Yr(),{fetchTickets:u,fetchSettings:f,fetchTechnicianTickets:p}=bs(),{fetchProducts:h,fetchCategories:m}=og();D.useEffect(()=>{const S=sf(),M=o0(S,async g=>{if(i(!0),g){n(g);const d=await ng(g.uid);l(d),d===me.CUSTOMER&&o(g),d===me.SUPER_ADMIN?(r(),u(),f(),h(),m()):d===me.CUSTOMER||(f(),g.uid&&p(g.uid))}else n(null),l(null),o(null);i(!1),c(!0)});return()=>M()},[]);const v=({children:S,requiredRole:M=null,allowedRoles:g=null})=>a?s.jsx(Vc,{}):e?t===me.CUSTOMER?s.jsx(Rt,{to:"/customer",replace:!0}):M&&t!==M?s.jsx(ef,{}):g&&t&&!g.includes(t)?s.jsx(ef,{}):s.jsx(s.Fragment,{children:S}):s.jsx(Rt,{to:"/login"});return a?s.jsx(Vc,{}):s.jsx(Zg,{future:{v7_relativeSplatPath:!0,v7_startTransition:!0},children:s.jsx(D.Suspense,{fallback:s.jsx(Vc,{}),children:s.jsxs(Kg,{children:[s.jsx(Ae,{path:"/login",element:e?s.jsx(Rt,{to:"/"}):s.jsx(Dv,{})}),s.jsx(Ae,{path:"/register",element:s.jsx(Rt,{to:"/login",state:{message:"L'inscription du personnel ncessite une approbation de l'administrateur. Si vous tes un client, vous pouvez vous inscrire sur notre portail client.",customerLink:!0}})}),s.jsx(Ae,{path:"/forgot-password",element:e?s.jsx(Rt,{to:"/"}):s.jsx(Cv,{})}),s.jsxs(Ae,{path:"/",element:s.jsx(v,{allowedRoles:[me.SUPER_ADMIN,me.TECHNICIAN],children:s.jsx(Mx,{})}),children:[s.jsx(Ae,{index:!0,element:s.jsx(Nv,{})}),s.jsx(Ae,{path:"clients",element:s.jsx(v,{requiredRole:me.SUPER_ADMIN,children:s.jsx(jv,{})})}),s.jsx(Ae,{path:"tickets",element:s.jsx(v,{allowedRoles:[me.SUPER_ADMIN,me.TECHNICIAN],children:s.jsx(wv,{})})}),s.jsx(Ae,{path:"pos",element:s.jsx(v,{requiredRole:me.SUPER_ADMIN,children:s.jsx(Sv,{})})}),s.jsx(Ae,{path:"pos/quotes",element:s.jsx(v,{requiredRole:me.SUPER_ADMIN,children:s.jsx(Av,{})})}),s.jsx(Ae,{path:"pos/products",element:s.jsx(v,{requiredRole:me.SUPER_ADMIN,children:s.jsx(Tv,{})})}),s.jsx(Ae,{path:"profile",element:s.jsx(v,{children:s.jsx(Mv,{})})}),s.jsx(Ae,{path:"settings",element:s.jsx(v,{requiredRole:me.SUPER_ADMIN,children:s.jsx(Ev,{})})}),s.jsx(Ae,{path:"user-management",element:s.jsx(v,{requiredRole:me.SUPER_ADMIN,children:s.jsx(Ov,{})})})]}),s.jsxs(Ae,{path:"/customer",element:s.jsx(nv,{}),children:[s.jsx(Ae,{index:!0,element:s.jsx(Uv,{})}),s.jsx(Ae,{path:"profile",element:s.jsx(qv,{})}),s.jsx(Ae,{path:"notifications",element:s.jsx(kv,{})})]}),s.jsx(Ae,{path:"/customer/login",element:e&&t===me.CUSTOMER?s.jsx(Rt,{to:"/customer"}):s.jsx(zv,{})}),s.jsx(Ae,{path:"/customer/register",element:e&&t===me.CUSTOMER?s.jsx(Rt,{to:"/customer"}):s.jsx(_v,{})}),s.jsx(Ae,{path:"/customer/forgot-password",element:e&&t===me.CUSTOMER?s.jsx(Rt,{to:"/customer"}):s.jsx(Rv,{})})]})})})}sx.createRoot(document.getElementById("root")).render(s.jsx(D.StrictMode,{children:s.jsx(Hv,{})}));export{Xv as A,me as R,vv as U,be as _,bs as a,Yr as b,og as c,Kn as d,Gd as e,Jv as f,vx as g,Zv as h,$v as i,yx as j,Ex as k,Kv as l,dx as m,fx as n,j as o,mx as p,hx as q,ux as r,gx as s,px as t,ka as u,rg as v,bx as w,ng as x,xx as y,Vo as z};
