const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-pdf-renderer-Bmei4UPz.js","assets/vendor-react-DSd34EeT.js","assets/vendor-firebase-BtFjE0-F.js","assets/Dashboard-B50KM358.js","assets/vendor-ui-Cgar-0cM.js","assets/vendor-utils-Bnff-AKO.js","assets/vendor-charts-IFI8gCU-.js","assets/vendor-pdf-utils-CBrSDip1.js","assets/Clients-BzrlVIQu.js","assets/SimpleTickets-gHg32LGr.js","assets/Products-CK_v_fJr.js","assets/Quotes-Bar0Pslk.js","assets/Settings-pBcJ9D1C.js","assets/Login-B41J6J-J.js","assets/authHelpers-iijGcnLX.js","assets/Register-D3NJk74u.js","assets/ForgotPassword-CaGZpS39.js","assets/Profile-CGHO31LO.js","assets/UserManagement-CaC2y3oy.js","assets/CustomerLogin-JBPIqSKu.js","assets/CustomerRegister-D3yKY4K-.js","assets/CustomerDashboard-Cqet7Chc.js","assets/CustomerProfile-83vzC6xZ.js","assets/NotificationHistory-Cxl3oVSS.js"])))=>i.map(i=>d[i]);
import{j as s,D as Ug,P as qg,V as de,T as q,S as Hg}from"./vendor-pdf-renderer-Bmei4UPz.js";import{r as D,a as kg,N as ou,L as Wd,d as Zt,O as Pd,B as Lg,f as Bg,h as Oe}from"./vendor-react-DSd34EeT.js";import{i as Vg,g as Qg,a as ef,b as Gg,c as Bo,u as vs,s as Et,d as V,e as Rl,f as Jn,h as Yg,j as Xg,k as Zg,q as be,l as B,w as ve,m as ae,n as Kg,o as At,p as pt,r as Le,t as Ot,v as Vc,x as Vi,y as Qi,C as Gi,z as Vo,E as tf,F as $g,A as Qo,B as Jg,D as Fg,G as Ig,H as Go,I as Wg,J as Is,K as Pg,L as e0,M as ru,N as uu,O as t0}from"./vendor-firebase-BtFjE0-F.js";import{c as Ht,f as Pt}from"./vendor-utils-Bnff-AKO.js";import{W as a0,C as l0,a as n0,b as i0,d as Qc,L as s0,U as c0,P as o0,S as af,e as r0,f as u0,g as d0,M as f0,q as sn,h as lf,i as nf,j as du,B as cn,k as m0,F as Ss,R as sf,D as h0,l as g0,m as cf,X as y0,u as p0,n as fu,A as x0,o as b0,p as mu,r as Ws,T as v0,s as S0,t as j0,v as N0,w as w0}from"./vendor-ui-Cgar-0cM.js";import ui from"./vendor-pdf-utils-CBrSDip1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var of={exports:{}},js={},rf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,_){var U=A.length;A.push(_);e:for(;0<U;){var ee=U-1>>>1,F=A[ee];if(0<n(F,_))A[ee]=_,A[U]=F,U=ee;else break e}}function a(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var _=A[0],U=A.pop();if(U!==_){A[0]=U;e:for(var ee=0,F=A.length,te=F>>>1;ee<te;){var Y=2*(ee+1)-1,ze=A[Y],Xe=Y+1,tt=A[Xe];if(0>n(ze,U))Xe<F&&0>n(tt,ze)?(A[ee]=tt,A[Xe]=U,ee=Xe):(A[ee]=ze,A[Y]=U,ee=Y);else if(Xe<F&&0>n(tt,U))A[ee]=tt,A[Xe]=U,ee=Xe;else break e}}return _}function n(A,_){var U=A.sortIndex-_.sortIndex;return U!==0?U:A.id-_.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,o=c.now();e.unstable_now=function(){return c.now()-o}}var r=[],u=[],f=1,x=null,m=3,h=!1,v=!1,j=!1,M=!1,g=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(A){for(var _=a(u);_!==null;){if(_.callback===null)l(u);else if(_.startTime<=A)l(u),_.sortIndex=_.expirationTime,t(r,_);else break;_=a(u)}}function E(A){if(j=!1,b(A),!v)if(a(r)!==null)v=!0,z||(z=!0,P());else{var _=a(u);_!==null&&Ye(E,_.startTime-A)}}var z=!1,N=-1,R=5,w=-1;function O(){return M?!0:!(e.unstable_now()-w<R)}function H(){if(M=!1,z){var A=e.unstable_now();w=A;var _=!0;try{e:{v=!1,j&&(j=!1,d(N),N=-1),h=!0;var U=m;try{t:{for(b(A),x=a(r);x!==null&&!(x.expirationTime>A&&O());){var ee=x.callback;if(typeof ee=="function"){x.callback=null,m=x.priorityLevel;var F=ee(x.expirationTime<=A);if(A=e.unstable_now(),typeof F=="function"){x.callback=F,b(A),_=!0;break t}x===a(r)&&l(r),b(A)}else l(r);x=a(r)}if(x!==null)_=!0;else{var te=a(u);te!==null&&Ye(E,te.startTime-A),_=!1}}break e}finally{x=null,m=U,h=!1}_=void 0}}finally{_?P():z=!1}}}var P;if(typeof y=="function")P=function(){y(H)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Me=ce.port2;ce.port1.onmessage=H,P=function(){Me.postMessage(null)}}else P=function(){g(H,0)};function Ye(A,_){N=g(function(){A(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var U=m;m=_;try{return A()}finally{m=U}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(A,_){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=m;m=A;try{return _()}finally{m=U}},e.unstable_scheduleCallback=function(A,_,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,A={id:f++,callback:_,priorityLevel:A,startTime:U,expirationTime:F,sortIndex:-1},U>ee?(A.sortIndex=U,t(u,A),a(r)===null&&A===a(u)&&(j?(d(N),N=-1):j=!0,Ye(E,U-ee))):(A.sortIndex=F,t(r,A),v||h||(v=!0,z||(z=!0,P()))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var _=m;return function(){var U=m;m=_;try{return A.apply(this,arguments)}finally{m=U}}}})(uf);rf.exports=uf;var T0=rf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=T0,df=D,A0=kg;function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fn(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function mf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hf(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hu(e){if(Fn(e)!==e)throw Error(S(188))}function E0(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(S(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return hu(n),e;if(i===l)return hu(n),t;i=i.sibling}throw Error(S(188))}if(a.return!==l.return)a=n,l=i;else{for(var c=!1,o=n.child;o;){if(o===a){c=!0,a=n,l=i;break}if(o===l){c=!0,l=n,a=i;break}o=o.sibling}if(!c){for(o=i.child;o;){if(o===a){c=!0,a=i,l=n;break}if(o===l){c=!0,l=i,a=n;break}o=o.sibling}if(!c)throw Error(S(189))}}if(a.alternate!==l)throw Error(S(190))}if(a.tag!==3)throw Error(S(188));return a.stateNode.current===a?e:t}function gf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=gf(e),t!==null)return t;e=e.sibling}return null}var he=Object.assign,D0=Symbol.for("react.element"),di=Symbol.for("react.transitional.element"),gn=Symbol.for("react.portal"),gl=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),Gc=Symbol.for("react.profiler"),pf=Symbol.for("react.consumer"),Ft=Symbol.for("react.context"),Yo=Symbol.for("react.forward_ref"),Yc=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),Xo=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),Zc=Symbol.for("react.activity"),C0=Symbol.for("react.memo_cache_sentinel"),gu=Symbol.iterator;function on(e){return e===null||typeof e!="object"?null:(e=gu&&e[gu]||e["@@iterator"],typeof e=="function"?e:null)}var M0=Symbol.for("react.client.reference");function Kc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gl:return"Fragment";case Gc:return"Profiler";case yf:return"StrictMode";case Yc:return"Suspense";case Xc:return"SuspenseList";case Zc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case gn:return"Portal";case Ft:return e.displayName||"Context";case pf:return(e._context.displayName||"Context")+".Consumer";case Yo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xo:return t=e.displayName||null,t!==null?t:Kc(e.type)||"Memo";case da:t=e._payload,e=e._init;try{return Kc(e(t))}catch{}}return null}var yn=Array.isArray,L=df.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=A0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xa={pending:!1,data:null,method:null,action:null},$c=[],yl=-1;function kt(e){return{current:e}}function He(e){0>yl||(e.current=$c[yl],$c[yl]=null,yl--)}function ue(e,t){yl++,$c[yl]=e.current,e.current=t}var qt=kt(null),_n=kt(null),ja=kt(null),Yi=kt(null);function Xi(e,t){switch(ue(ja,t),ue(_n,e),ue(qt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sd(t),e=Hh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}He(qt),ue(qt,e)}function Ul(){He(qt),He(_n),He(ja)}function Jc(e){e.memoizedState!==null&&ue(Yi,e);var t=qt.current,a=Hh(t,e.type);t!==a&&(ue(_n,e),ue(qt,a))}function Zi(e){_n.current===e&&(He(qt),He(_n)),Yi.current===e&&(He(Yi),Yn._currentValue=Xa)}var Ps,yu;function Ba(e){if(Ps===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ps=t&&t[1]||"",yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+e+yu}var ec=!1;function tc(e,t){if(!e||ec)return"";ec=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(h){var m=h}Reflect.construct(e,[],x)}else{try{x.call()}catch(h){m=h}e.call(x.prototype)}}else{try{throw Error()}catch(h){m=h}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),c=i[0],o=i[1];if(c&&o){var r=c.split(`
`),u=o.split(`
`);for(n=l=0;l<r.length&&!r[l].includes("DetermineComponentFrameRoot");)l++;for(;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;if(l===r.length||n===u.length)for(l=r.length-1,n=u.length-1;1<=l&&0<=n&&r[l]!==u[n];)n--;for(;1<=l&&0<=n;l--,n--)if(r[l]!==u[n]){if(l!==1||n!==1)do if(l--,n--,0>n||r[l]!==u[n]){var f=`
`+r[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=l&&0<=n);break}}}finally{ec=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ba(a):""}function z0(e,t){switch(e.tag){case 26:case 27:case 5:return Ba(e.type);case 16:return Ba("Lazy");case 13:return e.child!==t&&t!==null?Ba("Suspense Fallback"):Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 15:return tc(e.type,!1);case 11:return tc(e.type.render,!1);case 1:return tc(e.type,!0);case 31:return Ba("Activity");default:return""}}function pu(e){try{var t="",a=null;do t+=z0(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fc=Object.prototype.hasOwnProperty,Zo=Re.unstable_scheduleCallback,ac=Re.unstable_cancelCallback,O0=Re.unstable_shouldYield,_0=Re.unstable_requestPaint,st=Re.unstable_now,R0=Re.unstable_getCurrentPriorityLevel,xf=Re.unstable_ImmediatePriority,bf=Re.unstable_UserBlockingPriority,Ki=Re.unstable_NormalPriority,U0=Re.unstable_LowPriority,vf=Re.unstable_IdlePriority,q0=Re.log,H0=Re.unstable_setDisableYieldValue,In=null,ct=null;function pa(e){if(typeof q0=="function"&&H0(e),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(In,e)}catch{}}var ot=Math.clz32?Math.clz32:B0,k0=Math.log,L0=Math.LN2;function B0(e){return e>>>=0,e===0?32:31-(k0(e)/L0|0)|0}var fi=256,mi=262144,hi=4194304;function Va(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ns(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var o=l&134217727;return o!==0?(l=o&~i,l!==0?n=Va(l):(c&=o,c!==0?n=Va(c):a||(a=o&~e,a!==0&&(n=Va(a))))):(o=l&~i,o!==0?n=Va(o):c!==0?n=Va(c):a||(a=l&~e,a!==0&&(n=Va(a)))),n===0?0:t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function Wn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function V0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sf(){var e=hi;return hi<<=1,!(hi&62914560)&&(hi=4194304),e}function lc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Q0(e,t,a,l,n,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,r=e.expirationTimes,u=e.hiddenUpdates;for(a=c&~a;0<a;){var f=31-ot(a),x=1<<f;o[f]=0,r[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var h=m[f];h!==null&&(h.lane&=-536870913)}a&=~x}l!==0&&jf(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function jf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ot(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Nf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ot(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function wf(e,t){var a=t&-t;return a=a&42?1:Ko(a),a&(e.suspendedLanes|t)?0:a}function Ko(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $o(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Tf(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:$h(e.type))}function xu(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var Ua=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ua,Pe="__reactProps$"+Ua,Kl="__reactContainer$"+Ua,Ic="__reactEvents$"+Ua,G0="__reactListeners$"+Ua,Y0="__reactHandles$"+Ua,bu="__reactResources$"+Ua,ei="__reactMarker$"+Ua;function Jo(e){delete e[Be],delete e[Pe],delete e[Ic],delete e[G0],delete e[Y0]}function pl(e){var t=e[Be];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Kl]||a[Be]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ad(e);e!==null;){if(a=e[Be])return a;e=Ad(e)}return t}e=a,a=e.parentNode}return null}function $l(e){if(e=e[Be]||e[Kl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function El(e){var t=e[bu];return t||(t=e[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[ei]=!0}var Af=new Set,Ef={};function ll(e,t){ql(e,t),ql(e+"Capture",t)}function ql(e,t){for(Ef[e]=t,e=0;e<t.length;e++)Af.add(t[e])}var X0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},Su={};function Z0(e){return Fc.call(Su,e)?!0:Fc.call(vu,e)?!1:X0.test(e)?Su[e]=!0:(vu[e]=!0,!1)}function Ai(e,t,a){if(Z0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function gi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Vt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Df(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function K0(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wc(e){if(!e._valueTracker){var t=Df(e)?"checked":"value";e._valueTracker=K0(e,t,""+e[t])}}function Cf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Df(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $0=/[\n"\\]/g;function xt(e){return e.replace($0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Pc(e,t,a,l,n,i,c,o){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?eo(e,c,ht(t)):a!=null?eo(e,c,ht(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+ht(o):e.removeAttribute("name")}function Mf(e,t,a,l,n,i,c,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Wc(e);return}a=a!=null?""+ht(a):"",t=t!=null?""+ht(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=o?e.checked:!!l,e.defaultChecked=!!l,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),Wc(e)}function eo(e,t,a){t==="number"&&$i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Dl(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ht(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function zf(e,t,a){if(t!=null&&(t=""+ht(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ht(a):""}function Of(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(S(92));if(yn(l)){if(1<l.length)throw Error(S(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=ht(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Wc(e)}function Hl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var J0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||J0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function _f(e,t,a){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&ju(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&ju(e,i,t[i])}function Fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),I0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ei(e){return I0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var to=null;function Io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,Cl=null;function Nu(e){var t=$l(e);if(t&&(e=t.stateNode)){var a=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(Pc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[Pe]||null;if(!n)throw Error(S(90));Pc(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Cf(l)}break e;case"textarea":zf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Dl(e,!!a.multiple,t,!1)}}}var nc=!1;function Rf(e,t,a){if(nc)return e(t,a);nc=!0;try{var l=e(t);return l}finally{if(nc=!1,(xl!==null||Cl!==null)&&(Us(),xl&&(t=xl,e=Cl,Cl=xl=null,Nu(t),e)))for(t=0;t<e.length;t++)Nu(e[t])}}function Rn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(S(231,t,typeof a));return a}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=!1;if(la)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){ao=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{ao=!1}var xa=null,Wo=null,Di=null;function Uf(){if(Di)return Di;var e,t=Wo,a=t.length,l,n="value"in xa?xa.value:xa.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var c=a-e;for(l=1;l<=c&&t[a-l]===n[i-l];l++);return Di=n.slice(e,1<l?1-l:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function wu(){return!1}function et(e){function t(a,l,n,i,c){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yi:wu,this.isPropagationStopped=wu,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=et(nl),ti=he({},nl,{view:0,detail:0}),W0=et(ti),ic,sc,un,Ts=he({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&e.type==="mousemove"?(ic=e.screenX-un.screenX,sc=e.screenY-un.screenY):sc=ic=0,un=e),ic)},movementY:function(e){return"movementY"in e?e.movementY:sc}}),Tu=et(Ts),P0=he({},Ts,{dataTransfer:0}),ey=et(P0),ty=he({},ti,{relatedTarget:0}),cc=et(ty),ay=he({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),ly=et(ay),ny=he({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iy=et(ny),sy=he({},nl,{data:0}),Au=et(sy),cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ry[e])?!!t[e]:!1}function Po(){return uy}var dy=he({},ti,{key:function(e){if(e.key){var t=cy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fy=et(dy),my=he({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=et(my),hy=he({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),gy=et(hy),yy=he({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),py=et(yy),xy=he({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),by=et(xy),vy=he({},nl,{newState:0,oldState:0}),Sy=et(vy),jy=[9,13,27,32],er=la&&"CompositionEvent"in window,vn=null;la&&"documentMode"in document&&(vn=document.documentMode);var Ny=la&&"TextEvent"in window&&!vn,qf=la&&(!er||vn&&8<vn&&11>=vn),Du=" ",Cu=!1;function Hf(e,t){switch(e){case"keyup":return jy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function wy(e,t){switch(e){case"compositionend":return kf(t);case"keypress":return t.which!==32?null:(Cu=!0,Du);case"textInput":return e=t.data,e===Du&&Cu?null:e;default:return null}}function Ty(e,t){if(bl)return e==="compositionend"||!er&&Hf(e,t)?(e=Uf(),Di=Wo=xa=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qf&&t.locale!=="ko"?null:t.data;default:return null}}var Ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ay[e.type]:t==="textarea"}function Lf(e,t,a,l){xl?Cl?Cl.push(l):Cl=[l]:xl=l,t=fs(t,"onChange"),0<t.length&&(a=new ws("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Sn=null,Un=null;function Ey(e){Rh(e,0)}function As(e){var t=pn(e);if(Cf(t))return e}function zu(e,t){if(e==="change")return t}var Bf=!1;if(la){var oc;if(la){var rc="oninput"in document;if(!rc){var Ou=document.createElement("div");Ou.setAttribute("oninput","return;"),rc=typeof Ou.oninput=="function"}oc=rc}else oc=!1;Bf=oc&&(!document.documentMode||9<document.documentMode)}function _u(){Sn&&(Sn.detachEvent("onpropertychange",Vf),Un=Sn=null)}function Vf(e){if(e.propertyName==="value"&&As(Un)){var t=[];Lf(t,Un,e,Io(e)),Rf(Ey,t)}}function Dy(e,t,a){e==="focusin"?(_u(),Sn=t,Un=a,Sn.attachEvent("onpropertychange",Vf)):e==="focusout"&&_u()}function Cy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(Un)}function My(e,t){if(e==="click")return As(t)}function zy(e,t){if(e==="input"||e==="change")return As(t)}function Oy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:Oy;function qn(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Fc.call(t,n)||!ut(e[n],t[n]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var a=Ru(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ru(a)}}function Qf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$i(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=$i(e.document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _y=la&&"documentMode"in document&&11>=document.documentMode,vl=null,lo=null,jn=null,no=!1;function qu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;no||vl==null||vl!==$i(l)||(l=vl,"selectionStart"in l&&tr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jn&&qn(jn,l)||(jn=l,l=fs(lo,"onSelect"),0<l.length&&(t=new ws("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=vl)))}function La(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Sl={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},uc={},Yf={};la&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function il(e){if(uc[e])return uc[e];if(!Sl[e])return e;var t=Sl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Yf)return uc[e]=t[a];return e}var Xf=il("animationend"),Zf=il("animationiteration"),Kf=il("animationstart"),Ry=il("transitionrun"),Uy=il("transitionstart"),qy=il("transitioncancel"),$f=il("transitionend"),Jf=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function Dt(e,t){Jf.set(e,t),ll(t,[e])}var Ji=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mt=[],jl=0,ar=0;function Es(){for(var e=jl,t=ar=jl=0;t<e;){var a=mt[t];mt[t++]=null;var l=mt[t];mt[t++]=null;var n=mt[t];mt[t++]=null;var i=mt[t];if(mt[t++]=null,l!==null&&n!==null){var c=l.pending;c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n}i!==0&&Ff(a,n,i)}}function Ds(e,t,a,l){mt[jl++]=e,mt[jl++]=t,mt[jl++]=a,mt[jl++]=l,ar|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lr(e,t,a,l){return Ds(e,t,a,l),Fi(e)}function sl(e,t){return Ds(e,null,null,t),Fi(e)}function Ff(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-ot(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function Fi(e){if(50<zn)throw zn=0,Eo=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Nl={};function Hy(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,a,l){return new Hy(e,t,a,l)}function nr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ea(e,t){var a=e.alternate;return a===null?(a=nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function If(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mi(e,t,a,l,n,i){var c=0;if(l=e,typeof e=="function")nr(e)&&(c=1);else if(typeof e=="string")c=Qp(e,a,qt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Zc:return e=nt(31,a,t,n),e.elementType=Zc,e.lanes=i,e;case gl:return Za(a.children,n,i,t);case yf:c=8,n|=24;break;case Gc:return e=nt(12,a,t,n|2),e.elementType=Gc,e.lanes=i,e;case Yc:return e=nt(13,a,t,n),e.elementType=Yc,e.lanes=i,e;case Xc:return e=nt(19,a,t,n),e.elementType=Xc,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ft:c=10;break e;case pf:c=9;break e;case Yo:c=11;break e;case Xo:c=14;break e;case da:c=16,l=null;break e}c=29,a=Error(S(130,e===null?"null":typeof e,"")),l=null}return t=nt(c,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function Za(e,t,a,l){return e=nt(7,e,l,t),e.lanes=a,e}function dc(e,t,a){return e=nt(6,e,null,t),e.lanes=a,e}function Wf(e){var t=nt(18,null,null,0);return t.stateNode=e,t}function fc(e,t,a){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hu=new WeakMap;function bt(e,t){if(typeof e=="object"&&e!==null){var a=Hu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:pu(t)},Hu.set(e,t),t)}return{value:e,source:t,stack:pu(t)}}var wl=[],Tl=0,Ii=null,Hn=0,gt=[],yt=0,za=null,_t=1,Rt="";function $t(e,t){wl[Tl++]=Hn,wl[Tl++]=Ii,Ii=e,Hn=t}function Pf(e,t,a){gt[yt++]=_t,gt[yt++]=Rt,gt[yt++]=za,za=e;var l=_t;e=Rt;var n=32-ot(l)-1;l&=~(1<<n),a+=1;var i=32-ot(t)+n;if(30<i){var c=n-n%5;i=(l&(1<<c)-1).toString(32),l>>=c,n-=c,_t=1<<32-ot(t)+n|a<<n|l,Rt=i+e}else _t=1<<i|a<<n|l,Rt=e}function ir(e){e.return!==null&&($t(e,1),Pf(e,1,0))}function sr(e){for(;e===Ii;)Ii=wl[--Tl],wl[Tl]=null,Hn=wl[--Tl],wl[Tl]=null;for(;e===za;)za=gt[--yt],gt[yt]=null,Rt=gt[--yt],gt[yt]=null,_t=gt[--yt],gt[yt]=null}function em(e,t){gt[yt++]=_t,gt[yt++]=Rt,gt[yt++]=za,_t=t.id,Rt=t.overflow,za=e}var Ve=null,me=null,J=!1,Na=null,vt=!1,so=Error(S(519));function Oa(e){var t=Error(S(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kn(bt(t,e)),so}function ku(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Be]=e,t[Pe]=l,a){case"dialog":Z("cancel",t),Z("close",t);break;case"iframe":case"object":case"embed":Z("load",t);break;case"video":case"audio":for(a=0;a<Qn.length;a++)Z(Qn[a],t);break;case"source":Z("error",t);break;case"img":case"image":case"link":Z("error",t),Z("load",t);break;case"details":Z("toggle",t);break;case"input":Z("invalid",t),Mf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Z("invalid",t);break;case"textarea":Z("invalid",t),Of(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||qh(t.textContent,a)?(l.popover!=null&&(Z("beforetoggle",t),Z("toggle",t)),l.onScroll!=null&&Z("scroll",t),l.onScrollEnd!=null&&Z("scrollend",t),l.onClick!=null&&(t.onclick=It),t=!0):t=!1,t||Oa(e,!0)}function Lu(e){for(Ve=e.return;Ve;)switch(Ve.tag){case 5:case 31:case 13:vt=!1;return;case 27:case 3:vt=!0;return;default:Ve=Ve.return}}function ul(e){if(e!==Ve)return!1;if(!J)return Lu(e),J=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Oo(e.type,e.memoizedProps)),a=!a),a&&me&&Oa(e),Lu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));me=Td(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));me=Td(e)}else t===27?(t=me,qa(e.type)?(e=qo,qo=null,me=e):me=t):me=Ve?jt(e.stateNode.nextSibling):null;return!0}function Fa(){me=Ve=null,J=!1}function mc(){var e=Na;return e!==null&&(Ie===null?Ie=e:Ie.push.apply(Ie,e),Na=null),e}function kn(e){Na===null?Na=[e]:Na.push(e)}var co=kt(null),cl=null,Wt=null;function ma(e,t,a){ue(co,t._currentValue),t._currentValue=a}function ta(e){e._currentValue=co.current,He(co)}function oo(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function ro(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=n;for(var r=0;r<t.length;r++)if(o.context===t[r]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),oo(i.return,a,e),l||(c=null);break e}i=o.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(S(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),oo(c,a,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function Jl(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if(n.flags&524288)i=!0;else if(n.flags&262144)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(S(387));if(c=c.memoizedProps,c!==null){var o=n.type;ut(n.pendingProps.value,c.value)||(e!==null?e.push(o):e=[o])}}else if(n===Yi.current){if(c=n.alternate,c===null)throw Error(S(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Yn):e=[Yn])}n=n.return}e!==null&&ro(t,e,a,l),t.flags|=262144}function Wi(e){for(e=e.firstContext;e!==null;){if(!ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){cl=e,Wt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return tm(cl,e)}function pi(e,t){return cl===null&&Ia(e),tm(e,t)}function tm(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Wt===null){if(e===null)throw Error(S(308));Wt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wt=Wt.next=t;return a}var ky=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ly=Re.unstable_scheduleCallback,By=Re.unstable_NormalPriority,De={$$typeof:Ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cr(){return{controller:new ky,data:new Map,refCount:0}}function ai(e){e.refCount--,e.refCount===0&&Ly(By,function(){e.controller.abort()})}var Nn=null,uo=0,kl=0,Ml=null;function Vy(e,t){if(Nn===null){var a=Nn=[];uo=0,kl=Or(),Ml={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uo++,t.then(Bu,Bu),t}function Bu(){if(--uo===0&&Nn!==null){Ml!==null&&(Ml.status="fulfilled");var e=Nn;Nn=null,kl=0,Ml=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qy(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var Vu=L.S;L.S=function(e,t){gh=st(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Vy(e,t),Vu!==null&&Vu(e,t)};var Ka=kt(null);function or(){var e=Ka.current;return e!==null?e:oe.pooledCache}function zi(e,t){t===null?ue(Ka,Ka.current):ue(Ka,t.pool)}function am(){var e=or();return e===null?null:{parent:De._currentValue,pool:e}}var Fl=Error(S(460)),rr=Error(S(474)),Cs=Error(S(542)),Pi={then:function(){}};function Qu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lm(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(It,It),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yu(e),e;default:if(typeof t.status=="string")t.then(It,It);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yu(e),e}throw $a=t,Fl}}function Qa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($a=a,Fl):a}}var $a=null;function Gu(){if($a===null)throw Error(S(459));var e=$a;return $a=null,e}function Yu(e){if(e===Fl||e===Cs)throw Error(S(483))}var zl=null,Ln=0;function xi(e){var t=Ln;return Ln+=1,zl===null&&(zl=[]),lm(zl,e,t)}function dn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bi(e,t){throw t.$$typeof===D0?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nm(e){function t(g,d){if(e){var y=g.deletions;y===null?(g.deletions=[d],g.flags|=16):y.push(d)}}function a(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function l(g){for(var d=new Map;g!==null;)g.key!==null?d.set(g.key,g):d.set(g.index,g),g=g.sibling;return d}function n(g,d){return g=ea(g,d),g.index=0,g.sibling=null,g}function i(g,d,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<d?(g.flags|=67108866,d):y):(g.flags|=67108866,d)):(g.flags|=1048576,d)}function c(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function o(g,d,y,b){return d===null||d.tag!==6?(d=dc(y,g.mode,b),d.return=g,d):(d=n(d,y),d.return=g,d)}function r(g,d,y,b){var E=y.type;return E===gl?f(g,d,y.props.children,b,y.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===da&&Qa(E)===d.type)?(d=n(d,y.props),dn(d,y),d.return=g,d):(d=Mi(y.type,y.key,y.props,null,g.mode,b),dn(d,y),d.return=g,d)}function u(g,d,y,b){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=fc(y,g.mode,b),d.return=g,d):(d=n(d,y.children||[]),d.return=g,d)}function f(g,d,y,b,E){return d===null||d.tag!==7?(d=Za(y,g.mode,b,E),d.return=g,d):(d=n(d,y),d.return=g,d)}function x(g,d,y){if(typeof d=="string"&&d!==""||typeof d=="number"||typeof d=="bigint")return d=dc(""+d,g.mode,y),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case di:return y=Mi(d.type,d.key,d.props,null,g.mode,y),dn(y,d),y.return=g,y;case gn:return d=fc(d,g.mode,y),d.return=g,d;case da:return d=Qa(d),x(g,d,y)}if(yn(d)||on(d))return d=Za(d,g.mode,y,null),d.return=g,d;if(typeof d.then=="function")return x(g,xi(d),y);if(d.$$typeof===Ft)return x(g,pi(g,d),y);bi(g,d)}return null}function m(g,d,y,b){var E=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return E!==null?null:o(g,d,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case di:return y.key===E?r(g,d,y,b):null;case gn:return y.key===E?u(g,d,y,b):null;case da:return y=Qa(y),m(g,d,y,b)}if(yn(y)||on(y))return E!==null?null:f(g,d,y,b,null);if(typeof y.then=="function")return m(g,d,xi(y),b);if(y.$$typeof===Ft)return m(g,d,pi(g,y),b);bi(g,y)}return null}function h(g,d,y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(y)||null,o(d,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case di:return g=g.get(b.key===null?y:b.key)||null,r(d,g,b,E);case gn:return g=g.get(b.key===null?y:b.key)||null,u(d,g,b,E);case da:return b=Qa(b),h(g,d,y,b,E)}if(yn(b)||on(b))return g=g.get(y)||null,f(d,g,b,E,null);if(typeof b.then=="function")return h(g,d,y,xi(b),E);if(b.$$typeof===Ft)return h(g,d,y,pi(d,b),E);bi(d,b)}return null}function v(g,d,y,b){for(var E=null,z=null,N=d,R=d=0,w=null;N!==null&&R<y.length;R++){N.index>R?(w=N,N=null):w=N.sibling;var O=m(g,N,y[R],b);if(O===null){N===null&&(N=w);break}e&&N&&O.alternate===null&&t(g,N),d=i(O,d,R),z===null?E=O:z.sibling=O,z=O,N=w}if(R===y.length)return a(g,N),J&&$t(g,R),E;if(N===null){for(;R<y.length;R++)N=x(g,y[R],b),N!==null&&(d=i(N,d,R),z===null?E=N:z.sibling=N,z=N);return J&&$t(g,R),E}for(N=l(N);R<y.length;R++)w=h(N,g,R,y[R],b),w!==null&&(e&&w.alternate!==null&&N.delete(w.key===null?R:w.key),d=i(w,d,R),z===null?E=w:z.sibling=w,z=w);return e&&N.forEach(function(H){return t(g,H)}),J&&$t(g,R),E}function j(g,d,y,b){if(y==null)throw Error(S(151));for(var E=null,z=null,N=d,R=d=0,w=null,O=y.next();N!==null&&!O.done;R++,O=y.next()){N.index>R?(w=N,N=null):w=N.sibling;var H=m(g,N,O.value,b);if(H===null){N===null&&(N=w);break}e&&N&&H.alternate===null&&t(g,N),d=i(H,d,R),z===null?E=H:z.sibling=H,z=H,N=w}if(O.done)return a(g,N),J&&$t(g,R),E;if(N===null){for(;!O.done;R++,O=y.next())O=x(g,O.value,b),O!==null&&(d=i(O,d,R),z===null?E=O:z.sibling=O,z=O);return J&&$t(g,R),E}for(N=l(N);!O.done;R++,O=y.next())O=h(N,g,R,O.value,b),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?R:O.key),d=i(O,d,R),z===null?E=O:z.sibling=O,z=O);return e&&N.forEach(function(P){return t(g,P)}),J&&$t(g,R),E}function M(g,d,y,b){if(typeof y=="object"&&y!==null&&y.type===gl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case di:e:{for(var E=y.key;d!==null;){if(d.key===E){if(E=y.type,E===gl){if(d.tag===7){a(g,d.sibling),b=n(d,y.props.children),b.return=g,g=b;break e}}else if(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===da&&Qa(E)===d.type){a(g,d.sibling),b=n(d,y.props),dn(b,y),b.return=g,g=b;break e}a(g,d);break}else t(g,d);d=d.sibling}y.type===gl?(b=Za(y.props.children,g.mode,b,y.key),b.return=g,g=b):(b=Mi(y.type,y.key,y.props,null,g.mode,b),dn(b,y),b.return=g,g=b)}return c(g);case gn:e:{for(E=y.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){a(g,d.sibling),b=n(d,y.children||[]),b.return=g,g=b;break e}else{a(g,d);break}else t(g,d);d=d.sibling}b=fc(y,g.mode,b),b.return=g,g=b}return c(g);case da:return y=Qa(y),M(g,d,y,b)}if(yn(y))return v(g,d,y,b);if(on(y)){if(E=on(y),typeof E!="function")throw Error(S(150));return y=E.call(y),j(g,d,y,b)}if(typeof y.then=="function")return M(g,d,xi(y),b);if(y.$$typeof===Ft)return M(g,d,pi(g,y),b);bi(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,d!==null&&d.tag===6?(a(g,d.sibling),b=n(d,y),b.return=g,g=b):(a(g,d),b=dc(y,g.mode,b),b.return=g,g=b),c(g)):a(g,d)}return function(g,d,y,b){try{Ln=0;var E=M(g,d,y,b);return zl=null,E}catch(N){if(N===Fl||N===Cs)throw N;var z=nt(29,N,null,g.mode);return z.lanes=b,z.return=g,z}finally{}}}var Wa=nm(!0),im=nm(!1),fa=!1;function ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,I&2){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Fi(e),Ff(e,null,a),t}return Ds(e,l,t,a),Fi(e)}function wn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Nf(e,a)}}function hc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var mo=!1;function Tn(){if(mo){var e=Ml;if(e!==null)throw e}}function An(e,t,a,l){mo=!1;var n=e.updateQueue;fa=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var r=o,u=r.next;r.next=null,c===null?i=u:c.next=u,c=r;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==c&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=r))}if(i!==null){var x=n.baseState;c=0,f=u=r=null,o=i;do{var m=o.lane&-536870913,h=m!==o.lane;if(h?($&m)===m:(l&m)===m){m!==0&&m===kl&&(mo=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var v=e,j=o;m=t;var M=a;switch(j.tag){case 1:if(v=j.payload,typeof v=="function"){x=v.call(M,x,m);break e}x=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=j.payload,m=typeof v=="function"?v.call(M,x,m):v,m==null)break e;x=he({},x,m);break e;case 2:fa=!0}}m=o.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=n.callbacks,h===null?n.callbacks=[m]:h.push(m))}else h={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=h,r=x):f=f.next=h,c|=m;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;h=o,o=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);f===null&&(r=x),n.baseState=r,n.firstBaseUpdate=u,n.lastBaseUpdate=f,i===null&&(n.shared.lanes=0),Ra|=c,e.lanes=c,e.memoizedState=x}}function sm(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function cm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)sm(a[e],t)}var Ll=kt(null),es=kt(0);function Xu(e,t){e=ca,ue(es,e),ue(Ll,t),ca=e|t.baseLanes}function ho(){ue(es,ca),ue(Ll,Ll.current)}function dr(){ca=es.current,He(Ll),He(es)}var dt=kt(null),St=null;function ha(e){var t=e.alternate;ue(we,we.current&1),ue(dt,e),St===null&&(t===null||Ll.current!==null||t.memoizedState!==null)&&(St=e)}function go(e){ue(we,we.current),ue(dt,e),St===null&&(St=e)}function om(e){e.tag===22?(ue(we,we.current),ue(dt,e),St===null&&(St=e)):ga()}function ga(){ue(we,we.current),ue(dt,dt.current)}function lt(e){He(dt),St===e&&(St=null),He(we)}var we=kt(0);function ts(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ro(a)||Uo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=0,G=null,se=null,Ae=null,as=!1,Ol=!1,Pa=!1,ls=0,Bn=0,_l=null,Gy=0;function xe(){throw Error(S(321))}function fr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ut(e[a],t[a]))return!1;return!0}function mr(e,t,a,l,n,i){return na=i,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Lm:wr,Pa=!1,i=a(l,n),Pa=!1,Ol&&(i=um(t,a,l,n)),rm(e),i}function rm(e){L.H=Vn;var t=se!==null&&se.next!==null;if(na=0,Ae=se=G=null,as=!1,Bn=0,_l=null,t)throw Error(S(300));e===null||Ce||(e=e.dependencies,e!==null&&Wi(e)&&(Ce=!0))}function um(e,t,a,l){G=e;var n=0;do{if(Ol&&(_l=null),Bn=0,Ol=!1,25<=n)throw Error(S(301));if(n+=1,Ae=se=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}L.H=Bm,i=t(a,l)}while(Ol);return i}function Yy(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?li(t):t,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(G.flags|=1024),t}function hr(){var e=ls!==0;return ls=0,e}function gr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function yr(e){if(as){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}as=!1}na=0,Ae=se=G=null,Ol=!1,Bn=ls=0,_l=null}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?G.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Te(){if(se===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=Ae===null?G.memoizedState:Ae.next;if(t!==null)Ae=t,se=e;else{if(e===null)throw G.alternate===null?Error(S(467)):Error(S(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Ae===null?G.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ms(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function li(e){var t=Bn;return Bn+=1,_l===null&&(_l=[]),e=lm(_l,e,t),t=G,(Ae===null?t.memoizedState:Ae.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Lm:wr),e}function zs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return li(e);if(e.$$typeof===Ft)return Qe(e)}throw Error(S(438,String(e)))}function pr(e){var t=null,a=G.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=G.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ms(),G.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=C0;return t.index++,a}function ia(e,t){return typeof t=="function"?t(e):t}function Oi(e){var t=Te();return xr(t,se,e)}function xr(e,t,a){var l=e.queue;if(l===null)throw Error(S(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var o=c=null,r=null,u=t,f=!1;do{var x=u.lane&-536870913;if(x!==u.lane?($&x)===x:(na&x)===x){var m=u.revertLane;if(m===0)r!==null&&(r=r.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),x===kl&&(f=!0);else if((na&m)===m){u=u.next,m===kl&&(f=!0);continue}else x={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},r===null?(o=r=x,c=i):r=r.next=x,G.lanes|=m,Ra|=m;x=u.action,Pa&&a(i,x),i=u.hasEagerState?u.eagerState:a(i,x)}else m={lane:x,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},r===null?(o=r=m,c=i):r=r.next=m,G.lanes|=x,Ra|=x;u=u.next}while(u!==null&&u!==t);if(r===null?c=i:r.next=o,!ut(i,e.memoizedState)&&(Ce=!0,f&&(a=Ml,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=r,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gc(e){var t=Te(),a=t.queue;if(a===null)throw Error(S(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);ut(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function dm(e,t,a){var l=G,n=Te(),i=J;if(i){if(a===void 0)throw Error(S(407));a=a()}else a=t();var c=!ut((se||n).memoizedState,a);if(c&&(n.memoizedState=a,Ce=!0),n=n.queue,br(hm.bind(null,l,n,e),[e]),n.getSnapshot!==t||c||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Bl(9,{destroy:void 0},mm.bind(null,l,n,a,t),null),oe===null)throw Error(S(349));i||na&127||fm(l,t,a)}return a}function fm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=G.updateQueue,t===null?(t=Ms(),G.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function mm(e,t,a,l){t.value=a,t.getSnapshot=l,gm(t)&&ym(e)}function hm(e,t,a){return a(function(){gm(t)&&ym(e)})}function gm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ut(e,a)}catch{return!0}}function ym(e){var t=sl(e,2);t!==null&&We(t,e,2)}function yo(e){var t=Ke();if(typeof e=="function"){var a=e;if(e=a(),Pa){pa(!0);try{a()}finally{pa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function pm(e,t,a,l){return e.baseState=a,xr(e,se,typeof l=="function"?l:ia)}function Xy(e,t,a,l,n){if(_s(e))throw Error(S(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};L.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,xm(t,i)):(i.next=a.next,t.pending=a.next=i)}}function xm(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=L.T,c={};L.T=c;try{var o=a(n,l),r=L.S;r!==null&&r(c,o),Zu(e,t,o)}catch(u){po(e,t,u)}finally{i!==null&&c.types!==null&&(i.types=c.types),L.T=i}}else try{i=a(n,l),Zu(e,t,i)}catch(u){po(e,t,u)}}function Zu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ku(e,t,l)},function(l){return po(e,t,l)}):Ku(e,t,a)}function Ku(e,t,a){t.status="fulfilled",t.value=a,bm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,xm(e,a)))}function po(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,bm(t),t=t.next;while(t!==l)}e.action=null}function bm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vm(e,t){return t}function $u(e,t){if(J){var a=oe.formState;if(a!==null){e:{var l=G;if(J){if(me){t:{for(var n=me,i=vt;n.nodeType!==8;){if(!i){n=null;break t}if(n=jt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){me=jt(n.nextSibling),l=n.data==="F!";break e}}Oa(l)}l=!1}l&&(t=a[0])}}return a=Ke(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vm,lastRenderedState:t},a.queue=l,a=qm.bind(null,G,l),l.dispatch=a,l=yo(!1),i=Nr.bind(null,G,!1,l.queue),l=Ke(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Xy.bind(null,G,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function Ju(e){var t=Te();return Sm(t,se,e)}function Sm(e,t,a){if(t=xr(e,t,vm)[0],e=Oi(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=li(t)}catch(c){throw c===Fl?Cs:c}else l=t;t=Te();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(G.flags|=2048,Bl(9,{destroy:void 0},Zy.bind(null,n,a),null)),[l,i,e]}function Zy(e,t){e.action=t}function Fu(e){var t=Te(),a=se;if(a!==null)return Sm(t,a,e);Te(),t=t.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Bl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=G.updateQueue,t===null&&(t=Ms(),G.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function jm(){return Te().memoizedState}function _i(e,t,a,l){var n=Ke();G.flags|=e,n.memoizedState=Bl(1|t,{destroy:void 0},a,l===void 0?null:l)}function Os(e,t,a,l){var n=Te();l=l===void 0?null:l;var i=n.memoizedState.inst;se!==null&&l!==null&&fr(l,se.memoizedState.deps)?n.memoizedState=Bl(t,i,a,l):(G.flags|=e,n.memoizedState=Bl(1|t,i,a,l))}function Iu(e,t){_i(8390656,8,e,t)}function br(e,t){Os(2048,8,e,t)}function Ky(e){G.flags|=4;var t=G.updateQueue;if(t===null)t=Ms(),G.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Nm(e){var t=Te().memoizedState;return Ky({ref:t,nextImpl:e}),function(){if(I&2)throw Error(S(440));return t.impl.apply(void 0,arguments)}}function wm(e,t){return Os(4,2,e,t)}function Tm(e,t){return Os(4,4,e,t)}function Am(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Em(e,t,a){a=a!=null?a.concat([e]):null,Os(4,4,Am.bind(null,t,e),a)}function vr(){}function Dm(e,t){var a=Te();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&fr(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Cm(e,t){var a=Te();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&fr(t,l[1]))return l[0];if(l=e(),Pa){pa(!0);try{e()}finally{pa(!1)}}return a.memoizedState=[l,t],l}function Sr(e,t,a){return a===void 0||na&1073741824&&!($&261930)?e.memoizedState=t:(e.memoizedState=a,e=ph(),G.lanes|=e,Ra|=e,a)}function Mm(e,t,a,l){return ut(a,t)?a:Ll.current!==null?(e=Sr(e,a,l),ut(e,t)||(Ce=!0),e):!(na&42)||na&1073741824&&!($&261930)?(Ce=!0,e.memoizedState=a):(e=ph(),G.lanes|=e,Ra|=e,t)}function zm(e,t,a,l,n){var i=W.p;W.p=i!==0&&8>i?i:8;var c=L.T,o={};L.T=o,Nr(e,!1,t,a);try{var r=n(),u=L.S;if(u!==null&&u(o,r),r!==null&&typeof r=="object"&&typeof r.then=="function"){var f=Qy(r,l);En(e,t,f,rt(e))}else En(e,t,l,rt(e))}catch(x){En(e,t,{then:function(){},status:"rejected",reason:x},rt())}finally{W.p=i,c!==null&&o.types!==null&&(c.types=o.types),L.T=c}}function $y(){}function xo(e,t,a,l){if(e.tag!==5)throw Error(S(476));var n=Om(e).queue;zm(e,n,t,Xa,a===null?$y:function(){return _m(e),a(l)})}function Om(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Xa,baseState:Xa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:Xa},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _m(e){var t=Om(e);t.next===null&&(t=e.alternate.memoizedState),En(e,t.next.queue,{},rt())}function jr(){return Qe(Yn)}function Rm(){return Te().memoizedState}function Um(){return Te().memoizedState}function Jy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=rt();e=wa(a);var l=Ta(t,e,a);l!==null&&(We(l,t,a),wn(l,t,a)),t={cache:cr()},e.payload=t;return}t=t.return}}function Fy(e,t,a){var l=rt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_s(e)?Hm(t,a):(a=lr(e,t,a,l),a!==null&&(We(a,e,l),km(a,t,l)))}function qm(e,t,a){var l=rt();En(e,t,a,l)}function En(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_s(e))Hm(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,o=i(c,a);if(n.hasEagerState=!0,n.eagerState=o,ut(o,c))return Ds(e,t,n,0),oe===null&&Es(),!1}catch{}finally{}if(a=lr(e,t,n,l),a!==null)return We(a,e,l),km(a,t,l),!0}return!1}function Nr(e,t,a,l){if(l={lane:2,revertLane:Or(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_s(e)){if(t)throw Error(S(479))}else t=lr(e,a,l,2),t!==null&&We(t,e,2)}function _s(e){var t=e.alternate;return e===G||t!==null&&t===G}function Hm(e,t){Ol=as=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function km(e,t,a){if(a&4194048){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Nf(e,a)}}var Vn={readContext:Qe,use:zs,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Vn.useEffectEvent=xe;var Lm={readContext:Qe,use:zs,useCallback:function(e,t){return Ke().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:Iu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,_i(4194308,4,Am.bind(null,t,e),a)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){_i(4,2,e,t)},useMemo:function(e,t){var a=Ke();t=t===void 0?null:t;var l=e();if(Pa){pa(!0);try{e()}finally{pa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Ke();if(a!==void 0){var n=a(t);if(Pa){pa(!0);try{a(t)}finally{pa(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Fy.bind(null,G,e),[l.memoizedState,e]},useRef:function(e){var t=Ke();return e={current:e},t.memoizedState=e},useState:function(e){e=yo(e);var t=e.queue,a=qm.bind(null,G,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:vr,useDeferredValue:function(e,t){var a=Ke();return Sr(a,e,t)},useTransition:function(){var e=yo(!1);return e=zm.bind(null,G,e.queue,!0,!1),Ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=G,n=Ke();if(J){if(a===void 0)throw Error(S(407));a=a()}else{if(a=t(),oe===null)throw Error(S(349));$&127||fm(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,Iu(hm.bind(null,l,i,e),[e]),l.flags|=2048,Bl(9,{destroy:void 0},mm.bind(null,l,i,a,t),null),a},useId:function(){var e=Ke(),t=oe.identifierPrefix;if(J){var a=Rt,l=_t;a=(l&~(1<<32-ot(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ls++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Gy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:jr,useFormState:$u,useActionState:$u,useOptimistic:function(e){var t=Ke();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Nr.bind(null,G,!0,a),a.dispatch=t,[e,t]},useMemoCache:pr,useCacheRefresh:function(){return Ke().memoizedState=Jy.bind(null,G)},useEffectEvent:function(e){var t=Ke(),a={impl:e};return t.memoizedState=a,function(){if(I&2)throw Error(S(440));return a.impl.apply(void 0,arguments)}}},wr={readContext:Qe,use:zs,useCallback:Dm,useContext:Qe,useEffect:br,useImperativeHandle:Em,useInsertionEffect:wm,useLayoutEffect:Tm,useMemo:Cm,useReducer:Oi,useRef:jm,useState:function(){return Oi(ia)},useDebugValue:vr,useDeferredValue:function(e,t){var a=Te();return Mm(a,se.memoizedState,e,t)},useTransition:function(){var e=Oi(ia)[0],t=Te().memoizedState;return[typeof e=="boolean"?e:li(e),t]},useSyncExternalStore:dm,useId:Rm,useHostTransitionStatus:jr,useFormState:Ju,useActionState:Ju,useOptimistic:function(e,t){var a=Te();return pm(a,se,e,t)},useMemoCache:pr,useCacheRefresh:Um};wr.useEffectEvent=Nm;var Bm={readContext:Qe,use:zs,useCallback:Dm,useContext:Qe,useEffect:br,useImperativeHandle:Em,useInsertionEffect:wm,useLayoutEffect:Tm,useMemo:Cm,useReducer:gc,useRef:jm,useState:function(){return gc(ia)},useDebugValue:vr,useDeferredValue:function(e,t){var a=Te();return se===null?Sr(a,e,t):Mm(a,se.memoizedState,e,t)},useTransition:function(){var e=gc(ia)[0],t=Te().memoizedState;return[typeof e=="boolean"?e:li(e),t]},useSyncExternalStore:dm,useId:Rm,useHostTransitionStatus:jr,useFormState:Fu,useActionState:Fu,useOptimistic:function(e,t){var a=Te();return se!==null?pm(a,se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:pr,useCacheRefresh:Um};Bm.useEffectEvent=Nm;function yc(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:he({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bo={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=rt(),n=wa(l);n.payload=t,a!=null&&(n.callback=a),t=Ta(e,n,l),t!==null&&(We(t,e,l),wn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=rt(),n=wa(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ta(e,n,l),t!==null&&(We(t,e,l),wn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=rt(),l=wa(a);l.tag=2,t!=null&&(l.callback=t),t=Ta(e,l,a),t!==null&&(We(t,e,a),wn(t,e,a))}};function Wu(e,t,a,l,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,c):t.prototype&&t.prototype.isPureReactComponent?!qn(a,l)||!qn(n,i):!0}function Pu(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function el(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=he({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function Vm(e){Ji(e)}function Qm(e){console.error(e)}function Gm(e){Ji(e)}function ns(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function ed(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function vo(e,t,a){return a=wa(a),a.tag=3,a.payload={element:null},a.callback=function(){ns(e,t)},a}function Ym(e){return e=wa(e),e.tag=3,e}function Xm(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){ed(t,a,l)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){ed(t,a,l),typeof n!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var o=l.stack;this.componentDidCatch(l.value,{componentStack:o!==null?o:""})})}function Iy(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Jl(t,a,n,!0),a=dt.current,a!==null){switch(a.tag){case 31:case 13:return St===null?rs():a.alternate===null&&Se===0&&(Se=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Pi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Ec(e,l,n)),!1;case 22:return a.flags|=65536,l===Pi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Ec(e,l,n)),!1}throw Error(S(435,a.tag))}return Ec(e,l,n),rs(),!1}if(J)return t=dt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==so&&(e=Error(S(422),{cause:l}),kn(bt(e,a)))):(l!==so&&(t=Error(S(423),{cause:l}),kn(bt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=bt(l,a),n=vo(e.stateNode,l,n),hc(e,n),Se!==4&&(Se=2)),!1;var i=Error(S(520),{cause:l});if(i=bt(i,a),Mn===null?Mn=[i]:Mn.push(i),Se!==4&&(Se=2),t===null)return!0;l=bt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=vo(a.stateNode,l,e),hc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Aa===null||!Aa.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Ym(n),Xm(n,e,a,l),hc(a,n),!1}a=a.return}while(a!==null);return!1}var Tr=Error(S(461)),Ce=!1;function ke(e,t,a,l){t.child=e===null?im(t,null,a,l):Wa(t,e.child,a,l)}function td(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var c={};for(var o in l)o!=="ref"&&(c[o]=l[o])}else c=l;return Ia(t),l=mr(e,t,a,c,i,n),o=hr(),e!==null&&!Ce?(gr(e,t,n),sa(e,t,n)):(J&&o&&ir(t),t.flags|=1,ke(e,t,l,n),t.child)}function ad(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!nr(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Zm(e,t,i,l,n)):(e=Mi(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Ar(e,n)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:qn,a(c,l)&&e.ref===t.ref)return sa(e,t,n)}return t.flags|=1,e=ea(i,l),e.ref=t.ref,e.return=t,t.child=e}function Zm(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(qn(i,l)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=l=i,Ar(e,n))e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,sa(e,t,n)}return So(e,t,a,l,n)}function Km(e,t,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,t.child=null;return ld(e,t,i,a,l)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zi(t,i!==null?i.cachePool:null),i!==null?Xu(t,i):ho(),om(t);else return l=t.lanes=536870912,ld(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(zi(t,i.cachePool),Xu(t,i),ga(),t.memoizedState=null):(e!==null&&zi(t,null),ho(),ga());return ke(e,t,n,a),t.child}function xn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ld(e,t,a,l,n){var i=or();return i=i===null?null:{parent:De._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&zi(t,null),ho(),om(t),e!==null&&Jl(e,t,l,!0),t.childLanes=n,null}function Ri(e,t){return t=is({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function nd(e,t,a){return Wa(t,e.child,null,a),e=Ri(t,t.pendingProps),e.flags|=2,lt(t),t.memoizedState=null,e}function Wy(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(J){if(l.mode==="hidden")return e=Ri(t,l),t.lanes=536870912,xn(null,e);if(go(t),(e=me)?(e=Lh(e,vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:_t,overflow:Rt}:null,retryLane:536870912,hydrationErrors:null},a=Wf(e),a.return=t,t.child=a,Ve=t,me=null)):e=null,e===null)throw Oa(t);return t.lanes=536870912,null}return Ri(t,l)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(go(t),n)if(t.flags&256)t.flags&=-257,t=nd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(S(558));else if(Ce||Jl(e,t,a,!1),n=(a&e.childLanes)!==0,Ce||n){if(l=oe,l!==null&&(c=wf(l,a),c!==0&&c!==i.retryLane))throw i.retryLane=c,sl(e,c),We(l,e,c),Tr;rs(),t=nd(e,t,a)}else e=i.treeContext,me=jt(c.nextSibling),Ve=t,J=!0,Na=null,vt=!1,e!==null&&em(t,e),t=Ri(t,l),t.flags|=4096;return t}return e=ea(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ui(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(S(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function So(e,t,a,l,n){return Ia(t),a=mr(e,t,a,l,void 0,n),l=hr(),e!==null&&!Ce?(gr(e,t,n),sa(e,t,n)):(J&&l&&ir(t),t.flags|=1,ke(e,t,a,n),t.child)}function id(e,t,a,l,n,i){return Ia(t),t.updateQueue=null,a=um(t,l,a,n),rm(e),l=hr(),e!==null&&!Ce?(gr(e,t,i),sa(e,t,i)):(J&&l&&ir(t),t.flags|=1,ke(e,t,a,i),t.child)}function sd(e,t,a,l,n){if(Ia(t),t.stateNode===null){var i=Nl,c=a.contextType;typeof c=="object"&&c!==null&&(i=Qe(c)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=bo,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},ur(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?Qe(c):Nl,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(yc(t,a,c,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&bo.enqueueReplaceState(i,i.state,null),An(t,l,i,n),Tn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,r=el(a,o);i.props=r;var u=i.context,f=a.contextType;c=Nl,typeof f=="object"&&f!==null&&(c=Qe(f));var x=a.getDerivedStateFromProps;f=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==c)&&Pu(t,i,l,c),fa=!1;var m=t.memoizedState;i.state=m,An(t,l,i,n),Tn(),u=t.memoizedState,o||m!==u||fa?(typeof x=="function"&&(yc(t,a,x,l),u=t.memoizedState),(r=fa||Wu(t,a,r,l,m,u,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=u),i.props=l,i.state=u,i.context=c,l=r):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,fo(e,t),c=t.memoizedProps,f=el(a,c),i.props=f,x=t.pendingProps,m=i.context,u=a.contextType,r=Nl,typeof u=="object"&&u!==null&&(r=Qe(u)),o=a.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==x||m!==r)&&Pu(t,i,l,r),fa=!1,m=t.memoizedState,i.state=m,An(t,l,i,n),Tn();var h=t.memoizedState;c!==x||m!==h||fa||e!==null&&e.dependencies!==null&&Wi(e.dependencies)?(typeof o=="function"&&(yc(t,a,o,l),h=t.memoizedState),(f=fa||Wu(t,a,f,l,m,h,r)||e!==null&&e.dependencies!==null&&Wi(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,h,r),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,h,r)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=h),i.props=l,i.state=h,i.context=r,l=f):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Ui(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Wa(t,e.child,null,n),t.child=Wa(t,null,a,n)):ke(e,t,a,n),t.memoizedState=i.state,e=t.child):e=sa(e,t,n),e}function cd(e,t,a,l){return Fa(),t.flags|=256,ke(e,t,a,l),t.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(e){return{baseLanes:e,cachePool:am()}}function bc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=it),e}function $m(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(J){if(n?ha(t):ga(),(e=me)?(e=Lh(e,vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:_t,overflow:Rt}:null,retryLane:536870912,hydrationErrors:null},a=Wf(e),a.return=t,t.child=a,Ve=t,me=null)):e=null,e===null)throw Oa(t);return Uo(e)?t.lanes=32:t.lanes=536870912,null}var o=l.children;return l=l.fallback,n?(ga(),n=t.mode,o=is({mode:"hidden",children:o},n),l=Za(l,n,a,null),o.return=t,l.return=t,o.sibling=l,t.child=o,l=t.child,l.memoizedState=xc(a),l.childLanes=bc(e,c,a),t.memoizedState=pc,xn(null,l)):(ha(t),jo(t,o))}var r=e.memoizedState;if(r!==null&&(o=r.dehydrated,o!==null)){if(i)t.flags&256?(ha(t),t.flags&=-257,t=vc(e,t,a)):t.memoizedState!==null?(ga(),t.child=e.child,t.flags|=128,t=null):(ga(),o=l.fallback,n=t.mode,l=is({mode:"visible",children:l.children},n),o=Za(o,n,a,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,Wa(t,e.child,null,a),l=t.child,l.memoizedState=xc(a),l.childLanes=bc(e,c,a),t.memoizedState=pc,t=xn(null,l));else if(ha(t),Uo(o)){if(c=o.nextSibling&&o.nextSibling.dataset,c)var u=c.dgst;c=u,l=Error(S(419)),l.stack="",l.digest=c,kn({value:l,source:null,stack:null}),t=vc(e,t,a)}else if(Ce||Jl(e,t,a,!1),c=(a&e.childLanes)!==0,Ce||c){if(c=oe,c!==null&&(l=wf(c,a),l!==0&&l!==r.retryLane))throw r.retryLane=l,sl(e,l),We(c,e,l),Tr;Ro(o)||rs(),t=vc(e,t,a)}else Ro(o)?(t.flags|=192,t.child=e.child,t=null):(e=r.treeContext,me=jt(o.nextSibling),Ve=t,J=!0,Na=null,vt=!1,e!==null&&em(t,e),t=jo(t,l.children),t.flags|=4096);return t}return n?(ga(),o=l.fallback,n=t.mode,r=e.child,u=r.sibling,l=ea(r,{mode:"hidden",children:l.children}),l.subtreeFlags=r.subtreeFlags&65011712,u!==null?o=ea(u,o):(o=Za(o,n,a,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,xn(null,l),l=t.child,o=e.child.memoizedState,o===null?o=xc(a):(n=o.cachePool,n!==null?(r=De._currentValue,n=n.parent!==r?{parent:r,pool:r}:n):n=am(),o={baseLanes:o.baseLanes|a,cachePool:n}),l.memoizedState=o,l.childLanes=bc(e,c,a),t.memoizedState=pc,xn(e.child,l)):(ha(t),a=e.child,e=a.sibling,a=ea(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function jo(e,t){return t=is({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function is(e,t){return e=nt(22,e,null,t),e.lanes=0,e}function vc(e,t,a){return Wa(t,e.child,null,a),e=jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function od(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),oo(e.return,t,a)}function Sc(e,t,a,l,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=a,c.tailMode=n,c.treeForkCount=i)}function Jm(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var c=we.current,o=(c&2)!==0;if(o?(c=c&1|2,t.flags|=128):c&=1,ue(we,c),ke(e,t,l,a),l=J?Hn:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&od(e,a,t);else if(e.tag===19)od(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&ts(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Sc(t,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ts(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Sc(t,!0,a,null,i,l);break;case"together":Sc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function sa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,!(a&t.childLanes))if(e!==null){if(Jl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,a=ea(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ea(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ar(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Wi(e)))}function Py(e,t,a){switch(t.tag){case 3:Xi(t,t.stateNode.containerInfo),ma(t,De,e.memoizedState.cache),Fa();break;case 27:case 5:Jc(t);break;case 4:Xi(t,t.stateNode.containerInfo);break;case 10:ma(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,go(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(t),t.flags|=128,null):a&t.child.childLanes?$m(e,t,a):(ha(t),e=sa(e,t,a),e!==null?e.sibling:null);ha(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Jl(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Jm(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ue(we,we.current),l)break;return null;case 22:return t.lanes=0,Km(e,t,a,t.pendingProps);case 24:ma(t,De,e.memoizedState.cache)}return sa(e,t,a)}function Fm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ce=!0;else{if(!Ar(e,a)&&!(t.flags&128))return Ce=!1,Py(e,t,a);Ce=!!(e.flags&131072)}else Ce=!1,J&&t.flags&1048576&&Pf(t,Hn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Qa(t.elementType),t.type=e,typeof e=="function")nr(e)?(l=el(e,l),t.tag=1,t=sd(null,t,e,l,a)):(t.tag=0,t=So(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===Yo){t.tag=11,t=td(null,t,e,l,a);break e}else if(n===Xo){t.tag=14,t=ad(null,t,e,l,a);break e}}throw t=Kc(e)||e,Error(S(306,t,""))}}return t;case 0:return So(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=el(l,t.pendingProps),sd(e,t,l,n,a);case 3:e:{if(Xi(t,t.stateNode.containerInfo),e===null)throw Error(S(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,fo(e,t),An(t,l,null,a);var c=t.memoizedState;if(l=c.cache,ma(t,De,l),l!==i.cache&&ro(t,[De],a,!0),Tn(),l=c.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=cd(e,t,l,a);break e}else if(l!==n){n=bt(Error(S(424)),t),kn(n),t=cd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=jt(e.firstChild),Ve=t,J=!0,Na=null,vt=!0,a=im(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fa(),l===n){t=sa(e,t,a);break e}ke(e,t,l,a)}t=t.child}return t;case 26:return Ui(e,t),e===null?(a=Dd(t.type,null,t.pendingProps,null))?t.memoizedState=a:J||(a=t.type,e=t.pendingProps,l=ms(ja.current).createElement(a),l[Be]=t,l[Pe]=e,Ge(l,a,e),qe(l),t.stateNode=l):t.memoizedState=Dd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jc(t),e===null&&J&&(l=t.stateNode=Bh(t.type,t.pendingProps,ja.current),Ve=t,vt=!0,n=me,qa(t.type)?(qo=n,me=jt(l.firstChild)):me=n),ke(e,t,t.pendingProps.children,a),Ui(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&J&&((n=l=me)&&(l=Cp(l,t.type,t.pendingProps,vt),l!==null?(t.stateNode=l,Ve=t,me=jt(l.firstChild),vt=!1,n=!0):n=!1),n||Oa(t)),Jc(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,l=i.children,Oo(n,i)?l=null:c!==null&&Oo(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=mr(e,t,Yy,null,null,a),Yn._currentValue=n),Ui(e,t),ke(e,t,l,a),t.child;case 6:return e===null&&J&&((e=a=me)&&(a=Mp(a,t.pendingProps,vt),a!==null?(t.stateNode=a,Ve=t,me=null,e=!0):e=!1),e||Oa(t)),null;case 13:return $m(e,t,a);case 4:return Xi(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Wa(t,null,l,a):ke(e,t,l,a),t.child;case 11:return td(e,t,t.type,t.pendingProps,a);case 7:return ke(e,t,t.pendingProps,a),t.child;case 8:return ke(e,t,t.pendingProps.children,a),t.child;case 12:return ke(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,ma(t,t.type,l.value),ke(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Ia(t),n=Qe(n),l=l(n),t.flags|=1,ke(e,t,l,a),t.child;case 14:return ad(e,t,t.type,t.pendingProps,a);case 15:return Zm(e,t,t.type,t.pendingProps,a);case 19:return Jm(e,t,a);case 31:return Wy(e,t,a);case 22:return Km(e,t,a,t.pendingProps);case 24:return Ia(t),l=Qe(De),e===null?(n=or(),n===null&&(n=oe,i=cr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},ur(t),ma(t,De,n)):(e.lanes&a&&(fo(e,t),An(t,null,null,a),Tn()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ma(t,De,l)):(l=i.cache,ma(t,De,l),l!==n.cache&&ro(t,[De],a,!0))),ke(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function Qt(e){e.flags|=4}function jc(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(vh())e.flags|=8192;else throw $a=Pi,rr}else e.flags&=-16777217}function rd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Gh(t))if(vh())e.flags|=8192;else throw $a=Pi,rr}function vi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sf():536870912,e.lanes|=t,Vl|=t)}function fn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function ep(e,t,a){var l=t.pendingProps;switch(sr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return fe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ta(De),Ul(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ul(t)?Qt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mc())),fe(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Qt(t),i!==null?(fe(t),rd(t,i)):(fe(t),jc(t,n,null,l,a))):i?i!==e.memoizedState?(Qt(t),fe(t),rd(t,i)):(fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Qt(t),fe(t),jc(t,n,e,l,a)),null;case 27:if(Zi(t),a=ja.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Qt(t);else{if(!l){if(t.stateNode===null)throw Error(S(166));return fe(t),null}e=qt.current,ul(t)?ku(t):(e=Bh(n,l,a),t.stateNode=e,Qt(t))}return fe(t),null;case 5:if(Zi(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Qt(t);else{if(!l){if(t.stateNode===null)throw Error(S(166));return fe(t),null}if(i=qt.current,ul(t))ku(t);else{var c=ms(ja.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?c.createElement(n,{is:l.is}):c.createElement(n)}}i[Be]=t,i[Pe]=l;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(Ge(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qt(t)}}return fe(t),jc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Qt(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(S(166));if(e=ja.current,ul(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=Ve,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Be]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qh(e.nodeValue,a)),e||Oa(t,!0)}else e=ms(e).createTextNode(l),e[Be]=t,t.stateNode=e}return fe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=ul(t),a!==null){if(e===null){if(!l)throw Error(S(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(557));e[Be]=t}else Fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),e=!1}else a=mc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(lt(t),t):(lt(t),null);if(t.flags&128)throw Error(S(558))}return fe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=ul(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(S(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(S(317));n[Be]=t}else Fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),n=!1}else n=mc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(lt(t),t):(lt(t),null)}return lt(t),t.flags&128?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),vi(t,t.updateQueue),fe(t),null);case 4:return Ul(),e===null&&_r(t.stateNode.containerInfo),fe(t),null;case 10:return ta(t.type),fe(t),null;case 19:if(He(we),l=t.memoizedState,l===null)return fe(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)fn(l,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ts(e),i!==null){for(t.flags|=128,fn(l,!1),e=i.updateQueue,t.updateQueue=e,vi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)If(a,e),a=a.sibling;return ue(we,we.current&1|2),J&&$t(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&st()>cs&&(t.flags|=128,n=!0,fn(l,!1),t.lanes=4194304)}else{if(!n)if(e=ts(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,vi(t,e),fn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!J)return fe(t),null}else 2*st()-l.renderingStartTime>cs&&a!==536870912&&(t.flags|=128,n=!0,fn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=st(),e.sibling=null,a=we.current,ue(we,n?a&1|2:a&1),J&&$t(t,l.treeForkCount),e):(fe(t),null);case 22:case 23:return lt(t),dr(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?a&536870912&&!(t.flags&128)&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),a=t.updateQueue,a!==null&&vi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&He(Ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ta(De),fe(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function tp(e,t){switch(sr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ta(De),Ul(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zi(t),null;case 31:if(t.memoizedState!==null){if(lt(t),t.alternate===null)throw Error(S(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(we),null;case 4:return Ul(),null;case 10:return ta(t.type),null;case 22:case 23:return lt(t),dr(),e!==null&&He(Ka),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ta(De),null;case 25:return null;default:return null}}function Im(e,t){switch(sr(t),t.tag){case 3:ta(De),Ul();break;case 26:case 27:case 5:Zi(t);break;case 4:Ul();break;case 31:t.memoizedState!==null&&lt(t);break;case 13:lt(t);break;case 19:He(we);break;case 10:ta(t.type);break;case 22:case 23:lt(t),dr(),e!==null&&He(Ka);break;case 24:ta(De)}}function ni(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,c=a.inst;l=i(),c.destroy=l}a=a.next}while(a!==n)}}catch(o){ne(t,t.return,o)}}function _a(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var c=l.inst,o=c.destroy;if(o!==void 0){c.destroy=void 0,n=t;var r=a,u=o;try{u()}catch(f){ne(n,r,f)}}}l=l.next}while(l!==i)}}catch(f){ne(t,t.return,f)}}function Wm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{cm(t,a)}catch(l){ne(e,e.return,l)}}}function Pm(e,t,a){a.props=el(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ne(e,t,l)}}function Dn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){ne(e,t,n)}}function Ut(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){ne(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){ne(e,t,n)}else a.current=null}function eh(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){ne(e,e.return,n)}}function Nc(e,t,a){try{var l=e.stateNode;Np(l,e.type,a,t),l[Pe]=t}catch(n){ne(e,e.return,n)}}function th(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qa(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function No(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=It));else if(l!==4&&(l===27&&qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(No(e,t,a),e=e.sibling;e!==null;)No(e,t,a),e=e.sibling}function ss(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ss(e,t,a),e=e.sibling;e!==null;)ss(e,t,a),e=e.sibling}function ah(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ge(t,l,a),t[Be]=e,t[Pe]=a}catch(i){ne(e,e.return,i)}}var Jt=!1,Ee=!1,Tc=!1,ud=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function ap(e,t){if(e=e.containerInfo,Mo=ps,e=Gf(e),tr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,o=-1,r=-1,u=0,f=0,x=e,m=null;t:for(;;){for(var h;x!==a||n!==0&&x.nodeType!==3||(o=c+n),x!==i||l!==0&&x.nodeType!==3||(r=c+l),x.nodeType===3&&(c+=x.nodeValue.length),(h=x.firstChild)!==null;)m=x,x=h;for(;;){if(x===e)break t;if(m===a&&++u===n&&(o=c),m===i&&++f===l&&(r=c),(h=x.nextSibling)!==null)break;x=m,m=x.parentNode}x=h}a=o===-1||r===-1?null:{start:o,end:r}}else a=null}a=a||{start:0,end:0}}else a=null;for(zo={focusedElem:e,selectionRange:a},ps=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){switch(t=Ue,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var v=el(a.type,n);e=l.getSnapshotBeforeUpdate(v,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(j){ne(a,a.return,j)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)_o(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_o(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}}function lh(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yt(e,a),l&4&&ni(5,a);break;case 1:if(Yt(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){ne(a,a.return,c)}else{var n=el(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){ne(a,a.return,c)}}l&64&&Wm(a),l&512&&Dn(a,a.return);break;case 3:if(Yt(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{cm(e,t)}catch(c){ne(a,a.return,c)}}break;case 27:t===null&&l&4&&ah(a);case 26:case 5:Yt(e,a),t===null&&l&4&&eh(a),l&512&&Dn(a,a.return);break;case 12:Yt(e,a);break;case 31:Yt(e,a),l&4&&sh(e,a);break;case 13:Yt(e,a),l&4&&ch(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dp.bind(null,a),zp(e,a))));break;case 22:if(l=a.memoizedState!==null||Jt,!l){t=t!==null&&t.memoizedState!==null||Ee,n=Jt;var i=Ee;Jt=l,(Ee=t)&&!i?Xt(e,a,(a.subtreeFlags&8772)!==0):Yt(e,a),Jt=n,Ee=i}break;case 30:break;default:Yt(e,a)}}function nh(e){var t=e.alternate;t!==null&&(e.alternate=null,nh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,Fe=!1;function Gt(e,t,a){for(a=a.child;a!==null;)ih(e,t,a),a=a.sibling}function ih(e,t,a){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 26:Ee||Ut(a,t),Gt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||Ut(a,t);var l=ge,n=Fe;qa(a.type)&&(ge=a.stateNode,Fe=!1),Gt(e,t,a),On(a.stateNode),ge=l,Fe=n;break;case 5:Ee||Ut(a,t);case 6:if(l=ge,n=Fe,ge=null,Gt(e,t,a),ge=l,Fe=n,ge!==null)if(Fe)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(i){ne(a,t,i)}else try{ge.removeChild(a.stateNode)}catch(i){ne(a,t,i)}break;case 18:ge!==null&&(Fe?(e=ge,Nd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xl(e)):Nd(ge,a.stateNode));break;case 4:l=ge,n=Fe,ge=a.stateNode.containerInfo,Fe=!0,Gt(e,t,a),ge=l,Fe=n;break;case 0:case 11:case 14:case 15:_a(2,a,t),Ee||_a(4,a,t),Gt(e,t,a);break;case 1:Ee||(Ut(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pm(a,t,l)),Gt(e,t,a);break;case 21:Gt(e,t,a);break;case 22:Ee=(l=Ee)||a.memoizedState!==null,Gt(e,t,a),Ee=l;break;default:Gt(e,t,a)}}function sh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xl(e)}catch(a){ne(t,t.return,a)}}}function ch(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(a){ne(t,t.return,a)}}function lp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ud),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ud),t;default:throw Error(S(435,e.tag))}}function Si(e,t){var a=lp(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=fp.bind(null,e,l);l.then(n,n)}})}function $e(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,c=t,o=c;e:for(;o!==null;){switch(o.tag){case 27:if(qa(o.type)){ge=o.stateNode,Fe=!1;break e}break;case 5:ge=o.stateNode,Fe=!1;break e;case 3:case 4:ge=o.stateNode.containerInfo,Fe=!0;break e}o=o.return}if(ge===null)throw Error(S(160));ih(i,c,n),ge=null,Fe=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)oh(t,e),t=t.sibling}var Tt=null;function oh(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$e(t,e),Je(e),l&4&&(_a(3,e,e.return),ni(3,e),_a(5,e,e.return));break;case 1:$e(t,e),Je(e),l&512&&(Ee||a===null||Ut(a,a.return)),l&64&&Jt&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Tt;if($e(t,e),Je(e),l&512&&(Ee||a===null||Ut(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[ei]||i[Be]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),Ge(i,l,a),i[Be]=e,qe(i),l=i;break e;case"link":var c=Md("link","href",n).get(l+(a.href||""));if(c){for(var o=0;o<c.length;o++)if(i=c[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(o,1);break t}}i=n.createElement(l),Ge(i,l,a),n.head.appendChild(i);break;case"meta":if(c=Md("meta","content",n).get(l+(a.content||""))){for(o=0;o<c.length;o++)if(i=c[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(o,1);break t}}i=n.createElement(l),Ge(i,l,a),n.head.appendChild(i);break;default:throw Error(S(468,l))}i[Be]=e,qe(i),l=i}e.stateNode=l}else zd(n,e.type,e.stateNode);else e.stateNode=Cd(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?zd(n,e.type,e.stateNode):Cd(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Nc(e,e.memoizedProps,a.memoizedProps)}break;case 27:$e(t,e),Je(e),l&512&&(Ee||a===null||Ut(a,a.return)),a!==null&&l&4&&Nc(e,e.memoizedProps,a.memoizedProps);break;case 5:if($e(t,e),Je(e),l&512&&(Ee||a===null||Ut(a,a.return)),e.flags&32){n=e.stateNode;try{Hl(n,"")}catch(v){ne(e,e.return,v)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Nc(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Tc=!0);break;case 6:if($e(t,e),Je(e),l&4){if(e.stateNode===null)throw Error(S(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(v){ne(e,e.return,v)}}break;case 3:if(ki=null,n=Tt,Tt=hs(t.containerInfo),$e(t,e),Tt=n,Je(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(v){ne(e,e.return,v)}Tc&&(Tc=!1,rh(e));break;case 4:l=Tt,Tt=hs(e.stateNode.containerInfo),$e(t,e),Je(e),Tt=l;break;case 12:$e(t,e),Je(e);break;case 31:$e(t,e),Je(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Si(e,l)));break;case 13:$e(t,e),Je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rs=st()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Si(e,l)));break;case 22:n=e.memoizedState!==null;var r=a!==null&&a.memoizedState!==null,u=Jt,f=Ee;if(Jt=u||n,Ee=f||r,$e(t,e),Ee=f,Jt=u,Je(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||r||Jt||Ee||Ga(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){r=a=t;try{if(i=r.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{o=r.stateNode;var x=r.memoizedProps.style,m=x!=null&&x.hasOwnProperty("display")?x.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){ne(r,r.return,v)}}}else if(t.tag===6){if(a===null){r=t;try{r.stateNode.nodeValue=n?"":r.memoizedProps}catch(v){ne(r,r.return,v)}}}else if(t.tag===18){if(a===null){r=t;try{var h=r.stateNode;n?wd(h,!0):wd(r.stateNode,!1)}catch(v){ne(r,r.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Si(e,a))));break;case 19:$e(t,e),Je(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Si(e,l)));break;case 30:break;case 21:break;default:$e(t,e),Je(e)}}function Je(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(th(l)){a=l;break}l=l.return}if(a==null)throw Error(S(160));switch(a.tag){case 27:var n=a.stateNode,i=wc(e);ss(e,i,n);break;case 5:var c=a.stateNode;a.flags&32&&(Hl(c,""),a.flags&=-33);var o=wc(e);ss(e,o,c);break;case 3:case 4:var r=a.stateNode.containerInfo,u=wc(e);No(e,u,r);break;default:throw Error(S(161))}}catch(f){ne(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Yt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lh(e,t.alternate,t),t=t.sibling}function Ga(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_a(4,t,t.return),Ga(t);break;case 1:Ut(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Pm(t,t.return,a),Ga(t);break;case 27:On(t.stateNode);case 26:case 5:Ut(t,t.return),Ga(t);break;case 22:t.memoizedState===null&&Ga(t);break;case 30:Ga(t);break;default:Ga(t)}e=e.sibling}}function Xt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:Xt(n,i,a),ni(4,i);break;case 1:if(Xt(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(u){ne(l,l.return,u)}if(l=i,n=l.updateQueue,n!==null){var o=l.stateNode;try{var r=n.shared.hiddenCallbacks;if(r!==null)for(n.shared.hiddenCallbacks=null,n=0;n<r.length;n++)sm(r[n],o)}catch(u){ne(l,l.return,u)}}a&&c&64&&Wm(i),Dn(i,i.return);break;case 27:ah(i);case 26:case 5:Xt(n,i,a),a&&l===null&&c&4&&eh(i),Dn(i,i.return);break;case 12:Xt(n,i,a);break;case 31:Xt(n,i,a),a&&c&4&&sh(n,i);break;case 13:Xt(n,i,a),a&&c&4&&ch(n,i);break;case 22:i.memoizedState===null&&Xt(n,i,a),Dn(i,i.return);break;case 30:break;default:Xt(n,i,a)}t=t.sibling}}function Er(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ai(a))}function Dr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ai(e))}function wt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uh(e,t,a,l),t=t.sibling}function uh(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:wt(e,t,a,l),n&2048&&ni(9,t);break;case 1:wt(e,t,a,l);break;case 3:wt(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ai(e)));break;case 12:if(n&2048){wt(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,o=i.onPostCommit;typeof o=="function"&&o(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(r){ne(t,t.return,r)}}else wt(e,t,a,l);break;case 31:wt(e,t,a,l);break;case 13:wt(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?wt(e,t,a,l):Cn(e,t):i._visibility&2?wt(e,t,a,l):(i._visibility|=2,ml(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Er(c,t);break;case 24:wt(e,t,a,l),n&2048&&Dr(t.alternate,t);break;default:wt(e,t,a,l)}}function ml(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,o=a,r=l,u=c.flags;switch(c.tag){case 0:case 11:case 15:ml(i,c,o,r,n),ni(8,c);break;case 23:break;case 22:var f=c.stateNode;c.memoizedState!==null?f._visibility&2?ml(i,c,o,r,n):Cn(i,c):(f._visibility|=2,ml(i,c,o,r,n)),n&&u&2048&&Er(c.alternate,c);break;case 24:ml(i,c,o,r,n),n&&u&2048&&Dr(c.alternate,c);break;default:ml(i,c,o,r,n)}t=t.sibling}}function Cn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:Cn(a,l),n&2048&&Er(l.alternate,l);break;case 24:Cn(a,l),n&2048&&Dr(l.alternate,l);break;default:Cn(a,l)}t=t.sibling}}var bn=8192;function dl(e,t,a){if(e.subtreeFlags&bn)for(e=e.child;e!==null;)dh(e,t,a),e=e.sibling}function dh(e,t,a){switch(e.tag){case 26:dl(e,t,a),e.flags&bn&&e.memoizedState!==null&&Gp(a,Tt,e.memoizedState,e.memoizedProps);break;case 5:dl(e,t,a);break;case 3:case 4:var l=Tt;Tt=hs(e.stateNode.containerInfo),dl(e,t,a),Tt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=bn,bn=16777216,dl(e,t,a),bn=l):dl(e,t,a));break;default:dl(e,t,a)}}function fh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mn(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ue=l,hh(l,e)}fh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mh(e),e=e.sibling}function mh(e){switch(e.tag){case 0:case 11:case 15:mn(e),e.flags&2048&&_a(9,e,e.return);break;case 3:mn(e);break;case 12:mn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qi(e)):mn(e);break;default:mn(e)}}function qi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ue=l,hh(l,e)}fh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_a(8,t,t.return),qi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,qi(t));break;default:qi(t)}e=e.sibling}}function hh(e,t){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:_a(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ai(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else e:for(a=e;Ue!==null;){l=Ue;var n=l.sibling,i=l.return;if(nh(l),l===a){Ue=null;break e}if(n!==null){n.return=i,Ue=n;break e}Ue=i}}}var np={getCacheForType:function(e){var t=Qe(De),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Qe(De).controller.signal}},ip=typeof WeakMap=="function"?WeakMap:Map,I=0,oe=null,K=null,$=0,le=0,at=null,ba=!1,Il=!1,Cr=!1,ca=0,Se=0,Ra=0,Ja=0,Mr=0,it=0,Vl=0,Mn=null,Ie=null,wo=!1,Rs=0,gh=0,cs=1/0,os=null,Aa=null,_e=0,Ea=null,Ql=null,aa=0,To=0,Ao=null,yh=null,zn=0,Eo=null;function rt(){return I&2&&$!==0?$&-$:L.T!==null?Or():Tf()}function ph(){if(it===0)if(!($&536870912)||J){var e=mi;mi<<=1,!(mi&3932160)&&(mi=262144),it=e}else it=536870912;return e=dt.current,e!==null&&(e.flags|=32),it}function We(e,t,a){(e===oe&&(le===2||le===9)||e.cancelPendingCommit!==null)&&(Gl(e,0),va(e,$,it,!1)),Pn(e,a),(!(I&2)||e!==oe)&&(e===oe&&(!(I&2)&&(Ja|=a),Se===4&&va(e,$,it,!1)),Lt(e))}function xh(e,t,a){if(I&6)throw Error(S(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Wn(e,t),n=l?op(e,t):Ac(e,t,!0),i=l;do{if(n===0){Il&&!l&&va(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!sp(a)){n=Ac(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var o=e;n=Mn;var r=o.current.memoizedState.isDehydrated;if(r&&(Gl(o,c).flags|=256),c=Ac(o,c,!1),c!==2){if(Cr&&!r){o.errorRecoveryDisabledLanes|=i,Ja|=i,n=4;break e}i=Ie,Ie=n,i!==null&&(Ie===null?Ie=i:Ie.push.apply(Ie,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){Gl(e,0),va(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:va(l,t,it,!ba);break e;case 2:Ie=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(n=Rs+300-st(),10<n)){if(va(l,t,it,!ba),Ns(l,0,!0)!==0)break e;aa=t,l.timeoutHandle=kh(dd.bind(null,l,a,Ie,os,wo,t,it,Ja,Vl,ba,i,"Throttled",-0,0),n);break e}dd(l,a,Ie,os,wo,t,it,Ja,Vl,ba,i,null,-0,0)}}break}while(!0);Lt(e)}function dd(e,t,a,l,n,i,c,o,r,u,f,x,m,h){if(e.timeoutHandle=-1,x=t.subtreeFlags,x&8192||(x&16785408)===16785408){x={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It},dh(t,i,x);var v=(i&62914560)===i?Rs-st():(i&4194048)===i?gh-st():0;if(v=Yp(x,v),v!==null){aa=i,e.cancelPendingCommit=v(md.bind(null,e,t,i,a,l,n,c,o,r,f,x,null,m,h)),va(e,i,c,!u);return}}md(e,t,i,a,l,n,c,o,r)}function sp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!ut(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function va(e,t,a,l){t&=~Mr,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-ot(n),c=1<<i;l[i]=-1,n&=~c}a!==0&&jf(e,a,t)}function Us(){return I&6?!0:(ii(0),!1)}function zr(){if(K!==null){if(le===0)var e=K.return;else e=K,Wt=cl=null,yr(e),zl=null,Ln=0,e=K;for(;e!==null;)Im(e.alternate,e),e=e.return;K=null}}function Gl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ap(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),aa=0,zr(),oe=e,K=a=ea(e.current,null),$=t,le=0,at=null,ba=!1,Il=Wn(e,t),Cr=!1,Vl=it=Mr=Ja=Ra=Se=0,Ie=Mn=null,wo=!1,t&8&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-ot(l),i=1<<n;t|=e[n],l&=~i}return ca=t,Es(),a}function bh(e,t){G=null,L.H=Vn,t===Fl||t===Cs?(t=Gu(),le=3):t===rr?(t=Gu(),le=4):le=t===Tr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,at=t,K===null&&(Se=1,ns(e,bt(t,e.current)))}function vh(){var e=dt.current;return e===null?!0:($&4194048)===$?St===null:($&62914560)===$||$&536870912?e===St:!1}function Sh(){var e=L.H;return L.H=Vn,e===null?Vn:e}function jh(){var e=L.A;return L.A=np,e}function rs(){Se=4,ba||($&4194048)!==$&&dt.current!==null||(Il=!0),!(Ra&134217727)&&!(Ja&134217727)||oe===null||va(oe,$,it,!1)}function Ac(e,t,a){var l=I;I|=2;var n=Sh(),i=jh();(oe!==e||$!==t)&&(os=null,Gl(e,t)),t=!1;var c=Se;e:do try{if(le!==0&&K!==null){var o=K,r=at;switch(le){case 8:zr(),c=6;break e;case 3:case 2:case 9:case 6:dt.current===null&&(t=!0);var u=le;if(le=0,at=null,Al(e,o,r,u),a&&Il){c=0;break e}break;default:u=le,le=0,at=null,Al(e,o,r,u)}}cp(),c=Se;break}catch(f){bh(e,f)}while(!0);return t&&e.shellSuspendCounter++,Wt=cl=null,I=l,L.H=n,L.A=i,K===null&&(oe=null,$=0,Es()),c}function cp(){for(;K!==null;)Nh(K)}function op(e,t){var a=I;I|=2;var l=Sh(),n=jh();oe!==e||$!==t?(os=null,cs=st()+500,Gl(e,t)):Il=Wn(e,t);e:do try{if(le!==0&&K!==null){t=K;var i=at;t:switch(le){case 1:le=0,at=null,Al(e,t,i,1);break;case 2:case 9:if(Qu(i)){le=0,at=null,fd(t);break}t=function(){le!==2&&le!==9||oe!==e||(le=7),Lt(e)},i.then(t,t);break e;case 3:le=7;break e;case 4:le=5;break e;case 7:Qu(i)?(le=0,at=null,fd(t)):(le=0,at=null,Al(e,t,i,7));break;case 5:var c=null;switch(K.tag){case 26:c=K.memoizedState;case 5:case 27:var o=K;if(c?Gh(c):o.stateNode.complete){le=0,at=null;var r=o.sibling;if(r!==null)K=r;else{var u=o.return;u!==null?(K=u,qs(u)):K=null}break t}}le=0,at=null,Al(e,t,i,5);break;case 6:le=0,at=null,Al(e,t,i,6);break;case 8:zr(),Se=6;break e;default:throw Error(S(462))}}rp();break}catch(f){bh(e,f)}while(!0);return Wt=cl=null,L.H=l,L.A=n,I=a,K!==null?0:(oe=null,$=0,Es(),Se)}function rp(){for(;K!==null&&!O0();)Nh(K)}function Nh(e){var t=Fm(e.alternate,e,ca);e.memoizedProps=e.pendingProps,t===null?qs(e):K=t}function fd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=id(a,t,t.pendingProps,t.type,void 0,$);break;case 11:t=id(a,t,t.pendingProps,t.type.render,t.ref,$);break;case 5:yr(t);default:Im(a,t),t=K=If(t,ca),t=Fm(a,t,ca)}e.memoizedProps=e.pendingProps,t===null?qs(e):K=t}function Al(e,t,a,l){Wt=cl=null,yr(t),zl=null,Ln=0;var n=t.return;try{if(Iy(e,n,t,a,$)){Se=1,ns(e,bt(a,e.current)),K=null;return}}catch(i){if(n!==null)throw K=n,i;Se=1,ns(e,bt(a,e.current)),K=null;return}t.flags&32768?(J||l===1?e=!0:Il||$&536870912?e=!1:(ba=e=!0,(l===2||l===9||l===3||l===6)&&(l=dt.current,l!==null&&l.tag===13&&(l.flags|=16384))),wh(t,e)):qs(t)}function qs(e){var t=e;do{if(t.flags&32768){wh(t,ba);return}e=t.return;var a=ep(t.alternate,t,ca);if(a!==null){K=a;return}if(t=t.sibling,t!==null){K=t;return}K=t=e}while(t!==null);Se===0&&(Se=5)}function wh(e,t){do{var a=tp(e.alternate,e);if(a!==null){a.flags&=32767,K=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){K=e;return}K=e=a}while(e!==null);Se=6,K=null}function md(e,t,a,l,n,i,c,o,r){e.cancelPendingCommit=null;do Hs();while(_e!==0);if(I&6)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(i=t.lanes|t.childLanes,i|=ar,Q0(e,a,i,c,o,r),e===oe&&(K=oe=null,$=0),Ql=t,Ea=e,aa=a,To=i,Ao=n,yh=l,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,mp(Ki,function(){return Ch(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,t.subtreeFlags&13878||l){l=L.T,L.T=null,n=W.p,W.p=2,c=I,I|=4;try{ap(e,t,a)}finally{I=c,W.p=n,L.T=l}}_e=1,Th(),Ah(),Eh()}}function Th(){if(_e===1){_e=0;var e=Ea,t=Ql,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=L.T,L.T=null;var l=W.p;W.p=2;var n=I;I|=4;try{oh(t,e);var i=zo,c=Gf(e.containerInfo),o=i.focusedElem,r=i.selectionRange;if(c!==o&&o&&o.ownerDocument&&Qf(o.ownerDocument.documentElement,o)){if(r!==null&&tr(o)){var u=r.start,f=r.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var x=o.ownerDocument||document,m=x&&x.defaultView||window;if(m.getSelection){var h=m.getSelection(),v=o.textContent.length,j=Math.min(r.start,v),M=r.end===void 0?j:Math.min(r.end,v);!h.extend&&j>M&&(c=M,M=j,j=c);var g=Uu(o,j),d=Uu(o,M);if(g&&d&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==d.node||h.focusOffset!==d.offset)){var y=x.createRange();y.setStart(g.node,g.offset),h.removeAllRanges(),j>M?(h.addRange(y),h.extend(d.node,d.offset)):(y.setEnd(d.node,d.offset),h.addRange(y))}}}}for(x=[],h=o;h=h.parentNode;)h.nodeType===1&&x.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<x.length;o++){var b=x[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}ps=!!Mo,zo=Mo=null}finally{I=n,W.p=l,L.T=a}}e.current=t,_e=2}}function Ah(){if(_e===2){_e=0;var e=Ea,t=Ql,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=L.T,L.T=null;var l=W.p;W.p=2;var n=I;I|=4;try{lh(e,t.alternate,t)}finally{I=n,W.p=l,L.T=a}}_e=3}}function Eh(){if(_e===4||_e===3){_e=0,_0();var e=Ea,t=Ql,a=aa,l=yh;t.subtreeFlags&10256||t.flags&10256?_e=5:(_e=0,Ql=Ea=null,Dh(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Aa=null),$o(a),t=t.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(In,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,n=W.p,W.p=2,L.T=null;try{for(var i=e.onRecoverableError,c=0;c<l.length;c++){var o=l[c];i(o.value,{componentStack:o.stack})}}finally{L.T=t,W.p=n}}aa&3&&Hs(),Lt(e),n=e.pendingLanes,a&261930&&n&42?e===Eo?zn++:(zn=0,Eo=e):zn=0,ii(0)}}function Dh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ai(t)))}function Hs(){return Th(),Ah(),Eh(),Ch()}function Ch(){if(_e!==5)return!1;var e=Ea,t=To;To=0;var a=$o(aa),l=L.T,n=W.p;try{W.p=32>a?32:a,L.T=null,a=Ao,Ao=null;var i=Ea,c=aa;if(_e=0,Ql=Ea=null,aa=0,I&6)throw Error(S(331));var o=I;if(I|=4,mh(i.current),uh(i,i.current,c,a),I=o,ii(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(In,i)}catch{}return!0}finally{W.p=n,L.T=l,Dh(e,t)}}function hd(e,t,a){t=bt(a,t),t=vo(e.stateNode,t,2),e=Ta(e,t,2),e!==null&&(Pn(e,2),Lt(e))}function ne(e,t,a){if(e.tag===3)hd(e,e,a);else for(;t!==null;){if(t.tag===3){hd(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Aa===null||!Aa.has(l))){e=bt(a,e),a=Ym(2),l=Ta(t,a,2),l!==null&&(Xm(a,l,t,e),Pn(l,2),Lt(l));break}}t=t.return}}function Ec(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ip;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(Cr=!0,n.add(a),e=up.bind(null,e,t,a),t.then(e,e))}function up(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&($&a)===a&&(Se===4||Se===3&&($&62914560)===$&&300>st()-Rs?!(I&2)&&Gl(e,0):Mr|=a,Vl===$&&(Vl=0)),Lt(e)}function Mh(e,t){t===0&&(t=Sf()),e=sl(e,t),e!==null&&(Pn(e,t),Lt(e))}function dp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Mh(e,a)}function fp(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(S(314))}l!==null&&l.delete(t),Mh(e,a)}function mp(e,t){return Zo(e,t)}var us=null,hl=null,Do=!1,ds=!1,Dc=!1,Sa=0;function Lt(e){e!==hl&&e.next===null&&(hl===null?us=hl=e:hl=hl.next=e),ds=!0,Do||(Do=!0,gp())}function ii(e,t){if(!Dc&&ds){Dc=!0;do for(var a=!1,l=us;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var c=l.suspendedLanes,o=l.pingedLanes;i=(1<<31-ot(42|e)+1)-1,i&=n&~(c&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,gd(l,i))}else i=$,i=Ns(l,l===oe?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(i&3)||Wn(l,i)||(a=!0,gd(l,i));l=l.next}while(a);Dc=!1}}function hp(){zh()}function zh(){ds=Do=!1;var e=0;Sa!==0&&Tp()&&(e=Sa);for(var t=st(),a=null,l=us;l!==null;){var n=l.next,i=Oh(l,t);i===0?(l.next=null,a===null?us=n:a.next=n,n===null&&(hl=a)):(a=l,(e!==0||i&3)&&(ds=!0)),l=n}_e!==0&&_e!==5||ii(e),Sa!==0&&(Sa=0)}function Oh(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-ot(i),o=1<<c,r=n[c];r===-1?(!(o&a)||o&l)&&(n[c]=V0(o,t)):r<=t&&(e.expiredLanes|=o),i&=~o}if(t=oe,a=$,a=Ns(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(le===2||le===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ac(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Wn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ac(l),$o(a)){case 2:case 8:a=bf;break;case 32:a=Ki;break;case 268435456:a=vf;break;default:a=Ki}return l=_h.bind(null,e),a=Zo(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ac(l),e.callbackPriority=2,e.callbackNode=null,2}function _h(e,t){if(_e!==0&&_e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Hs()&&e.callbackNode!==a)return null;var l=$;return l=Ns(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(xh(e,l,t),Oh(e,st()),e.callbackNode!=null&&e.callbackNode===a?_h.bind(null,e):null)}function gd(e,t){if(Hs())return null;xh(e,t,!0)}function gp(){Ep(function(){I&6?Zo(xf,hp):zh()})}function Or(){if(Sa===0){var e=kl;e===0&&(e=fi,fi<<=1,!(fi&261888)&&(fi=256)),Sa=e}return Sa}function yd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ei(""+e)}function pd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function yp(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=yd((n[Pe]||null).action),c=l.submitter;c&&(t=(t=c[Pe]||null)?yd(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var o=new ws("action","action",null,l,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sa!==0){var r=c?pd(n,c):new FormData(n);xo(a,{pending:!0,data:r,method:n.method,action:i},null,r)}}else typeof i=="function"&&(o.preventDefault(),r=c?pd(n,c):new FormData(n),xo(a,{pending:!0,data:r,method:n.method,action:i},i,r))},currentTarget:n}]})}}for(var Cc=0;Cc<io.length;Cc++){var Mc=io[Cc],pp=Mc.toLowerCase(),xp=Mc[0].toUpperCase()+Mc.slice(1);Dt(pp,"on"+xp)}Dt(Xf,"onAnimationEnd");Dt(Zf,"onAnimationIteration");Dt(Kf,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(Ry,"onTransitionRun");Dt(Uy,"onTransitionStart");Dt(qy,"onTransitionCancel");Dt($f,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qn));function Rh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var c=l.length-1;0<=c;c--){var o=l[c],r=o.instance,u=o.currentTarget;if(o=o.listener,r!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=u;try{i(n)}catch(f){Ji(f)}n.currentTarget=null,i=r}else for(c=0;c<l.length;c++){if(o=l[c],r=o.instance,u=o.currentTarget,o=o.listener,r!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=u;try{i(n)}catch(f){Ji(f)}n.currentTarget=null,i=r}}}}function Z(e,t){var a=t[Ic];a===void 0&&(a=t[Ic]=new Set);var l=e+"__bubble";a.has(l)||(Uh(t,e,2,!1),a.add(l))}function zc(e,t,a){var l=0;t&&(l|=4),Uh(a,e,l,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function _r(e){if(!e[ji]){e[ji]=!0,Af.forEach(function(a){a!=="selectionchange"&&(bp.has(a)||zc(a,!1,e),zc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,zc("selectionchange",!1,t))}}function Uh(e,t,a,l){switch($h(t)){case 2:var n=Kp;break;case 8:n=$p;break;default:n=Hr}a=n.bind(null,t,a,e),n=void 0,!ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Oc(e,t,a,l,n){var i=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var c=l.tag;if(c===3||c===4){var o=l.stateNode.containerInfo;if(o===n)break;if(c===4)for(c=l.return;c!==null;){var r=c.tag;if((r===3||r===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;o!==null;){if(c=pl(o),c===null)return;if(r=c.tag,r===5||r===6||r===26||r===27){l=i=c;continue e}o=o.parentNode}}l=l.return}Rf(function(){var u=i,f=Io(a),x=[];e:{var m=Jf.get(e);if(m!==void 0){var h=ws,v=e;switch(e){case"keypress":if(Ci(a)===0)break e;case"keydown":case"keyup":h=fy;break;case"focusin":v="focus",h=cc;break;case"focusout":v="blur",h=cc;break;case"beforeblur":case"afterblur":h=cc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=gy;break;case Xf:case Zf:case Kf:h=ly;break;case $f:h=py;break;case"scroll":case"scrollend":h=W0;break;case"wheel":h=by;break;case"copy":case"cut":case"paste":h=iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Eu;break;case"toggle":case"beforetoggle":h=Sy}var j=(t&4)!==0,M=!j&&(e==="scroll"||e==="scrollend"),g=j?m!==null?m+"Capture":null:m;j=[];for(var d=u,y;d!==null;){var b=d;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||g===null||(b=Rn(d,g),b!=null&&j.push(Gn(d,b,y))),M)break;d=d.return}0<j.length&&(m=new h(m,v,null,a,f),x.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&a!==to&&(v=a.relatedTarget||a.fromElement)&&(pl(v)||v[Kl]))break e;if((h||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=a.relatedTarget||a.toElement,h=u,v=v?pl(v):null,v!==null&&(M=Fn(v),j=v.tag,v!==M||j!==5&&j!==27&&j!==6)&&(v=null)):(h=null,v=u),h!==v)){if(j=Tu,b="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(j=Eu,b="onPointerLeave",g="onPointerEnter",d="pointer"),M=h==null?m:pn(h),y=v==null?m:pn(v),m=new j(b,d+"leave",h,a,f),m.target=M,m.relatedTarget=y,b=null,pl(f)===u&&(j=new j(g,d+"enter",v,a,f),j.target=y,j.relatedTarget=M,b=j),M=b,h&&v)t:{for(j=vp,g=h,d=v,y=0,b=g;b;b=j(b))y++;b=0;for(var E=d;E;E=j(E))b++;for(;0<y-b;)g=j(g),y--;for(;0<b-y;)d=j(d),b--;for(;y--;){if(g===d||d!==null&&g===d.alternate){j=g;break t}g=j(g),d=j(d)}j=null}else j=null;h!==null&&xd(x,m,h,j,!1),v!==null&&M!==null&&xd(x,M,v,j,!0)}}e:{if(m=u?pn(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var z=zu;else if(Mu(m))if(Bf)z=zy;else{z=Cy;var N=Dy}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Fo(u.elementType)&&(z=zu):z=My;if(z&&(z=z(e,u))){Lf(x,z,a,f);break e}N&&N(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&eo(m,"number",m.value)}switch(N=u?pn(u):window,e){case"focusin":(Mu(N)||N.contentEditable==="true")&&(vl=N,lo=u,jn=null);break;case"focusout":jn=lo=vl=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,qu(x,a,f);break;case"selectionchange":if(_y)break;case"keydown":case"keyup":qu(x,a,f)}var R;if(er)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else bl?Hf(e,a)&&(w="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(w="onCompositionStart");w&&(qf&&a.locale!=="ko"&&(bl||w!=="onCompositionStart"?w==="onCompositionEnd"&&bl&&(R=Uf()):(xa=f,Wo="value"in xa?xa.value:xa.textContent,bl=!0)),N=fs(u,w),0<N.length&&(w=new Au(w,e,null,a,f),x.push({event:w,listeners:N}),R?w.data=R:(R=kf(a),R!==null&&(w.data=R)))),(R=Ny?wy(e,a):Ty(e,a))&&(w=fs(u,"onBeforeInput"),0<w.length&&(N=new Au("onBeforeInput","beforeinput",null,a,f),x.push({event:N,listeners:w}),N.data=R)),yp(x,e,u,a,f)}Rh(x,t)})}function Gn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function fs(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Rn(e,a),n!=null&&l.unshift(Gn(e,n,i)),n=Rn(e,t),n!=null&&l.push(Gn(e,n,i))),e.tag===3)return l;e=e.return}return[]}function vp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xd(e,t,a,l,n){for(var i=t._reactName,c=[];a!==null&&a!==l;){var o=a,r=o.alternate,u=o.stateNode;if(o=o.tag,r!==null&&r===l)break;o!==5&&o!==26&&o!==27||u===null||(r=u,n?(u=Rn(a,i),u!=null&&c.unshift(Gn(a,u,r))):n||(u=Rn(a,i),u!=null&&c.push(Gn(a,u,r)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var Sp=/\r\n?/g,jp=/\u0000|\uFFFD/g;function bd(e){return(typeof e=="string"?e:""+e).replace(Sp,`
`).replace(jp,"")}function qh(e,t){return t=bd(t),bd(e)===t}function ie(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Hl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Hl(e,""+l);break;case"className":gi(e,"class",l);break;case"tabIndex":gi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,a,l);break;case"style":_f(e,l,i);break;case"data":if(t!=="object"){gi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ei(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&ie(e,t,"name",n.name,n,null),ie(e,t,"formEncType",n.formEncType,n,null),ie(e,t,"formMethod",n.formMethod,n,null),ie(e,t,"formTarget",n.formTarget,n,null)):(ie(e,t,"encType",n.encType,n,null),ie(e,t,"method",n.method,n,null),ie(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ei(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=It);break;case"onScroll":l!=null&&Z("scroll",e);break;case"onScrollEnd":l!=null&&Z("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(S(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ei(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Z("beforetoggle",e),Z("toggle",e),Ai(e,"popover",l);break;case"xlinkActuate":Vt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ai(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=F0.get(a)||a,Ai(e,a,l))}}function Co(e,t,a,l,n,i){switch(a){case"style":_f(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(S(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Hl(e,l):(typeof l=="number"||typeof l=="bigint")&&Hl(e,""+l);break;case"onScroll":l!=null&&Z("scroll",e);break;case"onScrollEnd":l!=null&&Z("scrollend",e);break;case"onClick":l!=null&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ef.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[Pe]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ai(e,a,l)}}}function Ge(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Z("error",e),Z("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:ie(e,t,i,c,a,null)}}n&&ie(e,t,"srcSet",a.srcSet,a,null),l&&ie(e,t,"src",a.src,a,null);return;case"input":Z("invalid",e);var o=i=c=n=null,r=null,u=null;for(l in a)if(a.hasOwnProperty(l)){var f=a[l];if(f!=null)switch(l){case"name":n=f;break;case"type":c=f;break;case"checked":r=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(S(137,t));break;default:ie(e,t,l,f,a,null)}}Mf(e,i,o,r,u,c,n,!1);return;case"select":Z("invalid",e),l=c=i=null;for(n in a)if(a.hasOwnProperty(n)&&(o=a[n],o!=null))switch(n){case"value":i=o;break;case"defaultValue":c=o;break;case"multiple":l=o;default:ie(e,t,n,o,a,null)}t=i,a=c,e.multiple=!!l,t!=null?Dl(e,!!l,t,!1):a!=null&&Dl(e,!!l,a,!0);return;case"textarea":Z("invalid",e),i=n=l=null;for(c in a)if(a.hasOwnProperty(c)&&(o=a[c],o!=null))switch(c){case"value":l=o;break;case"defaultValue":n=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(S(91));break;default:ie(e,t,c,o,a,null)}Of(e,l,n,i);return;case"option":for(r in a)if(a.hasOwnProperty(r)&&(l=a[r],l!=null))switch(r){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ie(e,t,r,l,a,null)}return;case"dialog":Z("beforetoggle",e),Z("toggle",e),Z("cancel",e),Z("close",e);break;case"iframe":case"object":Z("load",e);break;case"video":case"audio":for(l=0;l<Qn.length;l++)Z(Qn[l],e);break;case"image":Z("error",e),Z("load",e);break;case"details":Z("toggle",e);break;case"embed":case"source":case"link":Z("error",e),Z("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(l=a[u],l!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:ie(e,t,u,l,a,null)}return;default:if(Fo(t)){for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!==void 0&&Co(e,t,f,l,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(l=a[o],l!=null&&ie(e,t,o,l,a,null))}function Np(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,o=null,r=null,u=null,f=null;for(h in a){var x=a[h];if(a.hasOwnProperty(h)&&x!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":r=x;default:l.hasOwnProperty(h)||ie(e,t,h,null,l,x)}}for(var m in l){var h=l[m];if(x=a[m],l.hasOwnProperty(m)&&(h!=null||x!=null))switch(m){case"type":i=h;break;case"name":n=h;break;case"checked":u=h;break;case"defaultChecked":f=h;break;case"value":c=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(S(137,t));break;default:h!==x&&ie(e,t,m,h,l,x)}}Pc(e,c,o,r,u,f,i,n);return;case"select":h=c=o=m=null;for(i in a)if(r=a[i],a.hasOwnProperty(i)&&r!=null)switch(i){case"value":break;case"multiple":h=r;default:l.hasOwnProperty(i)||ie(e,t,i,null,l,r)}for(n in l)if(i=l[n],r=a[n],l.hasOwnProperty(n)&&(i!=null||r!=null))switch(n){case"value":m=i;break;case"defaultValue":o=i;break;case"multiple":c=i;default:i!==r&&ie(e,t,n,i,l,r)}t=o,a=c,l=h,m!=null?Dl(e,!!a,m,!1):!!l!=!!a&&(t!=null?Dl(e,!!a,t,!0):Dl(e,!!a,a?[]:"",!1));return;case"textarea":h=m=null;for(o in a)if(n=a[o],a.hasOwnProperty(o)&&n!=null&&!l.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ie(e,t,o,null,l,n)}for(c in l)if(n=l[c],i=a[c],l.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":m=n;break;case"defaultValue":h=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(S(91));break;default:n!==i&&ie(e,t,c,n,l,i)}zf(e,m,h);return;case"option":for(var v in a)if(m=a[v],a.hasOwnProperty(v)&&m!=null&&!l.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:ie(e,t,v,null,l,m)}for(r in l)if(m=l[r],h=a[r],l.hasOwnProperty(r)&&m!==h&&(m!=null||h!=null))switch(r){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ie(e,t,r,m,l,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var j in a)m=a[j],a.hasOwnProperty(j)&&m!=null&&!l.hasOwnProperty(j)&&ie(e,t,j,null,l,m);for(u in l)if(m=l[u],h=a[u],l.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(S(137,t));break;default:ie(e,t,u,m,l,h)}return;default:if(Fo(t)){for(var M in a)m=a[M],a.hasOwnProperty(M)&&m!==void 0&&!l.hasOwnProperty(M)&&Co(e,t,M,void 0,l,m);for(f in l)m=l[f],h=a[f],!l.hasOwnProperty(f)||m===h||m===void 0&&h===void 0||Co(e,t,f,m,l,h);return}}for(var g in a)m=a[g],a.hasOwnProperty(g)&&m!=null&&!l.hasOwnProperty(g)&&ie(e,t,g,null,l,m);for(x in l)m=l[x],h=a[x],!l.hasOwnProperty(x)||m===h||m==null&&h==null||ie(e,t,x,m,l,h)}function vd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,c=n.initiatorType,o=n.duration;if(i&&o&&vd(c)){for(c=0,o=n.responseEnd,l+=1;l<a.length;l++){var r=a[l],u=r.startTime;if(u>o)break;var f=r.transferSize,x=r.initiatorType;f&&vd(x)&&(r=r.responseEnd,c+=f*(r<o?1:(o-u)/(r-u)))}if(--l,t+=8*(i+c)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Mo=null,zo=null;function ms(e){return e.nodeType===9?e:e.ownerDocument}function Sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Oo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _c=null;function Tp(){var e=window.event;return e&&e.type==="popstate"?e===_c?!1:(_c=e,!0):(_c=null,!1)}var kh=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,Ep=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(Dp)}:kh;function Dp(e){setTimeout(function(){throw e})}function qa(e){return e==="head"}function Nd(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),Xl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")On(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,On(a);for(var i=a.firstChild;i;){var c=i.nextSibling,o=i.nodeName;i[ei]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=c}}else a==="body"&&On(e.ownerDocument.body);a=n}while(a);Xl(t)}function wd(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function _o(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_o(a),Jo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Cp(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ei])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function Mp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jt(e.nextSibling),e===null))return null;return e}function Lh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jt(e.nextSibling),e===null))return null;return e}function Ro(e){return e.data==="$?"||e.data==="$~"}function Uo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var qo=null;function Td(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return jt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Bh(e,t,a){switch(t=ms(a),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function On(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jo(e)}var Nt=new Map,Ed=new Set;function hs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oa=W.d;W.d={f:Op,r:_p,D:Rp,C:Up,L:qp,m:Hp,X:Lp,S:kp,M:Bp};function Op(){var e=oa.f(),t=Us();return e||t}function _p(e){var t=$l(e);t!==null&&t.tag===5&&t.type==="form"?_m(t):oa.r(e)}var Wl=typeof document>"u"?null:document;function Vh(e,t,a){var l=Wl;if(l&&typeof t=="string"&&t){var n=xt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Ed.has(n)||(Ed.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Ge(t,"link",e),qe(t),l.head.appendChild(t)))}}function Rp(e){oa.D(e),Vh("dns-prefetch",e,null)}function Up(e,t){oa.C(e,t),Vh("preconnect",e,t)}function qp(e,t,a){oa.L(e,t,a);var l=Wl;if(l&&e&&t){var n='link[rel="preload"][as="'+xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+xt(a.imageSizes)+'"]')):n+='[href="'+xt(e)+'"]';var i=n;switch(t){case"style":i=Yl(e);break;case"script":i=Pl(e)}Nt.has(i)||(e=he({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Nt.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(si(i))||t==="script"&&l.querySelector(ci(i))||(t=l.createElement("link"),Ge(t,"link",e),qe(t),l.head.appendChild(t)))}}function Hp(e,t){oa.m(e,t);var a=Wl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pl(e)}if(!Nt.has(i)&&(e=he({rel:"modulepreload",href:e},t),Nt.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ci(i)))return}l=a.createElement("link"),Ge(l,"link",e),qe(l),a.head.appendChild(l)}}}function kp(e,t,a){oa.S(e,t,a);var l=Wl;if(l&&e){var n=El(l).hoistableStyles,i=Yl(e);t=t||"default";var c=n.get(i);if(!c){var o={loading:0,preload:null};if(c=l.querySelector(si(i)))o.loading=5;else{e=he({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Nt.get(i))&&Rr(e,a);var r=c=l.createElement("link");qe(r),Ge(r,"link",e),r._p=new Promise(function(u,f){r.onload=u,r.onerror=f}),r.addEventListener("load",function(){o.loading|=1}),r.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Hi(c,t,l)}c={type:"stylesheet",instance:c,count:1,state:o},n.set(i,c)}}}function Lp(e,t){oa.X(e,t);var a=Wl;if(a&&e){var l=El(a).hoistableScripts,n=Pl(e),i=l.get(n);i||(i=a.querySelector(ci(n)),i||(e=he({src:e,async:!0},t),(t=Nt.get(n))&&Ur(e,t),i=a.createElement("script"),qe(i),Ge(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Bp(e,t){oa.M(e,t);var a=Wl;if(a&&e){var l=El(a).hoistableScripts,n=Pl(e),i=l.get(n);i||(i=a.querySelector(ci(n)),i||(e=he({src:e,async:!0,type:"module"},t),(t=Nt.get(n))&&Ur(e,t),i=a.createElement("script"),qe(i),Ge(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Dd(e,t,a,l){var n=(n=ja.current)?hs(n):null;if(!n)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Yl(a.href),a=El(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Yl(a.href);var i=El(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(si(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Nt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nt.set(e,a),i||Vp(n,e,a,c.state))),t&&l===null)throw Error(S(528,""));return c}if(t&&l!==null)throw Error(S(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pl(a),a=El(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function Yl(e){return'href="'+xt(e)+'"'}function si(e){return'link[rel="stylesheet"]['+e+"]"}function Qh(e){return he({},e,{"data-precedence":e.precedence,precedence:null})}function Vp(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ge(t,"link",a),qe(t),e.head.appendChild(t))}function Pl(e){return'[src="'+xt(e)+'"]'}function ci(e){return"script[async]"+e}function Cd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return t.instance=l,qe(l),l;var n=he({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),qe(l),Ge(l,"style",n),Hi(l,a.precedence,e),t.instance=l;case"stylesheet":n=Yl(a.href);var i=e.querySelector(si(n));if(i)return t.state.loading|=4,t.instance=i,qe(i),i;l=Qh(a),(n=Nt.get(n))&&Rr(l,n),i=(e.ownerDocument||e).createElement("link"),qe(i);var c=i;return c._p=new Promise(function(o,r){c.onload=o,c.onerror=r}),Ge(i,"link",l),t.state.loading|=4,Hi(i,a.precedence,e),t.instance=i;case"script":return i=Pl(a.src),(n=e.querySelector(ci(i)))?(t.instance=n,qe(n),n):(l=a,(n=Nt.get(i))&&(l=he({},a),Ur(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),qe(n),Ge(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(l=t.instance,t.state.loading|=4,Hi(l,a.precedence,e));return t.instance}function Hi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,c=0;c<l.length;c++){var o=l[c];if(o.dataset.precedence===t)i=o;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Rr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ur(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ki=null;function Md(e,t,a){if(ki===null){var l=new Map,n=ki=new Map;n.set(a,l)}else n=ki,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[ei]||i[Be]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var o=l.get(c);o?o.push(i):l.set(c,[i])}}return l}function zd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Qp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gh(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Gp(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var n=Yl(l.href),i=t.querySelector(si(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=gs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,qe(i);return}i=t.ownerDocument||t,l=Qh(l),(n=Nt.get(n))&&Rr(l,n),i=i.createElement("link"),qe(i);var c=i;c._p=new Promise(function(o,r){c.onload=o,c.onerror=r}),Ge(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=gs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Rc=0;function Yp(e,t){return e.stylesheets&&e.count===0&&Li(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Li(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Rc===0&&(Rc=62500*wp());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Li(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Rc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function gs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Li(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ys=null;function Li(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ys=new Map,t.forEach(Xp,e),ys=null,gs.call(e))}function Xp(e,t){if(!(t.state.loading&4)){var a=ys.get(e);if(a)var l=a.get(null);else{a=new Map,ys.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),l=c)}l&&a.set(null,l)}n=t.instance,c=n.getAttribute("data-precedence"),i=a.get(c)||l,i===l&&a.set(null,n),a.set(c,n),this.count++,l=gs.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Yn={$$typeof:Ft,Provider:null,Consumer:null,_currentValue:Xa,_currentValue2:Xa,_threadCount:0};function Zp(e,t,a,l,n,i,c,o,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.hiddenUpdates=lc(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function Yh(e,t,a,l,n,i,c,o,r,u,f,x){return e=new Zp(e,t,a,c,r,u,f,x,o),t=1,i===!0&&(t|=24),i=nt(3,null,null,t),e.current=i,i.stateNode=e,t=cr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},ur(i),e}function Xh(e){return e?(e=Nl,e):Nl}function Zh(e,t,a,l,n,i){n=Xh(n),l.context===null?l.context=n:l.pendingContext=n,l=wa(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Ta(e,l,t),a!==null&&(We(a,e,t),wn(a,e,t))}function Od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function qr(e,t){Od(e,t),(e=e.alternate)&&Od(e,t)}function Kh(e){if(e.tag===13||e.tag===31){var t=sl(e,67108864);t!==null&&We(t,e,67108864),qr(e,67108864)}}function _d(e){if(e.tag===13||e.tag===31){var t=rt();t=Ko(t);var a=sl(e,t);a!==null&&We(a,e,t),qr(e,t)}}var ps=!0;function Kp(e,t,a,l){var n=L.T;L.T=null;var i=W.p;try{W.p=2,Hr(e,t,a,l)}finally{W.p=i,L.T=n}}function $p(e,t,a,l){var n=L.T;L.T=null;var i=W.p;try{W.p=8,Hr(e,t,a,l)}finally{W.p=i,L.T=n}}function Hr(e,t,a,l){if(ps){var n=Ho(l);if(n===null)Oc(e,t,l,xs,a),Rd(e,l);else if(Fp(n,e,t,a,l))l.stopPropagation();else if(Rd(e,l),t&4&&-1<Jp.indexOf(e)){for(;n!==null;){var i=$l(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Va(i.pendingLanes);if(c!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var r=1<<31-ot(c);o.entanglements[1]|=r,c&=~r}Lt(i),!(I&6)&&(cs=st()+500,ii(0))}}break;case 31:case 13:o=sl(i,2),o!==null&&We(o,i,2),Us(),qr(i,2)}if(i=Ho(l),i===null&&Oc(e,t,l,xs,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Oc(e,t,l,null,a)}}function Ho(e){return e=Io(e),kr(e)}var xs=null;function kr(e){if(xs=null,e=pl(e),e!==null){var t=Fn(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=mf(t),e!==null)return e;e=null}else if(a===31){if(e=hf(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xs=e,null}function $h(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(R0()){case xf:return 2;case bf:return 8;case Ki:case U0:return 32;case vf:return 268435456;default:return 32}default:return 32}}var ko=!1,Da=null,Ca=null,Ma=null,Xn=new Map,Zn=new Map,ya=[],Jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rd(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function hn(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=$l(t),t!==null&&Kh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Fp(e,t,a,l,n){switch(t){case"focusin":return Da=hn(Da,e,t,a,l,n),!0;case"dragenter":return Ca=hn(Ca,e,t,a,l,n),!0;case"mouseover":return Ma=hn(Ma,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return Xn.set(i,hn(Xn.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Zn.set(i,hn(Zn.get(i)||null,e,t,a,l,n)),!0}return!1}function Jh(e){var t=pl(e.target);if(t!==null){var a=Fn(t);if(a!==null){if(t=a.tag,t===13){if(t=mf(a),t!==null){e.blockedOn=t,xu(e.priority,function(){_d(a)});return}}else if(t===31){if(t=hf(a),t!==null){e.blockedOn=t,xu(e.priority,function(){_d(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ho(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);to=l,a.target.dispatchEvent(l),to=null}else return t=$l(a),t!==null&&Kh(t),e.blockedOn=a,!1;t.shift()}return!0}function Ud(e,t,a){Bi(e)&&a.delete(t)}function Ip(){ko=!1,Da!==null&&Bi(Da)&&(Da=null),Ca!==null&&Bi(Ca)&&(Ca=null),Ma!==null&&Bi(Ma)&&(Ma=null),Xn.forEach(Ud),Zn.forEach(Ud)}function Ni(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Ip)))}var wi=null;function qd(e){wi!==e&&(wi=e,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){wi===e&&(wi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(kr(l||a)===null)continue;break}var i=$l(a);i!==null&&(e.splice(t,3),t-=3,xo(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Xl(e){function t(r){return Ni(r,e)}Da!==null&&Ni(Da,e),Ca!==null&&Ni(Ca,e),Ma!==null&&Ni(Ma,e),Xn.forEach(t),Zn.forEach(t);for(var a=0;a<ya.length;a++){var l=ya[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ya.length&&(a=ya[0],a.blockedOn===null);)Jh(a),a.blockedOn===null&&ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],c=n[Pe]||null;if(typeof i=="function")c||qd(a);else if(c){var o=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[Pe]||null)o=c.formAction;else if(kr(n)!==null)continue}else o=c.action;typeof o=="function"?a[l+1]=o:(a.splice(l,3),l-=3),qd(a)}}}function Fh(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return n=c})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Lr(e){this._internalRoot=e}ks.prototype.render=Lr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var a=t.current,l=rt();Zh(a,l,e,t,null,null)};ks.prototype.unmount=Lr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zh(e.current,2,null,e,null,null),Us(),t[Kl]=null}};function ks(e){this._internalRoot=e}ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ya.length&&t!==0&&t<ya[a].priority;a++);ya.splice(a,0,e),a===0&&Jh(e)}};var Hd=df.version;if(Hd!=="19.2.3")throw Error(S(527,Hd,"19.2.3"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=E0(t),e=e!==null?gf(e):null,e=e===null?null:e.stateNode,e};var Wp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{In=Ti.inject(Wp),ct=Ti}catch{}}js.createRoot=function(e,t){if(!ff(e))throw Error(S(299));var a=!1,l="",n=Vm,i=Qm,c=Gm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Yh(e,1,!1,null,null,a,l,null,n,i,c,Fh),e[Kl]=t.current,_r(e),new Lr(t)};js.hydrateRoot=function(e,t,a){if(!ff(e))throw Error(S(299));var l=!1,n="",i=Vm,c=Qm,o=Gm,r=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(r=a.formState)),t=Yh(e,1,!0,t,a??null,l,n,r,i,c,o,Fh),t.context=Xh(null),a=t.current,l=rt(),l=Ko(l),n=wa(l),n.callback=null,Ta(a,n,l),a=l,t.current.lanes=a,Pn(t,a),Lt(t),e[Kl]=t.current,_r(e),new ks(t)};js.version="19.2.3";function Ih(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ih)}catch(e){console.error(e)}}Ih(),of.exports=js;var Pp=of.exports;const ex="modulepreload",tx=function(e){return"/"+e},kd={},je=function(t,a,l){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),o=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=Promise.allSettled(a.map(r=>{if(r=tx(r),r in kd)return;kd[r]=!0;const u=r.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${f}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":ex,u||(x.as="script"),x.crossOrigin="",x.href=r,o&&x.setAttribute("nonce",o),document.head.appendChild(x),u)return new Promise((m,h)=>{x.addEventListener("load",m),x.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})}))}function i(c){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c}return n.then(c=>{for(const o of c||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},ax={apiKey:"AIzaSyAh1eF1NFXUzCSPppycYjqeWGrSj1fGJj0",authDomain:"kepler-omega-dd495.firebaseapp.com",projectId:"kepler-omega-dd495",storageBucket:"kepler-omega-dd495.appspot.com",messagingSenderId:"110852541952",appId:"1:110852541952:web:dcc1b0bbeb4dfabd1552e5",measurementId:"G-V4T01YLVWT"},Br=Vg(ax),T=Qg(Br),ft=ef(Br);Gg(Br);const ye={TECHNICIAN:"technician",SUPER_ADMIN:"superAdmin",CUSTOMER:"customer"},Ov=async(e,t,a,l)=>{let n=null;try{n=(await Bo(ft,e,t)).user,await vs(n,{displayName:a});try{if(await Et(V(T,"users",n.uid),{uid:n.uid,email:e,fullName:a,phoneNumber:l||"",role:ye.TECHNICIAN,createdAt:new Date().toISOString()}),!(await Rl(V(T,"users",n.uid))).exists())throw new Error("Firestore document verification failed");return{success:!0,user:n}}catch(c){return n&&await n.delete(),{success:!1,error:`chec de la cration du profil utilisateur: ${c.message}`}}}catch(i){return{success:!1,error:`chec de la cration du compte: ${i.message}`}}},_v=async(e,t)=>{try{return{success:!0,user:(await Jn(ft,e,t)).user}}catch(a){return{success:!1,error:a.message}}},Wh=async()=>{try{return await Kg(ft),{success:!0}}catch(e){return{success:!1,error:e.message}}},Rv=async e=>{try{return await Yg(ft,e),{success:!0}}catch(t){return{success:!1,error:t.message}}},Uv=async(e,t)=>{try{const a=ft.currentUser;if(!a)throw new Error("No user is signed in");return await vs(a,{displayName:e}),await Et(V(T,"users",a.uid),{fullName:e,phoneNumber:t||"",updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(a){return{success:!1,error:a.message}}},qv=async(e,t)=>{try{const a=ft.currentUser;if(!a||!a.email)throw new Error("No user is signed in");return await Jn(ft,a.email,t),await Xg(a,e),await Et(V(T,"users",a.uid),{email:e,updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(a){return{success:!1,error:a.message}}},Hv=async(e,t)=>{try{const a=ft.currentUser;if(!a||!a.email)throw new Error("No user is signed in");return await Jn(ft,a.email,e),await Zg(a,t),{success:!0}}catch(a){return{success:!1,error:a.message}}},lx=async e=>{try{const t=await Rl(V(T,"users",e));return t.exists()?t.data().role:(await Rl(V(T,"customer_profiles",e))).exists()?ye.CUSTOMER:null}catch(t){return console.error("Error getting user role:",t),null}},kv=async()=>{try{const e=be(B(T,"users"),ve("role","==",ye.TECHNICIAN));return(await ae(e)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error getting technicians:",e),[]}},Lv=async(e,t)=>{try{return await Et(V(T,"users",e),{role:t,updatedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(a){return{success:!1,error:a.message}}},Bv=async(e,t,a,l,n)=>{let i=null,c=null;try{if(n)if(c=await sx(n),c)!e&&c.email&&(e=c.email),!a&&c.name&&(a=c.name),!l&&c.phone&&(l=c.phone);else return{success:!1,error:"Code d'accs client invalide"};else c=await nx(e,l);i=(await Bo(ft,e,t)).user,await vs(i,{displayName:a});try{const r={id:i.uid,email:e,fullName:a,phoneNumber:l||"",preferredLanguage:"fr",notificationPreferences:{pushEnabled:!1,emailEnabled:!0,smsEnabled:!1},fcmTokens:[],createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()};if(c&&(r.linkedClientId=c.id,r.linkedAt=new Date().toISOString()),await Et(V(T,"customer_profiles",i.uid),r),c&&await ix(c.id,i.uid),!(await Rl(V(T,"customer_profiles",i.uid))).exists())throw new Error("Customer profile document verification failed");return{success:!0,user:i,linkedClient:c||null}}catch(r){return i&&await i.delete(),{success:!1,error:`chec de la cration du compte client: ${r.message}`}}}catch(o){return{success:!1,error:`chec de la cration du compte: ${o.message}`}}},Vv=async(e,t)=>{try{const a=await Jn(ft,e,t);return await Et(V(T,"customer_profiles",a.user.uid),{lastLoginAt:new Date().toISOString()},{merge:!0}),{success:!0,user:a.user}}catch(a){return{success:!1,error:a.message}}},nx=async(e,t)=>{try{const a=be(B(T,"clients"),ve("email","==",e)),l=await ae(a);if(!l.empty){const n=l.docs[0];return{id:n.id,...n.data(),matchType:"email"}}if(t){const n=be(B(T,"clients"),ve("phone","==",t)),i=await ae(n);if(!i.empty){const c=i.docs[0];return{id:c.id,...c.data(),matchType:"phone"}}}return null}catch(a){return console.error("Error finding client:",a),null}},ix=async(e,t)=>{try{return await Et(V(T,"clients",e),{linkedCustomerId:t,linkedAt:new Date().toISOString()},{merge:!0}),await Et(V(T,"customer_profiles",t),{linkedClientId:e,linkedAt:new Date().toISOString()},{merge:!0}),{success:!0}}catch(a){return console.error("Error linking client to customer:",a),{success:!1,error:a.message}}},Qv=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let a=0;a<6;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},sx=async e=>{try{const t=be(B(T,"clients"),ve("customerCode","==",e)),a=await ae(t);if(!a.empty){const l=a.docs[0],n=l.data();return{id:l.id,name:n.name||"",email:n.email||"",phone:n.phone||"",...n}}return null}catch(t){return console.error("Error finding client by code:",t),null}},cx=async()=>{try{const e="othsma@gmail.com",t=B(T,"users"),a=be(t,ve("email","==",e));if((await ae(a)).empty)try{const i=(await Bo(ft,e,"Egnirf999@")).user;await vs(i,{displayName:"Othsma"}),await Et(V(T,"users",i.uid),{uid:i.uid,email:e,fullName:"Othsma",phoneNumber:"0033767695290",role:ye.SUPER_ADMIN,createdAt:new Date().toISOString()})}catch(n){if(n.code==="auth/email-already-in-use")try{const c=(await Jn(ft,e,"Egnirf999@")).user;await Et(V(T,"users",c.uid),{uid:c.uid,email:e,fullName:"Othsma",phoneNumber:"0033767695290",role:ye.SUPER_ADMIN,createdAt:new Date().toISOString()})}catch(i){console.error("Error signing in as super admin:",i)}else console.error("Error creating super admin:",n)}}catch(e){console.error("Error initializing super admin:",e)}},Ha=Ht(e=>({isDarkMode:!1,toggleDarkMode:()=>e(t=>({isDarkMode:!t.isDarkMode}))}));Ht(e=>({language:"en",setLanguage:t=>e({language:t}),sidebarCollapsed:!1,toggleSidebar:()=>e(t=>({sidebarCollapsed:!t.sidebarCollapsed}))}));const Zl=Ht(e=>({user:null,userRole:null,userProfile:null,loading:!0,error:null,initialized:!1,setUser:t=>e({user:t}),setUserRole:t=>e({userRole:t}),setUserProfile:t=>e({userProfile:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setInitialized:t=>e({initialized:t}),clearError:()=>e({error:null}),logout:()=>e({user:null,userRole:null,userProfile:null})})),Ph=Ht(e=>({clients:[],loading:!1,error:null,searchQuery:"",setSearchQuery:t=>e({searchQuery:t}),fetchClients:async()=>{e({loading:!0,error:null});try{const t=B(T,"clients"),l=(await ae(t)).docs.map(n=>{var i;return{id:n.id,...n.data(),createdAt:((i=n.data().createdAt)==null?void 0:i.toDate().toISOString())||new Date().toISOString()}});e({clients:l,loading:!1})}catch(t){console.error("Error fetching clients:",t),e({error:"Failed to fetch clients",loading:!1})}},addClient:async t=>{e({loading:!0,error:null});try{const a={...t,createdAt:At()},l=await pt(B(T,"clients"),a),n={id:l.id,...t,createdAt:new Date().toISOString()};return e(i=>({clients:[...i.clients,n],loading:!1})),l.id}catch(a){return console.error("Error adding client:",a),e({error:"Failed to add client",loading:!1}),""}},updateClient:async(t,a)=>{e({loading:!0,error:null});try{const l=V(T,"clients",t);await Le(l,a),e(n=>({clients:n.clients.map(i=>i.id===t?{...i,...a}:i),loading:!1}))}catch(l){console.error("Error updating client:",l),e({error:"Failed to update client",loading:!1})}},deleteClient:async t=>{e({loading:!0,error:null});try{await Ot(V(T,"clients",t)),e(a=>({clients:a.clients.filter(l=>l.id!==t),loading:!1}))}catch(a){console.error("Error deleting client:",a),e({error:"Failed to delete client",loading:!1})}}})),ox=()=>{const e=new Date().toLocaleString("en-US",{month:"short"}).toLowerCase(),t=Math.floor(1e3+Math.random()*9e3);return`${e}${t}`},eg=Ht((e,t)=>({tickets:[],settings:{deviceTypes:[],brands:[],models:[],tasks:[]},loading:!1,error:null,filterStatus:"all",setFilterStatus:a=>e({filterStatus:a}),fetchTickets:async()=>{e({loading:!0,error:null});try{const a=Zl.getState().userRole,l=Zl.getState().user;let n;a===ye.TECHNICIAN&&l?n=be(B(T,"tickets"),ve("technicianId","==",l.uid)):n=B(T,"tickets");const c=(await ae(n)).docs.map(o=>{var u,f;const r=o.data();return{id:o.id,...r,createdAt:((u=r.createdAt)==null?void 0:u.toDate().toISOString())||new Date().toISOString(),updatedAt:((f=r.updatedAt)==null?void 0:f.toDate().toISOString())||new Date().toISOString()}});e({tickets:c,loading:!1})}catch(a){console.error("Error fetching tickets:",a),e({error:"Failed to fetch tickets",loading:!1})}},fetchTechnicianTickets:async a=>{e({loading:!0,error:null});try{const l=be(B(T,"tickets"),ve("technicianId","==",a)),i=(await ae(l)).docs.map(c=>{var r,u;const o=c.data();return{id:c.id,...o,createdAt:((r=o.createdAt)==null?void 0:r.toDate().toISOString())||new Date().toISOString(),updatedAt:((u=o.updatedAt)==null?void 0:u.toDate().toISOString())||new Date().toISOString()}});e({tickets:i,loading:!1})}catch(l){console.error("Error fetching technician tickets:",l),e({error:"Failed to fetch technician tickets",loading:!1})}},fetchSettings:async()=>{e({loading:!0,error:null});try{const l=(await ae(B(T,"settings","ticket","deviceTypes"))).docs.map(f=>f.data().name),i=(await ae(B(T,"settings","ticket","brands"))).docs.map(f=>f.data().name),o=(await ae(B(T,"settings","ticket","models"))).docs.map(f=>({id:f.id,name:f.data().name,brandId:f.data().brandId})),u=(await ae(B(T,"settings","ticket","tasks"))).docs.map(f=>f.data().name);e({settings:{deviceTypes:l,brands:i,models:o,tasks:u},loading:!1})}catch(a){console.error("Error fetching settings:",a),e({error:"Failed to fetch settings",loading:!1})}},addTicket:async a=>{e({loading:!0,error:null});try{const l=ox(),n={...a,ticketNumber:l,createdAt:At(),updatedAt:At()},c={id:(await pt(B(T,"tickets"),n)).id,ticketNumber:l,...a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(o=>({tickets:[...o.tickets,c],loading:!1})),l}catch(l){return console.error("Error adding ticket:",l),e({error:"Failed to add ticket",loading:!1}),""}},updateTicket:async(a,l)=>{e({loading:!0,error:null});try{const n=V(T,"tickets",a),i={...l,updatedAt:At()};await Le(n,i),e(c=>({tickets:c.tickets.map(o=>o.id===a?{...o,...l,updatedAt:new Date().toISOString()}:o),loading:!1}))}catch(n){console.error("Error updating ticket:",n),e({error:"Failed to update ticket",loading:!1})}},assignTicket:async(a,l)=>{e({loading:!0,error:null});try{const n=V(T,"tickets",a),i={technicianId:l,updatedAt:At()};await Le(n,i),e(c=>({tickets:c.tickets.map(o=>o.id===a?{...o,technicianId:l,updatedAt:new Date().toISOString()}:o),loading:!1}))}catch(n){console.error("Error assigning ticket:",n),e({error:"Failed to assign ticket",loading:!1})}},deleteTicket:async a=>{e({loading:!0,error:null});try{await Ot(V(T,"tickets",a)),e(l=>({tickets:l.tickets.filter(n=>n.id!==a),loading:!1}))}catch(l){console.error("Error deleting ticket:",l),e({error:"Failed to delete ticket",loading:!1})}},addDeviceType:async a=>{const l=t();try{e(n=>({settings:{...n.settings,deviceTypes:[...n.settings.deviceTypes,a]}})),await pt(B(T,"settings","ticket","deviceTypes"),{name:a})}catch(n){console.error("Error adding device type:",n),e({settings:l.settings,error:"Failed to add device type"})}},removeDeviceType:async a=>{try{const l=B(T,"settings","ticket","deviceTypes"),n=be(l,ve("name","==",a));(await ae(n)).forEach(async c=>{await Ot(V(T,"settings","ticket","deviceTypes",c.id))}),e(c=>({settings:{...c.settings,deviceTypes:c.settings.deviceTypes.filter(o=>o!==a)}}))}catch(l){console.error("Error removing device type:",l),e({error:"Failed to remove device type"})}},updateDeviceType:async(a,l)=>{try{const n=B(T,"settings","ticket","deviceTypes"),i=be(n,ve("name","==",a));(await ae(i)).forEach(async o=>{await Le(V(T,"settings","ticket","deviceTypes",o.id),{name:l})}),e(o=>({settings:{...o.settings,deviceTypes:o.settings.deviceTypes.map(r=>r===a?l:r)}}))}catch(n){console.error("Error updating device type:",n),e({error:"Failed to update device type"})}},addBrand:async a=>{const l=t();try{e(n=>({settings:{...n.settings,brands:[...n.settings.brands,a]}})),await pt(B(T,"settings","ticket","brands"),{name:a})}catch(n){console.error("Error adding brand:",n),e({settings:l.settings,error:"Failed to add brand"})}},removeBrand:async a=>{try{const l=B(T,"settings","ticket","brands"),n=be(l,ve("name","==",a));(await ae(n)).forEach(async u=>{await Ot(V(T,"settings","ticket","brands",u.id))});const c=B(T,"settings","ticket","models"),o=be(c,ve("brandId","==",a));(await ae(o)).forEach(async u=>{await Ot(V(T,"settings","ticket","models",u.id))}),e(u=>({settings:{...u.settings,brands:u.settings.brands.filter(f=>f!==a),models:u.settings.models.filter(f=>f.brandId!==a)}}))}catch(l){console.error("Error removing brand:",l),e({error:"Failed to remove brand"})}},updateBrand:async(a,l)=>{try{const n=B(T,"settings","ticket","brands"),i=be(n,ve("name","==",a));(await ae(i)).forEach(async f=>{await Le(V(T,"settings","ticket","brands",f.id),{name:l})});const o=B(T,"settings","ticket","models"),r=be(o,ve("brandId","==",a));(await ae(r)).forEach(async f=>{await Le(V(T,"settings","ticket","models",f.id),{brandId:l})}),e(f=>({settings:{...f.settings,brands:f.settings.brands.map(x=>x===a?l:x),models:f.settings.models.map(x=>x.brandId===a?{...x,brandId:l}:x)}}))}catch(n){console.error("Error updating brand:",n),e({error:"Failed to update brand"})}},addModel:async a=>{const l=t();try{const n=`temp-${Date.now()}`;e(c=>({settings:{...c.settings,models:[...c.settings.models,{...a,id:n}]}}));const i=await pt(B(T,"settings","ticket","models"),a);e(c=>({settings:{...c.settings,models:c.settings.models.map(o=>o.id===n?{...a,id:i.id}:o)}}))}catch(n){console.error("Error adding model:",n),e({settings:l.settings,error:"Failed to add model"})}},removeModel:async a=>{try{await Ot(V(T,"settings","ticket","models",a)),e(l=>({settings:{...l.settings,models:l.settings.models.filter(n=>n.id!==a)}}))}catch(l){console.error("Error removing model:",l),e({error:"Failed to remove model"})}},updateModel:async(a,l)=>{try{await Le(V(T,"settings","ticket","models",a),{name:l}),e(n=>({settings:{...n.settings,models:n.settings.models.map(i=>i.id===a?{...i,name:l}:i)}}))}catch(n){console.error("Error updating model:",n),e({error:"Failed to update model"})}},addTask:async a=>{const l=t();try{e(n=>({settings:{...n.settings,tasks:[...n.settings.tasks,a]}})),await pt(B(T,"settings","ticket","tasks"),{name:a})}catch(n){console.error("Error adding task:",n),e({settings:l.settings,error:"Failed to add task"})}},removeTask:async a=>{try{const l=B(T,"settings","ticket","tasks"),n=be(l,ve("name","==",a));(await ae(n)).forEach(async c=>{await Ot(V(T,"settings","ticket","tasks",c.id))}),e(c=>({settings:{...c.settings,tasks:c.settings.tasks.filter(o=>o!==a)}}))}catch(l){console.error("Error removing task:",l),e({error:"Failed to remove task"})}},updateTask:async(a,l)=>{try{const n=B(T,"settings","ticket","tasks"),i=be(n,ve("name","==",a));(await ae(i)).forEach(async o=>{await Le(V(T,"settings","ticket","tasks",o.id),{name:l})}),e(o=>({settings:{...o.settings,tasks:o.settings.tasks.map(r=>r===a?l:r)}}))}catch(n){console.error("Error updating task:",n),e({error:"Failed to update task"})}}})),tg=Ht((e,t)=>({products:[],categories:[],loading:!1,error:null,searchQuery:"",selectedCategory:"all",setSearchQuery:a=>e({searchQuery:a}),setSelectedCategory:a=>e({selectedCategory:a}),fetchProducts:async()=>{e({loading:!0,error:null});try{const a=B(T,"products"),n=(await ae(a)).docs.map(i=>({id:i.id,...i.data()}));e({products:n,loading:!1})}catch(a){console.error("Error fetching products:",a),e({error:"Failed to fetch products",loading:!1})}},fetchCategories:async()=>{e({loading:!0,error:null});try{const a=B(T,"categories"),n=(await ae(a)).docs.map(i=>i.data().name);e({categories:n,loading:!1})}catch(a){console.error("Error fetching categories:",a),e({error:"Failed to fetch categories",loading:!1})}},addProduct:async a=>{e({loading:!0,error:null});try{const n={id:(await pt(B(T,"products"),a)).id,...a};e(c=>({products:[...c.products,n],loading:!1}));const{categories:i}=t();i.includes(a.category)||(await pt(B(T,"categories"),{name:a.category}),e(c=>({categories:[...c.categories,a.category]})))}catch(l){console.error("Error adding product:",l),e({error:"Failed to add product",loading:!1})}},updateProduct:async(a,l)=>{e({loading:!0,error:null});try{const n=V(T,"products",a);if(await Le(n,l),e(i=>({products:i.products.map(c=>c.id===a?{...c,...l}:c),loading:!1})),l.category){const{categories:i}=t();i.includes(l.category)||(await pt(B(T,"categories"),{name:l.category}),e(c=>({categories:[...c.categories,l.category]})))}}catch(n){console.error("Error updating product:",n),e({error:"Failed to update product",loading:!1})}},deleteProduct:async a=>{e({loading:!0,error:null});try{await Ot(V(T,"products",a)),e(l=>({products:l.products.filter(n=>n.id!==a),loading:!1}))}catch(l){console.error("Error deleting product:",l),e({error:"Failed to delete product",loading:!1})}},updateStock:async(a,l)=>{e({loading:!0,error:null});try{const n=V(T,"products",a),i=t().products.find(c=>c.id===a);if(i){const c=i.stock+l;await Le(n,{stock:c}),e(o=>({products:o.products.map(r=>r.id===a?{...r,stock:c}:r),loading:!1}))}}catch(n){console.error("Error updating stock:",n),e({error:"Failed to update stock",loading:!1})}}})),rx=Ht(e=>({showReceipt:!1,currentInvoice:null,setShowReceipt:t=>e({showReceipt:t}),setCurrentInvoice:t=>e({currentInvoice:t}),clearReceipt:()=>e({showReceipt:!1,currentInvoice:null})})),Ld=Ht(e=>({sales:[],loading:!1,error:null,fetchSales:async()=>{e({loading:!0,error:null});try{const t=B(T,"sales"),l=(await ae(t)).docs.map(n=>{var c;const i=n.data();return{id:n.id,...i,createdAt:(c=i.createdAt)!=null&&c.toDate?i.createdAt.toDate().toISOString():i.createdAt}});e({sales:l,loading:!1})}catch(t){console.error("Error fetching sales:",t),e({error:"Failed to fetch sales",loading:!1})}},createSale:async t=>{e({loading:!0,error:null});try{const a={invoiceNumber:t.invoiceNumber,items:t.items,subtotal:t.subtotal,tax:t.tax,total:t.total,paymentMethod:t.paymentMethod,paymentStatus:t.paymentStatus,date:t.date,createdAt:new Date};t.customer&&(a.customer=t.customer),t.note&&(a.note=t.note),console.log("Creating sale with data:",a);const l=await pt(B(T,"sales"),a);console.log("Sale created with ID:",l.id);const n={id:l.id,...t,createdAt:new Date().toISOString()};return e(i=>({sales:[...i.sales,n],loading:!1})),l.id}catch(a){return console.error("Error creating sale:",a),e({error:"Failed to create sale",loading:!1}),""}},deleteSale:async t=>{e({loading:!0,error:null});try{await Ot(V(T,"sales",t)),e(a=>({sales:a.sales.filter(l=>l.id!==t),loading:!1}))}catch(a){console.error("Error deleting sale:",a),e({error:"Failed to delete sale",loading:!1})}}})),ux=()=>{const e=Pt(new Date,"yyMMdd"),t=Math.floor(100+Math.random()*900);return`Q-${e}-${t}`},dx=Ht((e,t)=>({quotes:[],loading:!1,error:null,fetchQuotes:async()=>{e({loading:!0,error:null});try{const a=B(T,"quotes"),n=(await ae(a)).docs.map(i=>{var f,x,m;const c=i.data(),o=(f=c.createdAt)!=null&&f.toDate?c.createdAt.toDate().toISOString():typeof c.createdAt=="string"?c.createdAt:new Date().toISOString(),r=(x=c.updatedAt)!=null&&x.toDate?c.updatedAt.toDate().toISOString():typeof c.updatedAt=="string"?c.updatedAt:o,u=(m=c.validUntil)!=null&&m.toDate?c.validUntil.toDate().toISOString():typeof c.validUntil=="string"?c.validUntil:new Date(Date.now()+30*24*60*60*1e3).toISOString();return{id:i.id,...c,createdAt:o,updatedAt:r,validUntil:u}});e({quotes:n,loading:!1}),console.log("Fetched quotes:",n.length)}catch(a){console.error("Error fetching quotes:",a),e({error:"Failed to fetch quotes",loading:!1})}},createQuote:async a=>{e({loading:!0,error:null});try{const l=ux(),n=new Date;n.setDate(n.getDate()+30);const i={items:a.items,subtotal:a.subtotal,tax:a.tax,total:a.total,quoteNumber:l,status:"draft",validUntil:At(),createdAt:At(),updatedAt:At(),createdFrom:"pos"};a.customer&&(i.customer=a.customer),a.paymentMethod&&(i.paymentMethod=a.paymentMethod),a.paymentStatus&&(i.paymentStatus=a.paymentStatus),a.notes&&(i.notes=a.notes);const c=await pt(B(T,"quotes"),i);console.log("Quote created with ID:",c.id);const o={id:c.id,...a,quoteNumber:l,status:"draft",validUntil:n.toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdFrom:"pos"};return e(r=>({quotes:[...r.quotes,o],loading:!1})),c.id}catch(l){return console.error("Error creating quote:",l),e({error:"Failed to create quote",loading:!1}),""}},updateQuote:async(a,l)=>{console.log("=== STORE updateQuote START ==="),console.log("Quote ID:",a),console.log("Quote data:",l),e({loading:!0,error:null});try{const n=V(T,"quotes",a);console.log("Quote reference:",n);const i={...l,updatedAt:At()};console.log("Final update data:",i),console.log("Calling updateDoc..."),await Le(n,i),console.log("updateDoc completed successfully"),e(c=>{const o=c.quotes.map(r=>r.id===a?{...r,...l,updatedAt:new Date().toISOString()}:r);return console.log("Updated local state quotes count:",o.length),{quotes:o,loading:!1}}),console.log("=== STORE updateQuote END ===")}catch(n){throw console.error("=== STORE updateQuote ERROR ==="),console.error("Error updating quote:",n),e({error:"Failed to update quote",loading:!1}),n}},updateQuoteStatus:async(a,l)=>{e({loading:!0,error:null});try{const n=V(T,"quotes",a),i={status:l,updatedAt:At()};await Le(n,i),e(c=>({quotes:c.quotes.map(o=>o.id===a?{...o,status:l,updatedAt:new Date().toISOString()}:o),loading:!1}))}catch(n){console.error("Error updating quote status:",n),e({error:"Failed to update quote status",loading:!1})}},convertQuoteToSale:async a=>{e({loading:!0,error:null});try{const{quotes:l}=t(),n=l.find(h=>h.id===a);if(!n)throw new Error("Quote not found");const i="INV",c=Pt(new Date,"yyMMdd"),o=Math.floor(1e3+Math.random()*9e3),f={...{invoiceNumber:`${i}-${c}-${o}`,items:n.items.map(h=>({productId:h.productId,quantity:h.quantity,name:h.name,sku:h.sku,price:h.price})),subtotal:n.subtotal,tax:n.tax,total:n.total,customer:n.customer,paymentMethod:n.paymentMethod||"cash",paymentStatus:"Paid",date:new Date().toISOString(),note:`Issu du devis numro ${n.quoteNumber}`},createdAt:new Date},x=await pt(B(T,"sales"),f),m=V(T,"quotes",a);return await Le(m,{status:"accepted",convertedToSaleId:x.id,updatedAt:At()}),e(h=>({quotes:h.quotes.map(v=>v.id===a?{...v,status:"accepted",convertedToSaleId:x.id,updatedAt:new Date().toISOString()}:v),loading:!1})),x.id}catch(l){return console.error("Error converting quote to sale:",l),e({error:"Failed to convert quote to sale",loading:!1}),""}},deleteQuote:async a=>{e({loading:!0,error:null});try{await Ot(V(T,"quotes",a)),e(l=>({quotes:l.quotes.filter(n=>n.id!==a),loading:!1}))}catch(l){console.error("Error deleting quote:",l),e({error:"Failed to delete quote",loading:!1})}}}));cx();function fx({isCollapsed:e,toggleSidebar:t}){const a=Ha(u=>u.isDarkMode),{userRole:l}=Zl(),[n,i]=D.useState({PDV:!0}),c=u=>{i(f=>({...f,[u]:!f[u]}))},r=(()=>{const u=[{name:"Tableau de bord",href:"/",icon:s0},{name:"Clients",href:"/clients",icon:c0},{name:"Tickets",href:"/tickets",icon:o0}];return l===ye.SUPER_ADMIN&&(u.push({name:"PDV",href:"/pos",icon:af,children:[{name:"Ventes",href:"/pos"},{name:"Devis",href:"/pos/quotes"},{name:"Produits",href:"/pos/products"}]}),u.push({name:"Paramtres",href:"/settings",icon:r0}),u.push({name:"Gestion des utilisateurs",href:"/user-management",icon:u0})),u})();return s.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 flex flex-col transition-all duration-300 ${a?"bg-gray-800":"bg-white"} shadow-lg ${e?"w-20":"w-72"}`,children:[s.jsxs("div",{className:"flex h-16 shrink-0 items-center px-6",children:[s.jsx(a0,{className:"h-8 w-8 text-indigo-600"}),!e&&s.jsx("span",{className:"ml-4 text-xl font-semibold",children:"O'MEGA SERVICES"})]}),s.jsx("button",{onClick:t,className:`absolute top-4 right-0 translate-x-1/2 p-1 rounded-full shadow-md ${a?"bg-gray-700 text-gray-300":"bg-white text-gray-700"}`,children:e?s.jsx(l0,{className:"h-4 w-4"}):s.jsx(n0,{className:"h-4 w-4"})}),s.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4 overflow-y-auto",children:r.map(u=>s.jsx("div",{children:u.children?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded-md cursor-pointer ${a?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>c(u.name),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(u.icon,{className:"h-5 w-5 min-w-5"}),!e&&s.jsx("span",{className:"ml-3",children:u.name})]}),!e&&(n[u.name]?s.jsx(i0,{className:"h-4 w-4"}):s.jsx(Qc,{className:"h-4 w-4"}))]}),n[u.name]&&!e&&s.jsx("div",{className:"ml-8 mt-2 space-y-1",children:u.children.map(f=>s.jsx(ou,{to:f.href,className:({isActive:x})=>`block px-3 py-2 rounded-md ${x?"bg-indigo-600 text-white":`${a?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`}`,end:!0,children:f.name},f.name))})]}):s.jsxs(ou,{to:u.href,className:({isActive:f})=>`flex items-center px-3 py-2 rounded-md ${f?"bg-indigo-600 text-white":`${a?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`}`,end:!0,children:[s.jsx(u.icon,{className:"h-5 w-5 min-w-5"}),!e&&s.jsx("span",{className:"ml-3",children:u.name})]})},u.name))})]})}function mx(){const{isDarkMode:e,toggleDarkMode:t}=Ha(),{user:a,logout:l}=Zl(),n=async()=>{await Wh(),l()};return s.jsx("header",{className:`sticky top-0 z-40 ${e?"bg-gray-800":"bg-white"} shadow-sm`,children:s.jsxs("div",{className:"flex h-16 items-center justify-end gap-4 px-4 sm:px-6 lg:px-8",children:[s.jsx("button",{onClick:t,className:`rounded-full p-2 ${e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e?s.jsx(d0,{className:"h-5 w-5"}):s.jsx(f0,{className:"h-5 w-5"})}),s.jsxs(sn,{as:"div",className:"relative",children:[s.jsx(sn.Button,{className:`rounded-full p-2 ${e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:s.jsx(lf,{className:"h-5 w-5"})}),s.jsxs(sn.Items,{className:"absolute right-0 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[s.jsx(sn.Item,{children:s.jsx(Wd,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profil"})}),s.jsx(sn.Item,{children:s.jsxs("button",{onClick:n,className:"flex w-full items-center px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:[s.jsx(nf,{className:"mr-2 h-4 w-4"}),"Dconnexion"]})})]})]})]})})}function hx(){const e=Ha(i=>i.isDarkMode),{user:t}=Zl(),[a,l]=D.useState(!1),n=()=>{l(!a)};return t?s.jsxs("div",{className:`min-h-screen ${e?"dark bg-gray-900":"bg-gray-50"}`,children:[s.jsx(fx,{isCollapsed:a,toggleSidebar:n}),s.jsxs("div",{className:`transition-all duration-300 ${a?"lg:ml-20":"lg:ml-72"}`,children:[s.jsx(mx,{}),s.jsx("main",{className:"py-10",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsx(Pd,{})})})]})]}):s.jsx(Zt,{to:"/login"})}const ag=Ht((e,t)=>({user:null,profile:null,loading:!1,error:null,tickets:[],notifications:[],unreadCount:0,setUser:a=>e({user:a}),setProfile:a=>e({profile:a}),setLoading:a=>e({loading:a}),setError:a=>e({error:a}),fetchProfile:async()=>{const{user:a}=t();if(a){e({loading:!0,error:null});try{const l=await Rl(V(T,"customer_profiles",a.uid));if(l.exists()){const n=l.data();e({profile:n,loading:!1})}else e({error:"Profile not found",loading:!1})}catch(l){console.error("Error fetching customer profile:",l),e({error:"Failed to fetch profile",loading:!1})}}},fetchTickets:async()=>{const{profile:a}=t();if(a){e({loading:!0,error:null});try{let l=[];if(a.linkedClientId)console.log("Customer has linked client ID:",a.linkedClientId),l.push(a.linkedClientId);else{console.log("Searching for clients by email/phone...");const o=be(B(T,"clients"),ve("email","==",a.email)),u=(await ae(o)).docs.map(x=>x.id);let f=[];if(a.phoneNumber){const x=be(B(T,"clients"),ve("phone","==",a.phoneNumber));f=(await ae(x)).docs.map(h=>h.id)}l=[...new Set([...u,...f])],console.log(`Found ${l.length} matching clients:`,l)}if(l.length===0){console.log("No clients found for customer"),e({tickets:[],loading:!1});return}const n=l.map(o=>ae(be(B(T,"tickets"),ve("clientId","==",o)))),i=await Promise.all(n),c=[];i.forEach(o=>{o.docs.forEach(r=>{var f,x;const u=r.data();c.push({id:r.id,...u,createdAt:(f=u.createdAt)!=null&&f.toDate?u.createdAt.toDate().toISOString():typeof u.createdAt=="string"?u.createdAt:new Date().toISOString(),updatedAt:(x=u.updatedAt)!=null&&x.toDate?u.updatedAt.toDate().toISOString():typeof u.updatedAt=="string"?u.updatedAt:new Date().toISOString()})})}),c.sort((o,r)=>new Date(r.createdAt).getTime()-new Date(o.createdAt).getTime()),console.log(`Fetched ${c.length} tickets for customer`),e({tickets:c,loading:!1})}catch(l){console.error("Error fetching customer tickets:",l),e({error:"Failed to fetch tickets",loading:!1})}}},fetchNotifications:async()=>{const{profile:a}=t();if(a)try{const{tickets:l}=t(),n=[];l.forEach(c=>{Math.floor((Date.now()-new Date(c.updatedAt).getTime())/864e5)<=7&&n.push({id:`${c.id}-status-${c.status}`,customerId:a.id,ticketId:c.id,type:"status_change",title:`Statut mis  jour - ${c.deviceType} ${c.brand}`,message:`Votre rparation est maintenant ${gx(c.status)}`,isRead:!1,createdAt:c.updatedAt})}),n.sort((c,o)=>new Date(o.createdAt).getTime()-new Date(c.createdAt).getTime());const i=n.filter(c=>!c.isRead).length;e({notifications:n,unreadCount:i})}catch(l){console.error("Error fetching notifications:",l),e({error:"Failed to fetch notifications"})}},subscribeToTickets:()=>{const{profile:a}=t();if(!a)return()=>{};const l=B(T,"tickets");return Vc(l,async i=>{try{let c=[];if(a.linkedClientId)c.push(a.linkedClientId);else{const r=be(B(T,"clients"),ve("email","==",a.email)),f=(await ae(r)).docs.map(m=>m.id);let x=[];if(a.phoneNumber){const m=be(B(T,"clients"),ve("phone","==",a.phoneNumber));x=(await ae(m)).docs.map(v=>v.id)}c=[...new Set([...f,...x])]}if(c.length===0){e({tickets:[]});return}const o=i.docs.filter(r=>c.includes(r.data().clientId)).map(r=>{var f,x;const u=r.data();return{id:r.id,...u,createdAt:(f=u.createdAt)!=null&&f.toDate?u.createdAt.toDate().toISOString():typeof u.createdAt=="string"?u.createdAt:new Date().toISOString(),updatedAt:(x=u.updatedAt)!=null&&x.toDate?u.updatedAt.toDate().toISOString():typeof u.updatedAt=="string"?u.updatedAt:new Date().toISOString()}});o.sort((r,u)=>new Date(u.createdAt).getTime()-new Date(r.createdAt).getTime()),e({tickets:o}),t().fetchNotifications()}catch(c){console.error("Error in ticket subscription:",c)}})},subscribeToNotifications:()=>t().subscribeToTickets(),markNotificationRead:async a=>{e(l=>({notifications:l.notifications.map(n=>n.id===a?{...n,isRead:!0}:n),unreadCount:Math.max(0,l.unreadCount-1)}))},markAllNotificationsRead:async()=>{e(a=>({notifications:a.notifications.map(l=>({...l,isRead:!0})),unreadCount:0}))},updateProfile:async a=>{const{profile:l,user:n}=t();if(!(!l||!n)){e({loading:!0,error:null});try{await Et(V(T,"customer_profiles",n.uid),{...a,updatedAt:new Date().toISOString()},{merge:!0}),e({profile:{...l,...a},loading:!1})}catch(i){console.error("Error updating profile:",i),e({error:"Failed to update profile",loading:!1})}}},updateNotificationPreferences:async a=>{await t().updateProfile({notificationPreferences:a})},reset:()=>e({user:null,profile:null,tickets:[],notifications:[],unreadCount:0,loading:!1,error:null})}));function gx(e){switch(e){case"pending":return"en attente";case"in-progress":return"en cours";case"completed":return"termine";default:return e}}const lg="@firebase/installations",Vr="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=1e4,ig=`w:${Vr}`,sg="FIS_v2",yx="https://firebaseinstallations.googleapis.com/v1",px=60*60*1e3,xx="installations",bx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},tl=new tf(xx,bx,vx);function cg(e){return e instanceof $g&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og({projectId:e}){return`${yx}/projects/${e}/installations`}function rg(e){return{token:e.token,requestStatus:2,expiresIn:jx(e.expiresIn),creationTime:Date.now()}}async function ug(e,t){const l=(await t.json()).error;return tl.create("request-failed",{requestName:e,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function dg({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Sx(e,{refreshToken:t}){const a=dg(e);return a.append("Authorization",Nx(t)),a}async function fg(e){const t=await e();return t.status>=500&&t.status<600?e():t}function jx(e){return Number(e.replace("s","000"))}function Nx(e){return`${sg} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx({appConfig:e,heartbeatServiceProvider:t},{fid:a}){const l=og(e),n=dg(e),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&n.append("x-firebase-client",u)}const c={fid:a,authVersion:sg,appId:e.appId,sdkVersion:ig},o={method:"POST",headers:n,body:JSON.stringify(c)},r=await fg(()=>fetch(l,o));if(r.ok){const u=await r.json();return{fid:u.fid||a,registrationStatus:2,refreshToken:u.refreshToken,authToken:rg(u.authToken)}}else throw await ug("Create Installation",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=/^[cdef][\w-]{21}$/,Lo="";function Ex(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const a=Dx(e);return Ax.test(a)?a:Lo}catch{return Lo}}function Dx(e){return Tx(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map;function gg(e,t){const a=Ls(e);yg(a,t),Cx(a,t)}function yg(e,t){const a=hg.get(e);if(a)for(const l of a)l(t)}function Cx(e,t){const a=Mx();a&&a.postMessage({key:e,fid:t}),zx()}let Ya=null;function Mx(){return!Ya&&"BroadcastChannel"in self&&(Ya=new BroadcastChannel("[Firebase] FID Change"),Ya.onmessage=e=>{yg(e.data.key,e.data.fid)}),Ya}function zx(){hg.size===0&&Ya&&(Ya.close(),Ya=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="firebase-installations-database",_x=1,al="firebase-installations-store";let Uc=null;function Qr(){return Uc||(Uc=Qo(Ox,_x,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(al)}}})),Uc}async function bs(e,t){const a=Ls(e),n=(await Qr()).transaction(al,"readwrite"),i=n.objectStore(al),c=await i.get(a);return await i.put(t,a),await n.done,(!c||c.fid!==t.fid)&&gg(e,t.fid),t}async function pg(e){const t=Ls(e),l=(await Qr()).transaction(al,"readwrite");await l.objectStore(al).delete(t),await l.done}async function Bs(e,t){const a=Ls(e),n=(await Qr()).transaction(al,"readwrite"),i=n.objectStore(al),c=await i.get(a),o=t(c);return o===void 0?await i.delete(a):await i.put(o,a),await n.done,o&&(!c||c.fid!==o.fid)&&gg(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gr(e){let t;const a=await Bs(e.appConfig,l=>{const n=Rx(l),i=Ux(e,n);return t=i.registrationPromise,i.installationEntry});return a.fid===Lo?{installationEntry:await t}:{installationEntry:a,registrationPromise:t}}function Rx(e){const t=e||{fid:Ex(),registrationStatus:0};return xg(t)}function Ux(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(tl.create("app-offline"));return{installationEntry:t,registrationPromise:n}}const a={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},l=qx(e,a);return{installationEntry:a,registrationPromise:l}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Hx(e)}:{installationEntry:t}}async function qx(e,t){try{const a=await wx(e,t);return bs(e.appConfig,a)}catch(a){throw cg(a)&&a.customData.serverCode===409?await pg(e.appConfig):await bs(e.appConfig,{fid:t.fid,registrationStatus:0}),a}}async function Hx(e){let t=await Bd(e.appConfig);for(;t.registrationStatus===1;)await mg(100),t=await Bd(e.appConfig);if(t.registrationStatus===0){const{installationEntry:a,registrationPromise:l}=await Gr(e);return l||a}return t}function Bd(e){return Bs(e,t=>{if(!t)throw tl.create("installation-not-found");return xg(t)})}function xg(e){return kx(e)?{fid:e.fid,registrationStatus:0}:e}function kx(e){return e.registrationStatus===1&&e.registrationTime+ng<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx({appConfig:e,heartbeatServiceProvider:t},a){const l=Bx(e,a),n=Sx(e,a),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&n.append("x-firebase-client",u)}const c={installation:{sdkVersion:ig,appId:e.appId}},o={method:"POST",headers:n,body:JSON.stringify(c)},r=await fg(()=>fetch(l,o));if(r.ok){const u=await r.json();return rg(u)}else throw await ug("Generate Auth Token",r)}function Bx(e,{fid:t}){return`${og(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(e,t=!1){let a;const l=await Bs(e.appConfig,i=>{if(!bg(i))throw tl.create("not-registered");const c=i.authToken;if(!t&&Gx(c))return i;if(c.requestStatus===1)return a=Vx(e,t),i;{if(!navigator.onLine)throw tl.create("app-offline");const o=Xx(i);return a=Qx(e,o),o}});return a?await a:l.authToken}async function Vx(e,t){let a=await Vd(e.appConfig);for(;a.authToken.requestStatus===1;)await mg(100),a=await Vd(e.appConfig);const l=a.authToken;return l.requestStatus===0?Yr(e,t):l}function Vd(e){return Bs(e,t=>{if(!bg(t))throw tl.create("not-registered");const a=t.authToken;return Zx(a)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Qx(e,t){try{const a=await Lx(e,t),l=Object.assign(Object.assign({},t),{authToken:a});return await bs(e.appConfig,l),a}catch(a){if(cg(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await pg(e.appConfig);else{const l=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await bs(e.appConfig,l)}throw a}}function bg(e){return e!==void 0&&e.registrationStatus===2}function Gx(e){return e.requestStatus===2&&!Yx(e)}function Yx(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+px}function Xx(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Zx(e){return e.requestStatus===1&&e.requestTime+ng<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(e){const t=e,{installationEntry:a,registrationPromise:l}=await Gr(t);return l?l.catch(console.error):Yr(t).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(e,t=!1){const a=e;return await Jx(a),(await Yr(a,t)).token}async function Jx(e){const{registrationPromise:t}=await Gr(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(e){if(!e||!e.options)throw qc("App Configuration");if(!e.name)throw qc("App Name");const t=["projectId","apiKey","appId"];for(const a of t)if(!e.options[a])throw qc(a);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function qc(e){return tl.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="installations",Ix="installations-internal",Wx=e=>{const t=e.getProvider("app").getImmediate(),a=Fx(t),l=Vo(t,"heartbeat");return{app:t,appConfig:a,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},Px=e=>{const t=e.getProvider("app").getImmediate(),a=Vo(t,vg).getImmediate();return{getId:()=>Kx(a),getToken:n=>$x(a,n)}};function eb(){Qi(new Gi(vg,Wx,"PUBLIC")),Qi(new Gi(Ix,Px,"PRIVATE"))}eb();Vi(lg,Vr);Vi(lg,Vr,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="/firebase-messaging-sw.js",ab="/firebase-cloud-messaging-push-scope",Sg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lb="https://fcmregistrations.googleapis.com/v1",jg="google.c.a.c_id",nb="google.c.a.c_l",ib="google.c.a.ts",sb="google.c.a.e";var Qd;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Qd||(Qd={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Kn;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Kn||(Kn={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cb(e){const t="=".repeat((4-e.length%4)%4),a=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),l=atob(a),n=new Uint8Array(l.length);for(let i=0;i<l.length;++i)n[i]=l.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="fcm_token_details_db",ob=5,Gd="fcm_token_object_Store";async function rb(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Hc))return null;let t=null;return(await Qo(Hc,ob,{upgrade:async(l,n,i,c)=>{var o;if(n<2||!l.objectStoreNames.contains(Gd))return;const r=c.objectStore(Gd),u=await r.index("fcmSenderId").get(e);if(await r.clear(),!!u){if(n===2){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;t={token:f.fcmToken,createTime:(o=f.createTime)!==null&&o!==void 0?o:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Kt(f.vapidKey)}}}else if(n===3){const f=u;t={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Kt(f.auth),p256dh:Kt(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Kt(f.vapidKey)}}}else if(n===4){const f=u;t={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Kt(f.auth),p256dh:Kt(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Kt(f.vapidKey)}}}}}})).close(),await Is(Hc),await Is("fcm_vapid_details_db"),await Is("undefined"),ub(t)?t:null}function ub(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firebase-messaging-database",fb=1,$n="firebase-messaging-store";let kc=null;function Ng(){return kc||(kc=Qo(db,fb,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore($n)}}})),kc}async function mb(e){const t=wg(e),l=await(await Ng()).transaction($n).objectStore($n).get(t);if(l)return l;{const n=await rb(e.appConfig.senderId);if(n)return await Xr(e,n),n}}async function Xr(e,t){const a=wg(e),n=(await Ng()).transaction($n,"readwrite");return await n.objectStore($n).put(t,a),await n.done,t}function wg({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ze=new tf("messaging","Messaging",hb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(e,t){const a=await Kr(e),l=Tg(t),n={method:"POST",headers:a,body:JSON.stringify(l)};let i;try{i=await(await fetch(Zr(e.appConfig),n)).json()}catch(c){throw Ze.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(i.error){const c=i.error.message;throw Ze.create("token-subscribe-failed",{errorInfo:c})}if(!i.token)throw Ze.create("token-subscribe-no-token");return i.token}async function yb(e,t){const a=await Kr(e),l=Tg(t.subscriptionOptions),n={method:"PATCH",headers:a,body:JSON.stringify(l)};let i;try{i=await(await fetch(`${Zr(e.appConfig)}/${t.token}`,n)).json()}catch(c){throw Ze.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(i.error){const c=i.error.message;throw Ze.create("token-update-failed",{errorInfo:c})}if(!i.token)throw Ze.create("token-update-no-token");return i.token}async function pb(e,t){const l={method:"DELETE",headers:await Kr(e)};try{const i=await(await fetch(`${Zr(e.appConfig)}/${t}`,l)).json();if(i.error){const c=i.error.message;throw Ze.create("token-unsubscribe-failed",{errorInfo:c})}}catch(n){throw Ze.create("token-unsubscribe-failed",{errorInfo:n==null?void 0:n.toString()})}}function Zr({projectId:e}){return`${lb}/projects/${e}/registrations`}async function Kr({appConfig:e,installations:t}){const a=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${a}`})}function Tg({p256dh:e,auth:t,endpoint:a,vapidKey:l}){const n={web:{endpoint:a,auth:t,p256dh:e}};return l!==Sg&&(n.web.applicationPubKey=l),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=7*24*60*60*1e3;async function bb(e){const t=await Sb(e.swRegistration,e.vapidKey),a={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Kt(t.getKey("auth")),p256dh:Kt(t.getKey("p256dh"))},l=await mb(e.firebaseDependencies);if(l){if(jb(l.subscriptionOptions,a))return Date.now()>=l.createTime+xb?vb(e,{token:l.token,createTime:Date.now(),subscriptionOptions:a}):l.token;try{await pb(e.firebaseDependencies,l.token)}catch(n){console.warn(n)}return Yd(e.firebaseDependencies,a)}else return Yd(e.firebaseDependencies,a)}async function vb(e,t){try{const a=await yb(e.firebaseDependencies,t),l=Object.assign(Object.assign({},t),{token:a,createTime:Date.now()});return await Xr(e.firebaseDependencies,l),a}catch(a){throw a}}async function Yd(e,t){const l={token:await gb(e,t),createTime:Date.now(),subscriptionOptions:t};return await Xr(e,l),l.token}async function Sb(e,t){const a=await e.pushManager.getSubscription();return a||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cb(t)})}function jb(e,t){const a=t.vapidKey===e.vapidKey,l=t.endpoint===e.endpoint,n=t.auth===e.auth,i=t.p256dh===e.p256dh;return a&&l&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return Nb(t,e),wb(t,e),Tb(t,e),t}function Nb(e,t){if(!t.notification)return;e.notification={};const a=t.notification.title;a&&(e.notification.title=a);const l=t.notification.body;l&&(e.notification.body=l);const n=t.notification.image;n&&(e.notification.image=n);const i=t.notification.icon;i&&(e.notification.icon=i)}function wb(e,t){t.data&&(e.data=t.data)}function Tb(e,t){var a,l,n,i,c;if(!t.fcmOptions&&!(!((a=t.notification)===null||a===void 0)&&a.click_action))return;e.fcmOptions={};const o=(n=(l=t.fcmOptions)===null||l===void 0?void 0:l.link)!==null&&n!==void 0?n:(i=t.notification)===null||i===void 0?void 0:i.click_action;o&&(e.fcmOptions.link=o);const r=(c=t.fcmOptions)===null||c===void 0?void 0:c.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e){return typeof e=="object"&&!!e&&jg in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(e){if(!e||!e.options)throw Lc("App Configuration Object");if(!e.name)throw Lc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:a}=e;for(const l of t)if(!a[l])throw Lc(l);return{appName:e.name,projectId:a.projectId,apiKey:a.apiKey,appId:a.appId,senderId:a.messagingSenderId}}function Lc(e){return Ze.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,a,l){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=Eb(t);this.firebaseDependencies={app:t,appConfig:n,installations:a,analyticsProvider:l}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(e){try{e.swRegistration=await navigator.serviceWorker.register(tb,{scope:ab}),e.swRegistration.update().catch(()=>{})}catch(t){throw Ze.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(e,t){if(!t&&!e.swRegistration&&await Cb(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Ze.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Sg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ag(e,t){if(!navigator)throw Ze.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ze.create("permission-blocked");return await zb(e,t==null?void 0:t.vapidKey),await Mb(e,t==null?void 0:t.serviceWorkerRegistration),bb(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(e,t,a){const l=_b(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(l,{message_id:a[jg],message_name:a[nb],message_time:a[ib],message_device_time:Math.floor(Date.now()/1e3)})}function _b(e){switch(e){case Kn.NOTIFICATION_CLICKED:return"notification_open";case Kn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(e,t){const a=t.data;if(!a.isFirebaseMessaging)return;e.onMessageHandler&&a.messageType===Kn.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Xd(a)):e.onMessageHandler.next(Xd(a)));const l=a.data;Ab(l)&&l[sb]==="1"&&await Ob(e,a.messageType,l)}const Zd="@firebase/messaging",Kd="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=e=>{const t=new Db(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",a=>Rb(t,a)),t},qb=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:l=>Ag(t,l)}};function Hb(){Qi(new Gi("messaging",Ub,"PUBLIC")),Qi(new Gi("messaging-internal",qb,"PRIVATE")),Vi(Zd,Kd),Vi(Zd,Kd,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(){try{await Jg()}catch{return!1}return typeof window<"u"&&Fg()&&Ig()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(e,t){if(!navigator)throw Ze.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(e=Wg()){return Eg().then(t=>{if(!t)throw Ze.create("unsupported-browser")},t=>{throw Ze.create("indexed-db-unsupported")}),Vo(Go(e),"messaging").getImmediate()}async function Lb(e,t){return e=Go(e),Ag(e,t)}function Bb(e,t){return e=Go(e),kb(e,t)}Hb();class Vb{constructor(){this.messaging=null,this.isSupported=!1,this.initialize()}async initialize(){try{this.isSupported=await Eg(),this.isSupported&&(this.messaging=$d(),this.setupMessageListener())}catch(t){console.error("Failed to initialize push notifications:",t)}}setupMessageListener(){this.messaging&&Bb(this.messaging,t=>{var a,l,n;if(console.log("Received foreground message:",t),Notification.permission==="granted"){const i=new Notification(((a=t.notification)==null?void 0:a.title)||"Notification",{body:(l=t.notification)==null?void 0:l.body,icon:"/omegalogo.png",badge:"/omegalogo.png",data:t.data,tag:((n=t.data)==null?void 0:n.tag)||"repair-notification"});setTimeout(()=>{i.close()},5e3),i.onclick=()=>{var c;i.close(),window.focus(),window.location.href=((c=t.data)==null?void 0:c.url)||"/customer"}}})}async requestPermission(){if(!this.isSupported)throw new Error("Push notifications are not supported in this browser");try{return await Notification.requestPermission()}catch(t){return console.error("Error requesting notification permission:",t),"denied"}}async subscribeToPush(t){if(location.protocol!=="https:"&&location.hostname!=="localhost")return console.error("Push notifications require HTTPS. Current protocol:",location.protocol),!1;let a=this.messaging;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&!this.messaging)try{a=$d()}catch(n){return console.error("Failed to initialize Firebase messaging for mobile:",n),!1}if(!a)return console.warn("Push notifications not supported - no messaging instance"),!1;try{if(await Notification.requestPermission()!=="granted")return console.log("Push notification permission denied"),!1;if("serviceWorker"in navigator)try{(await navigator.serviceWorker.getRegistrations()).find(r=>r.scope.includes("firebase"))||await navigator.serviceWorker.register("/firebase-messaging-sw.js")}catch(c){console.error("Service worker registration failed:",c)}await new Promise(c=>setTimeout(c,1e3));const i=await Lb(a,{vapidKey:"BEKAzNQQC9EL3Hv821Gzvzr-QTpNoSlhl3n1E06EtnHgreAsoMlmgXLVqvjZsASV1RyM-70lz_HvRihQJfLyzDk"});return i?this.isValidFCMToken(i)?(await Le(V(T,"customer_profiles",t),{fcmTokens:Pg(i),"notificationPreferences.pushEnabled":!0,lastPushTokenUpdate:new Date}),!0):(console.error("Invalid FCM token format. Token:",i.substring(0,50)+"...","Length:",i.length),!1):(console.error("Failed to get FCM token - token is null/empty"),!1)}catch(n){return console.error(" Error subscribing to push notifications:",n),!1}}async unsubscribeFromPush(t,a){try{return a?await Le(V(T,"customer_profiles",t),{fcmTokens:e0(a),"notificationPreferences.pushEnabled":!1}):await Le(V(T,"customer_profiles",t),{fcmTokens:[],"notificationPreferences.pushEnabled":!1}),!0}catch(l){return console.error("Error unsubscribing from push notifications:",l),!1}}isValidFCMToken(t){return!t||typeof t!="string"||t.length<100||t.length>300?!1:/^[a-zA-Z0-9_.:-]+$/.test(t)}get isPushSupported(){const t="Notification"in window,a="serviceWorker"in navigator,l="PushManager"in window,n=location.protocol==="https:"||location.hostname==="localhost",i=this.isSupported;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?t&&a&&l&&n:i}}const Qb=new Vb;function Gb(){const e=Ha(w=>w.isDarkMode),{user:t,profile:a,tickets:l,reset:n,fetchProfile:i,fetchTickets:c,subscribeToTickets:o}=ag(),[r,u]=D.useState([]),[f,x]=D.useState(!1),[m,h]=D.useState(!1),[v,j]=D.useState(0),M=D.useRef(null),g=D.useRef(null);D.useEffect(()=>{t&&!a&&(i(),c())},[t,a,i,c]),D.useEffect(()=>{if(a)return o()},[a,o]),D.useEffect(()=>{t!=null&&t.uid&&d()},[t==null?void 0:t.uid]),D.useEffect(()=>{f&&(t!=null&&t.uid)&&!m&&y()},[f,t==null?void 0:t.uid]),D.useEffect(()=>{const w=O=>{M.current&&!M.current.contains(O.target)&&g.current&&!g.current.contains(O.target)&&x(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const d=async()=>{if(!(t!=null&&t.uid)){console.log(" fetchUnreadNotificationCount: No user UID");return}console.log(" fetchUnreadNotificationCount: Starting for user:",t.uid);try{const w=be(B(T,"notification_history"),ve("customerId","==",t.uid),ru("sentAt","desc"),uu(50));return console.log(" fetchUnreadNotificationCount: Query created"),Vc(w,H=>{console.log(" fetchUnreadNotificationCount: Snapshot received, docs count:",H.docs.length);const P=H.docs.filter(ce=>{const Me=ce.data();return console.log(" Notification data:",Me),!Me.readAt}).length;console.log(" fetchUnreadNotificationCount: Unread count:",P),j(P)},H=>{console.error(" fetchUnreadNotificationCount: Error in snapshot:",H)})}catch(w){console.error(" fetchUnreadNotificationCount: Error:",w)}},y=async()=>{if(t!=null&&t.uid){h(!0);try{const w=be(B(T,"notification_history"),ve("customerId","==",t.uid),ru("sentAt","desc"),uu(5));return Vc(w,async H=>{var ce,Me,Ye,A,_,U,ee,F;const P=[];for(const te of H.docs){const Y=te.data();let ze="",Xe="";Y.type==="status_change"?(ze="Statut de rparation mis  jour",Xe=`Votre ${((ce=Y.metadata)==null?void 0:ce.deviceInfo)||"appareil"} est maintenant ${((Me=Y.metadata)==null?void 0:Me.newStatus)||"mis  jour"}`):Y.type==="email"?(ze="Notification par email",Xe=`Mise  jour rparation - ${((Ye=Y.metadata)==null?void 0:Ye.deviceInfo)||"appareil"}`):Y.channel==="push"?(ze="Notification push",Xe="Votre rparation a t mise  jour"):(ze=`Notification ${Y.channel||"gnrale"}`,Xe="Vous avez une nouvelle notification");let tt=((A=Y.metadata)==null?void 0:A.ticketNumber)||Y.ticketId;if(!((_=Y.metadata)!=null&&_.ticketNumber)&&Y.ticketId)try{const ka=await Rl(V(T,"tickets",Y.ticketId));if(ka.exists()){const ra=ka.data();tt=(ra==null?void 0:ra.ticketNumber)||Y.ticketId}}catch(ka){console.error("Error fetching ticket number:",ka),tt=Y.ticketId}P.push({id:te.id,customerId:Y.customerId,type:Y.channel||Y.type||"push",title:ze,message:Xe,ticketId:Y.ticketId,ticketNumber:tt,status:Y.status,createdAt:((U=Y.sentAt)==null?void 0:U.toDate())||new Date,deliveredAt:(ee=Y.deliveredAt)==null?void 0:ee.toDate(),readAt:(F=Y.readAt)==null?void 0:F.toDate()})}u(P),h(!1)})}catch(w){console.error("Error fetching notifications:",w),h(!1)}}},b=async w=>{try{await Le(V(T,"notification_history",w),{readAt:new Date})}catch(O){console.error("Error marking notification as read:",O)}},E=()=>{x(!f)},z=w=>{switch(w){case"push":return s.jsx(du,{className:"h-4 w-4 text-blue-500"});case"email":return s.jsx(cn,{className:"h-4 w-4 text-green-500"});case"sms":return s.jsx(cn,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(cn,{className:"h-4 w-4 text-gray-500"})}},N=w=>{const H=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60));return H<1?" l'instant":H<24?`Il y a ${H}h`:H<24*7?`Il y a ${Math.floor(H/24)}j`:w.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})};D.useEffect(()=>{const w=async()=>{var P;if(!(a!=null&&a.id))return;const O=(P=a.notificationPreferences)==null?void 0:P.pushEnabled,H=a.fcmTokens&&a.fcmTokens.length>0;if(O&&!H)try{await Qb.subscribeToPush(a.id)&&await i()}catch{}};if(a&&a.id){const O=setTimeout(w,2e3);return()=>clearTimeout(O)}},[a,i]);const R=async()=>{try{await Wh(),n()}catch(w){console.error("Error logging out:",w)}};return t?s.jsxs("div",{className:`min-h-screen ${e?"dark bg-gray-900":"bg-gray-50"}`,children:[s.jsx("header",{className:`bg-white dark:bg-gray-800 shadow-sm border-b ${e?"border-gray-700":"border-gray-200"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[s.jsx(du,{className:"h-8 w-8 text-indigo-600"}),s.jsx("span",{className:`ml-2 text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:"O'MEGA Services"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{ref:g,onClick:E,className:"relative p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Notifications",children:[s.jsx(cn,{className:"h-6 w-6"}),v>0&&s.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:v>9?"9+":v})]}),f&&s.jsxs("div",{ref:M,className:`absolute right-0 mt-2 w-80 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg shadow-lg z-50`,children:[s.jsx("div",{className:`p-4 border-b ${e?"border-gray-700":"border-gray-200"}`,children:s.jsx("h3",{className:`text-sm font-semibold ${e?"text-white":"text-gray-900"}`,children:"Notifications rcentes"})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:m?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600 mx-auto"}),s.jsx("p",{className:`text-sm mt-2 ${e?"text-gray-400":"text-gray-500"}`,children:"Chargement..."})]}):r.length===0?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx(cn,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"Aucune notification rcente"})]}):r.map(w=>s.jsx("div",{className:`p-4 border-b ${e?"border-gray-700 hover:bg-gray-700":"border-gray-100 hover:bg-gray-50"} transition-colors cursor-pointer`,onClick:()=>b(w.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:z(w.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium ${w.readAt?e?"text-gray-400":"text-gray-600":e?"text-white":"text-gray-900"} truncate`,children:w.title}),s.jsx("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"} mt-1 line-clamp-2`,children:w.message}),s.jsx("p",{className:`text-xs ${e?"text-gray-500":"text-gray-400"} mt-2`,children:N(w.createdAt)})]}),!w.readAt&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})})]})},w.id))}),s.jsx("div",{className:`p-3 border-t ${e?"border-gray-700":"border-gray-200"}`,children:s.jsx("a",{href:"/customer/notifications",className:`block w-full text-center text-sm ${e?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-500"} font-medium`,onClick:()=>x(!1),children:"Voir toutes les notifications"})})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center",children:s.jsx(lf,{className:"h-5 w-5 text-white"})})}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:`text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:(a==null?void 0:a.fullName)||"Client"})}),s.jsx("button",{onClick:R,className:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-md",title:"Dconnexion",children:s.jsx(nf,{className:"h-5 w-5"})})]})]})]})})}),s.jsx("nav",{className:`bg-white dark:bg-gray-800 border-b ${e?"border-gray-700":"border-gray-200"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex space-x-8",children:[s.jsx("a",{href:"/customer",className:`py-4 px-1 border-b-2 font-medium text-sm ${window.location.pathname==="/customer"?"border-indigo-500 text-indigo-600":`border-transparent ${e?"text-gray-300 hover:text-white":"text-gray-500 hover:text-gray-700"}`}`,children:"Mes Rparations"}),s.jsx("a",{href:"/customer/notifications",className:`py-4 px-1 border-b-2 font-medium text-sm ${window.location.pathname==="/customer/notifications"?"border-indigo-500 text-indigo-600":`border-transparent ${e?"text-gray-300 hover:text-white":"text-gray-500 hover:text-gray-700"}`}`,children:"Notifications"}),s.jsx("a",{href:"/customer/profile",className:`py-4 px-1 border-b-2 font-medium text-sm ${window.location.pathname==="/customer/profile"?"border-indigo-500 text-indigo-600":`border-transparent ${e?"text-gray-300 hover:text-white":"text-gray-500 hover:text-gray-700"}`}`,children:"Mon Profil"})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s.jsx("div",{className:"px-4 py-6 sm:px-0",children:s.jsx(Pd,{})})})]}):s.jsx(Zt,{to:"/customer/login"})}function Bc(){const e=Ha(t=>t.isDarkMode);return s.jsx("div",{className:`min-h-screen flex items-center justify-center ${e?"bg-gray-900":"bg-gray-50"}`,children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-indigo-600"}),s.jsx("p",{className:`mt-4 text-lg font-medium ${e?"text-white":"text-gray-900"}`,children:"Loading..."})]})})}function Jd(){const e=Ha(t=>t.isDarkMode);return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center",children:s.jsxs("div",{className:`text-center p-8 rounded-lg ${e?"bg-gray-800":"bg-white"} shadow-lg max-w-md`,children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 rounded-full bg-red-100",children:s.jsx(m0,{className:"h-12 w-12 text-red-600"})})}),s.jsx("h1",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Access Denied"}),s.jsx("p",{className:`mb-6 ${e?"text-gray-300":"text-gray-600"}`,children:"You don't have permission to access this page. Please contact your administrator if you believe this is an error."}),s.jsx(Wd,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Return to Dashboard"})]})})}const Vs={thermal:{name:"Thermal Receipt",width:"80mm",styles:{container:"p-4 bg-white text-black",header:"text-center mb-4",body:"space-y-2",footer:"text-center text-xs mt-4 border-t border-dashed pt-2"},showLogo:!0,showTerms:!1,showQRCode:!1,layout:"compact"},a4:{name:"A4 Format",width:"210mm",height:"297mm",styles:{container:"p-8 bg-white text-black",header:"mb-8",body:"space-y-6",footer:"text-center text-sm text-gray-600 border-t border-gray-300 pt-4"},showLogo:!0,showTerms:!0,showQRCode:!1,layout:"spacious"},pdf:{name:"PDF Format",width:"210mm",height:"297mm",styles:{container:"",header:"",body:"",footer:""},showLogo:!0,showTerms:!0,showQRCode:!1,layout:"spacious"}},Qs={receipt:"Receipt",invoice:"Invoice",ticket:"Repair Ticket",quote:"Quote",engagement:"Client Engagement Contract"},Ne={name:"O'MEGA SERVICES",address:"400 Rue nationale, 69400 Villefranche Sur/Sane",phone:"0986608980",email:"contact@omegaservices.fr",taxId:"FR123456789",logoUrl:"/omegalogo.png"},Yb={ticket:["Le client est responsable de la sauvegarde de ses donnes.","Diagnostic et devis possiblement payants.","Dlais indicatifs, non contractuels.","Devis accept avant intervention, frais de diagnostic 40  TTC en cas de refus de rparation.","Appareil non rcupr sous 30 jours = abandonn.","Garantie 3 mois (hors casse, oxydation, mauvaise utilisation)."],invoice:["Aucun matriel ne sera restitu avant rglement intgral de la facture.","Les rparations sont garanties 3 mois pices et main-duvre.","Les produits vendus bnficient dune garantie standard de 1 an.","Toute rclamation doit tre formule par crit dans un dlai de 7 jours suivant la facture.","Les retours produits sont accepts sous 14 jours avec emballage dorigine."],receipt:["Ce reu fait office de preuve dachat.","Les conditions gnrales de vente sappliquent  toute transaction figurant sur ce reu.","Conservez ce reu pour toute demande de garantie ou de service aprsvente."],quote:["Ce devis est valable 30 jours  compter de sa date dmission. ","Les prix indiqus peuvent voluer en fonction des spcifications finales.","Toute modification demande pourra entraner une rvision du devis.","Lexcution des travaux dbutera aprs rception de lacompte prvu.","Le tarif dfinitif sera confirm lors de la validation de la commande. "],engagement:["Je reconnais avoir confi mon appareil  OMEGA SERVICES","J'ai t inform(e) que je dois sauvegarder mes donnes avant toute intervention","Le client reconnat avoir t inform que l'intervention peut entraner la perte de tout ou une partie de ses donnes et en accepte les consquences","J'accepte que le diagnostic puisse tre payant","Je reconnais que les dlais sont indicatifs","Je m'engage  rgler la totalit de la prestation avant rcupration de l'appareil","Je reconnais la garantie de 3 mois applicable uniquement sur les pices remplaces","Tout appareil non rcupr sous 30 jours pourra tre considr comme abandonn"]},Xb=({data:e,documentRef:t,onFormatChange:a})=>{var f,x;const l=D.useRef(!1),n=D.useCallback(async()=>{if(!l.current){l.current=!0,console.log(" PHASE 2: Starting window-based print process");try{const m=t.current;if(!m){console.log(" PHASE 2: No modal element found, printing entire page"),window.print(),l.current=!1;return}const h=m.querySelector("[data-format]");if(!h){console.log(" PHASE 2: No document content element found, printing entire page"),window.print(),l.current=!1;return}const v=h.getAttribute("data-format");console.log(" PHASE 2: Document format:",v),console.log(" PHASE 2: Capturing document with html2canvas");const j=h.querySelectorAll("img"),M=Array.from(j).map(O=>new Promise(H=>{O.complete&&O.naturalHeight>0?H():(O.onload=()=>H(),O.onerror=()=>H(),setTimeout(()=>H(),2e3))}));await Promise.all(M),console.log(" PHASE 2: Images loaded");const g={transform:h.style.transform,position:h.style.position,willChange:h.style.willChange,contain:h.style.contain};h.style.transform="none",h.style.position="static",h.style.willChange="auto",h.style.contain="none";const d=h.closest('[class*="fixed"]'),y=d?{transform:d.style.transform,willChange:d.style.willChange}:{};d&&(d.style.transform="none",d.style.willChange="auto");const b=await ui(h,{scale:2,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,width:h.offsetWidth,height:h.offsetHeight});console.log(" PHASE 2: Canvas created:",b.width,"x",b.height),Object.assign(h.style,g),d&&y&&Object.assign(d.style,y);const E=b.toDataURL("image/png");console.log(" PHASE 2: Image data created");const z=window.open("","_blank");if(!z){console.error(" PHASE 2: Failed to open print window"),window.print(),l.current=!1;return}const N=v==="thermal";let R,w;if(N)R="80mm",w="auto";else{const P=794/b.width,ce=1123/b.height,Me=Math.min(P,ce);R=`${Math.round(b.width*Me)}px`,w=`${Math.round(b.height*Me)}px`,console.log(" PHASE 2: Scaled A4 dimensions:",R,"x",w)}z.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Document Print</title>
            <style>
              @media print {
                @page {
                  size: ${N?"80mm 200mm":"A4"};
                  margin: ${N?"5mm":"0"};
                }
                body {
                  margin: 0;
                  padding: 0;
                }
                img {
                  page-break-inside: avoid;
                  page-break-after: avoid;
                  page-break-before: avoid;
                }
              }
              body {
                margin: 0;
                padding: ${N?"10px":"0"};
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                background: white;
                font-family: Arial, sans-serif;
              }
              img {
                display: block;
                max-width: 100%;
                height: auto;
                box-shadow: none;
              }
              .thermal {
                width: 80mm;
                margin: 0 auto;
              }
              .a4 {
                width: ${R};
                height: ${w};
                margin: 0 auto;
                object-fit: contain;
              }
            </style>
          </head>
          <body>
            <div class="${N?"thermal":"a4"}">
              <img src="${E}" alt="Document" style="width: 100%; height: auto;" />
            </div>
          </body>
        </html>
      `),z.document.close(),console.log(" PHASE 2: Print window content set"),z.onload=()=>{console.log(" PHASE 2: Print window loaded, triggering print"),z.print(),setTimeout(()=>{z.close(),console.log(" PHASE 2: Print window closed")},1e3)}}catch(m){console.error(" PHASE 2: Error in window-based print action:",m),window.print()}finally{setTimeout(()=>{l.current=!1,console.log(" PHASE 2: Print process complete")},1e3)}}},[t]),i=D.useCallback(async()=>{var m;if(!(l.current||!((m=e.customer)!=null&&m.email))){l.current=!0;try{console.log("Starting PDF generation for email...");const h=async()=>{if(console.log("PDF download function called"),!t.current){console.log("PDF generation blocked - no ref");return}try{console.log("Importing jsPDF...");const{default:M}=await je(async()=>{const{default:te}=await import("./jspdf.es.min-UQ_9LkPw.js").then(Y=>Y.j);return{default:te}},[]);console.log("jsPDF imported successfully");const g=t.current;console.log("Modal element:",g);const d=(g==null?void 0:g.querySelector('[data-format="a4"]'))||(g==null?void 0:g.querySelector('[data-format="thermal"]'))||g;if(console.log("Format element found:",d),console.log("Format element data-format:",d==null?void 0:d.getAttribute("data-format")),!d)throw new Error("No format element found");const y=d;console.log("Target element dimensions:",y.offsetWidth,"x",y.offsetHeight);const b=y.querySelectorAll("img");console.log("Found images:",b.length);const E=Array.from(b).map(te=>new Promise(Y=>{te.complete&&te.naturalHeight>0?(console.log("Image already loaded"),Y()):(console.log("Waiting for image to load..."),te.onload=()=>{console.log("Image loaded successfully"),Y()},te.onerror=()=>{console.log("Image failed to load, continuing"),Y()},setTimeout(()=>{console.log("Image load timeout, continuing"),Y()},2e3))}));await Promise.all(E),console.log("All images processed"),await new Promise(te=>setTimeout(te,200)),console.log("Render delay complete");const z={transform:y.style.transform,position:y.style.position,willChange:y.style.willChange,contain:y.style.contain};y.style.transform="none",y.style.position="static",y.style.willChange="auto",y.style.contain="none";const N=y.closest('[class*="fixed"]'),R=N?{transform:N.style.transform,willChange:N.style.willChange}:{};N&&(N.style.transform="none",N.style.willChange="auto"),console.log("Starting html2canvas capture...");const w=await ui(y,{scale:1.5,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,foreignObjectRendering:!1,logging:!1,width:y.offsetWidth,height:y.offsetHeight,scrollX:0,scrollY:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,ignoreElements:te=>te.tagName==="IFRAME"||te.classList.contains("html2canvas-ignore")||te.style.display==="none"});console.log("Canvas created:",w.width,"x",w.height),Object.assign(y.style,z),N&&R&&Object.assign(N.style,R);const O=y.hasAttribute("data-format")&&y.getAttribute("data-format")==="thermal";console.log("Is thermal format:",O);let H,P,ce;O?(H=new M({orientation:"portrait",unit:"mm",format:[80,200]}),P=80,ce=200):(H=new M({orientation:"portrait",unit:"mm",format:"a4"}),P=H.internal.pageSize.getWidth(),ce=H.internal.pageSize.getHeight()),console.log("PDF dimensions:",P,"x",ce);const Me=P,Ye=w.height*P/w.width,A=Math.min(Ye,ce);console.log("Image dimensions in PDF:",Me,"x",A);const _=w.toDataURL("image/png",1);console.log("Image data URL length:",_.length),H.addImage(_,"PNG",0,0,Me,A);const U=H.output("blob");console.log("PDF blob created, size:",U.size);const ee=URL.createObjectURL(U),F=document.createElement("a");F.href=ee,F.download=`${e.type}_${e.number}_${Date.now()}.pdf`,document.body.appendChild(F),console.log("Triggering PDF download..."),F.click(),document.body.removeChild(F),URL.revokeObjectURL(ee),console.log("PDF download triggered successfully")}catch(M){console.error("Error generating PDF for email:",M);try{const[{pdf:g},{default:d}]=await Promise.all([je(()=>import("./vendor-pdf-renderer-Bmei4UPz.js").then(N=>N.r),__vite__mapDeps([0,1,2])),je(()=>Promise.resolve().then(()=>Id),void 0)]),y=d({data:e}),b=await g(y).toBlob(),E=URL.createObjectURL(b),z=document.createElement("a");z.href=E,z.download=`${e.type}_${e.number}_${Date.now()}.pdf`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(E),console.log("Fallback PDF download completed")}catch(g){throw console.error("Fallback PDF generation for email also failed:",g),g}}};console.log("Calling PDF download...");try{await h(),console.log("PDF download completed successfully")}catch(M){throw console.error("PDF download failed:",M),M}await new Promise(M=>setTimeout(M,500));const v=`${e.type.charAt(0).toUpperCase()+e.type.slice(1)} ${e.number}`,j=`Bonjour ${e.customer.name},

Veuillez trouver ci-joint le document relatif  votre demande auprs d'Omega Services :

- Type de document: ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} ${e.number}
- Date: ${new Date(e.date).toLocaleDateString()}

Notre quipe reste  votre disposition pour toute question ou information complmentaire.
N'hsitez pas  nous contacter par retour de mail ou au [numro de tlphone] si vous avez besoin d'assistance supplmentaire.

Cordialement.`;window.location.href=`mailto:${e.customer.email}?subject=${encodeURIComponent(v)}&body=${encodeURIComponent(j)}`}catch(h){console.error("Error in email action:",h);const v=`${e.type.charAt(0).toUpperCase()+e.type.slice(1)} ${e.number}`,j=`Please find your ${e.type.toLowerCase()} details attached.`;window.location.href=`mailto:${e.customer.email}?subject=${encodeURIComponent(v)}&body=${encodeURIComponent(j)}`}finally{setTimeout(()=>{l.current=!1},2e3)}}},[(f=e.customer)==null?void 0:f.email,e.type,e.number,e,t]),c=D.useCallback(async()=>{if(!(l.current||!t.current)){l.current=!0;try{const m=t.current,h=(m==null?void 0:m.querySelector('[data-format="a4"]'))||(m==null?void 0:m.querySelector('[data-format="thermal"]'))||m;if(!h)throw new Error("No format element found");const v=h,j=v.querySelectorAll("img"),M=Array.from(j).map(b=>new Promise(E=>{b.complete&&b.naturalHeight>0?E():(b.onload=()=>E(),b.onerror=()=>E(),setTimeout(()=>E(),2e3))}));await Promise.all(M),await new Promise(b=>setTimeout(b,100));const d=(await ui(v,{scale:2,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!1,width:v.offsetWidth,height:v.offsetHeight})).toDataURL("image/png"),y=document.createElement("a");y.href=d,y.download=`${e.type}_${e.number}_${Date.now()}.png`,document.body.appendChild(y),y.click(),document.body.removeChild(y)}catch(m){console.error("Error generating document image:",m)}finally{setTimeout(()=>{l.current=!1},1e3)}}},[e.type,e.number,t]),o=D.useCallback(m=>{if(l.current)return;const h=m==="thermal"?"a4":"thermal";a==null||a(h)},[a]),r=D.useCallback(async()=>{if(!(l.current||!t.current)){l.current=!0;try{const{default:m}=await je(async()=>{const{default:_}=await import("./jspdf.es.min-UQ_9LkPw.js").then(U=>U.j);return{default:_}},[]),h=t.current,v=(h==null?void 0:h.querySelector('[data-format="a4"]'))||(h==null?void 0:h.querySelector('[data-format="thermal"]'))||h;if(!v)throw new Error("No format element found");const j=v,M=j.querySelectorAll("img"),g=Array.from(M).map(_=>new Promise(U=>{_.complete&&_.naturalHeight>0?U():(_.onload=()=>U(),_.onerror=()=>U(),setTimeout(()=>U(),2e3))}));await Promise.all(g),await new Promise(_=>setTimeout(_,200));const d={transform:j.style.transform,position:j.style.position,willChange:j.style.willChange,contain:j.style.contain};j.style.transform="none",j.style.position="static",j.style.willChange="auto",j.style.contain="none";const y=j.closest('[class*="fixed"]'),b=y?{transform:y.style.transform,willChange:y.style.willChange}:{};y&&(y.style.transform="none",y.style.willChange="auto");const E=await ui(j,{scale:1.5,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,foreignObjectRendering:!1,logging:!1,width:j.offsetWidth,height:j.offsetHeight,scrollX:0,scrollY:0,windowWidth:window.innerWidth,windowHeight:window.innerHeight,ignoreElements:_=>_.tagName==="IFRAME"||_.classList.contains("html2canvas-ignore")||_.style.display==="none"});Object.assign(j.style,d),y&&b&&Object.assign(y.style,b);const z=j.hasAttribute("data-format")&&j.getAttribute("data-format")==="thermal";console.log("PDF Generation - Element format:",j.getAttribute("data-format")),console.log("PDF Generation - Is thermal:",z);let N,R,w;z?(N=new m({orientation:"portrait",unit:"mm",format:[80,200]}),R=80,w=200):(N=new m({orientation:"portrait",unit:"mm",format:"a4"}),R=N.internal.pageSize.getWidth(),w=N.internal.pageSize.getHeight());const O=R,H=E.height*R/E.width,P=Math.min(H,w),ce=E.toDataURL("image/png",1);N.addImage(ce,"PNG",0,0,O,P);const Me=N.output("blob"),Ye=URL.createObjectURL(Me),A=document.createElement("a");A.href=Ye,A.download=`${e.type}_${e.number}_${Date.now()}.pdf`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(Ye)}catch(m){console.error("Error generating PDF:",m);try{const[{pdf:h},{default:v}]=await Promise.all([je(()=>import("./vendor-pdf-renderer-Bmei4UPz.js").then(y=>y.r),__vite__mapDeps([0,1,2])),je(()=>Promise.resolve().then(()=>Id),void 0)]),j=v({data:e}),M=await h(j).toBlob(),g=URL.createObjectURL(M),d=document.createElement("a");d.href=g,d.download=`fallback_${e.type}_${e.number}_${Date.now()}.pdf`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(g)}catch(h){console.error("Fallback PDF generation also failed:",h)}}finally{setTimeout(()=>{l.current=!1},1e3)}}},[e,t]),u=D.useCallback(m=>{var h;switch(m){case"email":return!!((h=e.customer)!=null&&h.email);case"download":case"print":case"toggleFormat":return!0;default:return!1}},[(x=e.customer)==null?void 0:x.email]);return{handlePrint:n,handleEmail:i,handleDownload:c,handlePDFDownload:r,handleFormatToggle:o,isActionAvailable:u,isProcessing:l.current}};function Zb({currentFormat:e,onToggle:t,disabled:a=!1}){const l=()=>e==="thermal"?Ss:sf,n=()=>`Switch to ${e==="thermal"?"A4":"Thermal"}`,i=l();return s.jsxs("button",{onClick:t,disabled:a,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:n(),children:[s.jsx(i,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:n()}),s.jsx("span",{className:"sm:hidden",children:"Switch"})]})}function Kb({onDownload:e,disabled:t=!1,isProcessing:a=!1}){return s.jsxs("button",{onClick:e,disabled:t||a,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:"Download Document",children:[s.jsx(h0,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:a?"Downloading...":"Download"}),s.jsx("span",{className:"sm:hidden",children:a?"...":"DL"})]})}function $b({data:e,onDownload:t,disabled:a=!1,isProcessing:l=!1}){return s.jsxs("button",{onClick:t,disabled:a||l,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:"Download PDF",children:[s.jsx(Ss,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:l?"Generating PDF...":"PDF"}),s.jsx("span",{className:"sm:hidden",children:l?"...":"PDF"})]})}function Jb({onEmail:e,disabled:t=!1,hasEmail:a=!1}){return a?s.jsxs("button",{onClick:e,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:"Email Document",children:[s.jsx(g0,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Email"})]}):null}function Fb({onPrint:e,disabled:t=!1}){return s.jsxs("button",{onClick:e,disabled:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 transition-colors",title:"Print Document",children:[s.jsx(cf,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Print"})]})}const $r="/assets/omegalogo-RZXh5qpI.png",Ib=e=>{switch(e){case"not_paid":return"Non pay";case"partially_paid":return"Partiellement pay";case"fully_paid":case"Paid":return" Pay ";default:return e}},Wb=e=>{switch(e){case"cash":return"Espces";case"card":return"Carte bancaire";case"transfer":return"Virement";case"digital":return"Chque";default:return e}};function Fd({data:e}){const t=Vs.thermal,a=e.amountPaid!==void 0?e.total-e.amountPaid:0,l=()=>{switch(e.type){case"quote":return"DEVIS";case"invoice":return"FACTURE";case"ticket":return"TICKET DE RPARATION";default:return"REU"}};return s.jsxs("div",{className:t.styles.container,style:{width:t.width,margin:"0 auto"},"data-format":"thermal",children:[s.jsxs("div",{className:t.styles.header,children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("img",{src:$r,alt:`${Ne.name} Logo`,className:"h-8 w-auto mr-2"})}),s.jsx("h1",{className:"font-bold text-lg",children:Ne.name}),s.jsx("p",{className:"text-xs",children:Ne.address}),s.jsxs("p",{className:"text-xs",children:["Tel: ",Ne.phone]}),s.jsxs("p",{className:"text-xs",children:["TVA: ",Ne.taxId]})]}),s.jsxs("div",{className:"border-y border-dashed py-2 my-2 text-center",children:[s.jsx("p",{className:"font-bold text-sm",children:l()}),s.jsxs("p",{className:"text-xs",children:["#",e.number]}),s.jsx("p",{className:"text-xs",children:Pt(new Date(e.date),"dd/MM/yyyy HH:mm")})]}),e.customer&&s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-1",children:"Client:"}),s.jsx("p",{className:"text-xs",children:e.customer.name}),e.customer.phone&&s.jsxs("p",{className:"text-xs",children:["Tel: ",e.customer.phone]}),e.customer.email&&s.jsx("p",{className:"text-xs",children:e.customer.email}),e.customer.address&&s.jsx("p",{className:"text-xs",children:e.customer.address})]}),s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-2",children:"Produits:"}),e.items.map((n,i)=>s.jsxs("div",{className:"mb-1",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"flex-1",children:n.name}),s.jsxs("span",{children:["x",n.quantity]})]}),n.sku&&s.jsxs("p",{className:"text-xs text-gray-600",children:["SKU: ",n.sku]}),s.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[s.jsxs("span",{children:["",(n.price*n.quantity).toFixed(2)]}),s.jsxs("span",{children:["@ ",n.price.toFixed(2)]})]})]},i))]}),s.jsxs("div",{className:"border-t border-dashed pt-2 my-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{children:"Prix HT:"}),s.jsxs("span",{children:["",e.subtotal.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{children:"TVA (20%):"}),s.jsxs("span",{children:["",e.tax.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-sm border-t border-dashed pt-1 mt-1",children:[s.jsx("span",{children:"TOTAL TTC:"}),s.jsxs("span",{children:["",e.total.toFixed(2)]})]})]}),(e.paymentMethod||e.paymentStatus)&&s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-1",children:"Paiement:"}),e.paymentMethod&&s.jsxs("p",{className:"text-xs",children:["Type de paiement: ",Wb(e.paymentMethod)]}),e.paymentStatus&&s.jsxs("p",{className:"text-xs",children:["Statut: ",Ib(e.paymentStatus)]}),e.amountPaid!==void 0&&e.amountPaid>0&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-xs",children:["Montant pay: ",e.amountPaid.toFixed(2)]}),e.amountPaid<e.total&&s.jsxs("p",{className:"text-xs font-bold",children:["Solde restant: ",a.toFixed(2)]})]})]}),e.note&&s.jsxs("div",{className:"my-2",children:[s.jsx("p",{className:"font-bold text-xs mb-1",children:"Note:"}),s.jsx("p",{className:"text-xs",children:e.note})]}),s.jsxs("div",{className:"text-center text-xs mt-4 border-t border-dashed pt-2",children:[s.jsx("p",{className:"mb-1",children:"Merci pour votre confiance !"}),s.jsx("p",{className:"mb-1",children:"Votre satisfaction est notre priorit."}),s.jsxs("p",{children:["Pour toute question concernant ce ",Qs[e.type].toLowerCase(),", veuillez nous contacter  ladresse ",Ne.email]})]})]})}const Pb=e=>{switch(e){case"not_paid":return"Non pay";case"partially_paid":return"Partiellement pay";case"fully_paid":case"Paid":return" Pay ";default:return e}},ev=e=>{switch(e){case"cash":return"Espces";case"card":return"Carte bancaire";case"transfer":return"Virement";case"digital":return"Chque";default:return e}};function tv({data:e}){const t=Vs.a4,a=e.amountPaid!==void 0?e.total-e.amountPaid:0,l=()=>{switch(e.type){case"quote":return"DEVIS";case"invoice":return"FACTURE";case"ticket":return"TICKET DE RPARATION";default:return"FACTURE"}};return s.jsxs("div",{className:`${t.styles.container} flex flex-col`,style:{width:t.width,maxWidth:"100%",minHeight:"100vh"},"data-format":"a4",children:[s.jsxs("div",{className:`${t.styles.header} flex justify-between flex-shrink-0`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-4",children:s.jsx("img",{src:$r,alt:`${Ne.name} Logo`,className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-1 text-gray-900",children:Ne.name}),s.jsx("p",{className:"text-sm text-gray-600",children:Ne.address}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tel: ",Ne.phone]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",Ne.email]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["TVA: ",Ne.taxId]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h2",{className:"text-xl font-bold mb-1 text-gray-900",children:l()}),s.jsxs("p",{className:"text-sm text-gray-600",children:["#",e.number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",Pt(new Date(e.date),"dd/MM/yyyy")]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Heure: ",Pt(new Date(e.date),"HH:mm")]})]})]}),s.jsxs("div",{className:"flex-grow py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:e.type==="ticket"?"Informations client:":"Facturer :"}),e.customer?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-800",children:e.customer.name}),e.customer.address&&s.jsx("p",{className:"text-gray-800",children:e.customer.address}),e.customer.phone&&s.jsxs("p",{className:"text-gray-800",children:["Tel: ",e.customer.phone]}),e.customer.email&&s.jsx("p",{className:"text-gray-800",children:e.customer.email}),e.customer.taxId&&s.jsxs("p",{className:"text-gray-800",children:["Tax ID: ",e.customer.taxId]})]}):s.jsx("p",{className:"text-gray-800",children:"Client walk-in "})]}),e.type==="ticket"&&e.deviceType&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Caractristiques de l'appareil:"}),s.jsx("table",{className:"w-full mb-4",children:s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Type:"}),s.jsx("td",{className:"py-2 text-gray-800",children:e.deviceType})]}),e.brand&&s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Marque:"}),s.jsx("td",{className:"py-2 text-gray-800",children:e.brand})]}),e.model&&s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium text-gray-800",children:"Modle:"}),s.jsx("td",{className:"py-2 text-gray-800",children:e.model})]}),e.imeiSerial&&s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium text-gray-800",children:"IMEI / Numro de Srie:"}),s.jsx("td",{className:"py-2 text-gray-800",children:e.imeiSerial})]})]})})]}),s.jsxs("table",{className:"w-full mb-6 border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("th",{className:"text-left py-2 text-gray-900",children:e.type==="ticket"?"Service":"Produit"}),s.jsx("th",{className:"text-center py-2 text-gray-900",children:"Qt"}),s.jsx("th",{className:"text-right py-2 text-gray-900",children:"P.U."}),s.jsx("th",{className:"text-right py-2 text-gray-900",children:"Prix"})]})}),s.jsx("tbody",{children:e.items.map(n=>s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsxs("td",{className:"py-3 text-gray-800",children:[s.jsx("p",{className:"font-medium",children:n.name}),n.description&&s.jsx("p",{className:"text-sm text-gray-600",children:n.description}),n.sku&&s.jsx("p",{className:"text-sm text-gray-600",children:n.sku})]}),s.jsx("td",{className:"text-center py-3 text-gray-800",children:n.quantity}),s.jsxs("td",{className:"text-right py-3 text-gray-800",children:["",n.price.toFixed(2)]}),s.jsxs("td",{className:"text-right py-3 text-gray-800",children:["",(n.price*n.quantity).toFixed(2)]})]},n.id))}),s.jsxs("tfoot",{children:[s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"text-right py-2 font-medium text-gray-800",children:"Prix HT"}),s.jsxs("td",{className:"text-right py-2 text-gray-800",children:["",e.subtotal.toFixed(2)]})]}),s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"text-right py-2 font-medium text-gray-800",children:"TVA (20%)"}),s.jsxs("td",{className:"text-right py-2 text-gray-800",children:["",e.tax.toFixed(2)]})]}),s.jsxs("tr",{className:"border-t border-gray-300",children:[s.jsx("td",{colSpan:3,className:"text-right py-2 font-bold text-gray-900",children:"Total TTC"}),s.jsxs("td",{className:"text-right py-2 font-bold text-gray-900",children:["",e.total.toFixed(2)]})]})]})]}),(e.paymentMethod||e.paymentStatus||e.amountPaid!==void 0)&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Informations de paiement:"}),e.paymentMethod&&s.jsxs("p",{className:"text-gray-800",children:["Mthode: ",ev(e.paymentMethod)]}),e.paymentStatus&&s.jsxs("p",{className:"text-gray-800",children:["Statut: ",Pb(e.paymentStatus)]}),e.amountPaid!==void 0&&e.amountPaid>0&&e.amountPaid<e.total&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-gray-800",children:["Montant pay: ",e.amountPaid.toFixed(2)]}),s.jsxs("p",{className:"text-gray-800 font-bold",children:["Solde restant: ",a.toFixed(2)]})]})]}),e.note&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Notes:"}),s.jsx("p",{className:"text-gray-800",children:e.note})]})]}),s.jsxs("div",{className:"flex-shrink-0 mt-auto",children:[s.jsx("div",{className:"flex justify-between items-end mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Conditions gnrales:"}),s.jsx("ol",{className:"list-decimal list-inside text-sm text-gray-600 pl-4",children:Yb[e.type].map((n,i)=>s.jsx("li",{children:n},i))})]})}),s.jsxs("div",{className:t.styles.footer,children:[s.jsx("p",{children:"Votre satisfaction est notre priorit. Merci pour votre confiance!"}),s.jsxs("p",{children:["Pour toute question concernant ce ",Qs[e.type].toLowerCase(),", veuillez nous contacter  ladresse ",Ne.email]})]})]})]})}const Q=Hg.create({page:{padding:40,fontSize:12,fontFamily:"Helvetica"},header:{marginBottom:20,borderBottomWidth:1,paddingBottom:10,textAlign:"center"},companyName:{fontSize:16,fontWeight:"bold",marginBottom:4},section:{marginBottom:15},flexRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:5},tableHeader:{flexDirection:"row",borderBottomWidth:1,paddingBottom:5,marginBottom:5},tableRow:{flexDirection:"row",marginBottom:3},colDescription:{width:"60%"},colQty:{width:"15%",textAlign:"right"},colPrice:{width:"25%",textAlign:"right"},totalSection:{marginTop:15,borderTopWidth:1,paddingTop:10},bold:{fontWeight:"bold"},footer:{marginTop:30,borderTopWidth:1,paddingTop:10,fontSize:10,textAlign:"center"}}),av=e=>{switch(e){case"not_paid":return"Non pay";case"partially_paid":return"Partiellement pay";case"fully_paid":case"Paid":return" Pay ";default:return e}},lv=e=>{switch(e){case"cash":return"Espces";case"card":return"Carte bancaire";case"transfer":return"Virement";case"digital":return"Chque";default:return e}};function Dg({data:e}){const t=()=>{switch(e.type){case"quote":return"DEVIS";case"invoice":return"FACTURE";case"ticket":return"TICKET DE RPARATION";default:return"REU"}};return s.jsx(Ug,{children:s.jsxs(qg,{size:"A4",style:Q.page,children:[s.jsxs(de,{style:Q.header,children:[s.jsx(q,{style:Q.companyName,children:"O'MEGA SERVICES"}),s.jsx(q,{children:"400 Rue nationale, 69400 Villefranche S/S"}),s.jsx(q,{children:"Tel: 0986608980 | TVA: FR123456789"})]}),s.jsxs(de,{style:Q.section,children:[s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{style:Q.bold,children:t()}),s.jsxs(q,{children:["#",e.number]})]}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Date:"}),s.jsx(q,{children:new Date(e.date).toLocaleDateString()})]}),e.status&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Statut:"}),s.jsx(q,{children:e.status})]})]}),s.jsxs(de,{style:Q.section,children:[s.jsx(q,{style:Q.bold,children:e.type==="ticket"?"Informations client:":"Facturer :"}),e.customer?s.jsxs(s.Fragment,{children:[s.jsx(q,{children:e.customer.name}),e.customer.address&&s.jsx(q,{children:e.customer.address}),e.customer.phone&&s.jsxs(q,{children:["Tel: ",e.customer.phone]}),e.customer.email&&s.jsx(q,{children:e.customer.email}),e.customer.taxId&&s.jsxs(q,{children:["Tax ID: ",e.customer.taxId]})]}):s.jsx(q,{children:"Client walk-in"})]}),e.type==="ticket"&&e.deviceType&&s.jsxs(de,{style:Q.section,children:[s.jsx(q,{style:Q.bold,children:"Caractristiques de l'appareil:"}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Type:"}),s.jsx(q,{children:e.deviceType})]}),e.brand&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Marque:"}),s.jsx(q,{children:e.brand})]}),e.model&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Modle:"}),s.jsx(q,{children:e.model})]}),e.imeiSerial&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"IMEI/Srie:"}),s.jsx(q,{children:e.imeiSerial})]})]}),s.jsxs(de,{style:Q.section,children:[s.jsxs(de,{style:Q.tableHeader,children:[s.jsx(q,{style:Q.colDescription,children:e.type==="ticket"?"Service":"Produit"}),s.jsx(q,{style:Q.colQty,children:"Qt"}),s.jsx(q,{style:Q.colPrice,children:"Prix"})]}),e.items.map((a,l)=>s.jsxs(de,{style:Q.tableRow,children:[s.jsx(q,{style:Q.colDescription,children:a.name}),s.jsx(q,{style:Q.colQty,children:a.quantity}),s.jsxs(q,{style:Q.colPrice,children:["",(a.price*a.quantity).toFixed(2)]})]},l))]}),s.jsxs(de,{style:Q.totalSection,children:[s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Prix HT:"}),s.jsxs(q,{children:["",e.subtotal.toFixed(2)]})]}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"TVA (20%):"}),s.jsxs(q,{children:["",e.tax.toFixed(2)]})]}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{style:Q.bold,children:"Total TTC:"}),s.jsxs(q,{style:Q.bold,children:["",e.total.toFixed(2)]})]})]}),(e.paymentMethod||e.paymentStatus||e.amountPaid!==void 0)&&s.jsxs(de,{style:Q.section,children:[s.jsx(q,{style:Q.bold,children:"Informations de paiement:"}),e.paymentMethod&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Mthode:"}),s.jsx(q,{children:lv(e.paymentMethod)})]}),e.paymentStatus&&s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Statut:"}),s.jsx(q,{children:av(e.paymentStatus)})]}),e.amountPaid!==void 0&&e.amountPaid>0&&e.amountPaid<e.total&&s.jsxs(s.Fragment,{children:[s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{children:"Montant pay:"}),s.jsxs(q,{children:["",e.amountPaid.toFixed(2)]})]}),s.jsxs(de,{style:Q.flexRow,children:[s.jsx(q,{style:Q.bold,children:"Solde restant:"}),s.jsxs(q,{style:Q.bold,children:["",(e.total-e.amountPaid).toFixed(2)]})]})]})]}),e.note&&s.jsxs(de,{style:Q.section,children:[s.jsx(q,{style:Q.bold,children:"Notes:"}),s.jsx(q,{children:e.note})]}),s.jsxs(de,{style:Q.footer,children:[s.jsx(q,{children:"Votre satisfaction est notre priorit. Merci pour votre confiance !"}),s.jsxs(q,{children:["Pour toute question concernant ce ",Qs[e.type].toLowerCase(),", veuillez nous contacter  l'adresse ",Ne.email]}),s.jsx(q,{children:"O'MEGA SERVICES | 400 Rue nationale, 69400 Villefranche S/S | Tel: 0986608980"})]})]})})}const Id=Object.freeze(Object.defineProperty({__proto__:null,default:Dg},Symbol.toStringTag,{value:"Module"}));function nv({data:e}){var n;const t=Vs.a4,a=Pt(new Date,"dd/MM/yyyy"),l=["Je reconnais avoir confi mon appareil  OMEGA SERVICES","J'ai t inform(e) que je dois sauvegarder mes donnes avant toute intervention","Le client reconnat avoir t inform que l'intervention peut entraner la perte de tout ou une partie de ses donnes et en accepte les consquences","J'accepte que le diagnostic puisse tre payant","Je reconnais que les dlais sont indicatifs","Je m'engage  rgler la totalit de la prestation avant rcupration de l'appareil","Je reconnais la garantie de 3 mois applicable uniquement sur les pices remplaces","Tout appareil non rcupr sous 30 jours pourra tre considr comme abandonn"];return s.jsxs("div",{className:`${t.styles.container} flex flex-col`,style:{width:t.width,maxWidth:"100%",minHeight:"100vh"},"data-format":"a4",children:[s.jsxs("div",{className:`${t.styles.header} flex justify-between flex-shrink-0`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-4",children:s.jsx("img",{src:$r,alt:`${Ne.name} Logo`,className:"h-12 w-auto"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-1 text-gray-900",children:Ne.name}),s.jsx("p",{className:"text-sm text-gray-600",children:Ne.address}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tel: ",Ne.phone]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",Ne.email]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["TVA: ",Ne.taxId]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h2",{className:"text-xl font-bold mb-1 text-gray-900",children:"CONTRAT D'ENGAGEMENT CLIENT"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["#",e.number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",a]})]})]}),s.jsxs("div",{className:"flex-grow py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Informations client:"}),e.customer?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-800",children:e.customer.name}),e.customer.address&&s.jsx("p",{className:"text-gray-800",children:e.customer.address}),e.customer.phone&&s.jsxs("p",{className:"text-gray-800",children:["Tel: ",e.customer.phone]}),e.customer.email&&s.jsx("p",{className:"text-gray-800",children:e.customer.email})]}):s.jsx("p",{className:"text-gray-800",children:"Client walk-in"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Appareil confi:"}),s.jsxs("table",{className:"w-full border-collapse border border-gray-300",style:{tableLayout:"fixed"},children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-bold text-gray-900",style:{width:"25%"},children:"Type"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-bold text-gray-900",style:{width:"25%"},children:"Marque"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-bold text-gray-900",style:{width:"25%"},children:"Modle"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-bold text-gray-900",style:{width:"25%"},children:"IMEI / Numro de Srie"})]})}),s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 px-3 pt-1 pb-2 text-sm text-gray-800",style:{verticalAlign:"text-top"},children:e.deviceType||"Non spcifi"}),s.jsx("td",{className:"border border-gray-300 px-3 pt-1 pb-2 text-sm text-gray-800",style:{verticalAlign:"text-top"},children:e.brand||"Non spcifie"}),s.jsx("td",{className:"border border-gray-300 px-3 pt-1 pb-2 text-sm text-gray-800",style:{verticalAlign:"text-top"},children:e.model||"Non spcifi"}),s.jsx("td",{className:"border border-gray-300 px-3 pt-1 pb-2 text-sm text-gray-800",style:{verticalAlign:"text-top"},children:e.imeiSerial||"Non fourni"})]})})]})]}),e.items&&e.items.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Prestations prvues:"}),s.jsx("table",{className:"w-full mb-4",children:s.jsx("tbody",{children:e.items.map((i,c)=>s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsxs("td",{className:"py-2 font-medium text-gray-800",children:[c+1,". ",i.name]}),s.jsx("td",{className:"py-2 text-gray-800",children:i.description||""})]},i.id))})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Estimation des cots:"}),s.jsxs("p",{className:"text-gray-800 font-bold",children:["Montant estim: ",e.total?`${e.total.toFixed(2)}`:" dterminer aprs diagnostic"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"* Le montant final pourra tre diffrent suite au diagnostic complet de l'appareil"})]})]}),s.jsxs("div",{className:"flex-shrink-0 mt-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900",children:"Conditions de rparation:"}),s.jsx("div",{className:"space-y-2",children:l.map((i,c)=>s.jsxs("div",{className:"flex items-start",children:[s.jsxs("span",{className:"inline-block w-6 text-sm font-medium text-gray-800 flex-shrink-0",children:[c+1,"."]}),s.jsx("span",{className:"text-sm text-gray-600 leading-relaxed",children:i})]},c))})]}),s.jsxs("div",{className:"mb-6 border-t border-gray-300 pt-4",children:[s.jsx("h3",{className:"font-bold mb-2 text-gray-900 text-center",children:"SIGNATURE DU CLIENT"}),s.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"En signant ce document, le client reconnat avoir lu et accept toutes les conditions ci-dessus."}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"w-1/2 pr-4",children:s.jsxs("div",{className:"border border-gray-300 p-4",children:[s.jsx("p",{className:"font-medium text-sm mb-2",children:"Signature du client:"}),s.jsx("div",{className:"border-b border-gray-400 h-8 mb-2"}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Nom: ",((n=e.customer)==null?void 0:n.name)||""]})]})}),s.jsx("div",{className:"w-1/2 pl-4",children:s.jsxs("div",{className:"border border-gray-300 p-4",children:[s.jsx("p",{className:"font-medium text-sm mb-2",children:"O'MEGA SERVICES:"}),s.jsx("div",{className:"border-b border-gray-400 h-8 mb-2"}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Date: ",a]})]})})]}),s.jsx("p",{className:"text-xs text-gray-600 text-center mt-4 italic",children:"Ce document fait office de contrat lgal entre le client et OMEGA SERVICES"})]}),s.jsx("div",{className:t.styles.footer,children:s.jsxs("p",{children:["OMEGA SERVICES - Tous droits rservs - Document gnr le ",a]})})]})]})}function iv({data:e,onClose:t,initialFormat:a="thermal"}){var g;const l=Ha(d=>d.isDarkMode),[n,i]=D.useState(a),c=D.useRef(null),{handlePrint:o,handleEmail:r,handleDownload:u,handlePDFDownload:f,handleFormatToggle:x,isProcessing:m}=Xb({data:e,documentRef:c,onFormatChange:i}),h=Vs[n],v=Qs[e.type],j=()=>{x(n)},M=()=>{const d={data:e};if(e.type==="engagement")return s.jsx(nv,{...d});switch(n){case"thermal":return s.jsx(Fd,{...d});case"a4":return s.jsx(tv,{...d});case"pdf":return s.jsx(Dg,{...d});default:return s.jsx(Fd,{...d})}};return s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:s.jsxs("div",{className:`relative ${l?"bg-gray-800":"bg-white"} rounded-lg shadow-xl overflow-y-auto`,style:{width:"280mm",maxWidth:"90vw",maxHeight:"90vh",minHeight:"600px"},children:[s.jsxs("div",{className:`flex justify-between items-center p-4 border-b sticky top-0 ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} z-10`,children:[s.jsxs("div",{children:[s.jsxs("h2",{className:`text-lg font-semibold ${l?"text-white":"text-gray-900"}`,children:[h.name," - ",v]}),s.jsxs("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"}`,children:["#",e.number,"  ",Ne.name]})]}),s.jsx("button",{onClick:t,className:`text-gray-400 hover:text-gray-500 ${l?"hover:text-gray-300":""}`,children:s.jsx(y0,{className:"h-5 w-5"})})]}),s.jsx("div",{className:`overflow-auto ${n==="thermal"?"flex justify-center p-8":"p-4"}`,ref:c,children:s.jsx("div",{className:n==="thermal"?"":h.styles.container,children:M()})}),s.jsxs("div",{className:`flex justify-between items-center gap-2 p-4 border-t sticky bottom-0 ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[s.jsx(Zb,{currentFormat:n,onToggle:j,disabled:m}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($b,{data:e,onDownload:f,disabled:m,isProcessing:m}),s.jsx(Kb,{onDownload:u,disabled:m,isProcessing:m}),s.jsx(Jb,{onEmail:r,disabled:m,hasEmail:!!((g=e.customer)!=null&&g.email)}),s.jsx(Fb,{onPrint:o,disabled:m})]})]})]})})}const sv=D.memo(iv);function Gv(e,t,a){const l=e.cost||0,n=.2,i=l*(n/(1+n)),c=l-i,o=[];if(e.taskPrices&&Array.isArray(e.taskPrices))e.taskPrices.forEach(u=>{o.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:u.name,quantity:1,price:u.price})});else if(e.tasks&&Array.isArray(e.tasks)){const u=e.tasks.length,f=u>0?c/u:0;e.tasks.forEach(x=>{o.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:x,quantity:1,price:f})})}let r=0;return e.paymentStatus==="fully_paid"?r=l:e.paymentStatus==="partially_paid"&&(r=e.amountPaid||0),{id:e.id||`ticket-${Math.random().toString(36).substring(2,9)}`,number:e.ticketNumber||"",date:e.createdAt||new Date().toISOString(),customer:a?{id:t,name:a.name||"",email:a.email||"",phone:a.phone||"",address:a.address||""}:void 0,items:o,subtotal:c,tax:i,total:l,paymentStatus:e.paymentStatus||"not_paid",amountPaid:r,status:e.status||"Pending",type:"ticket",deviceType:e.deviceType||"",brand:e.brand||"",model:e.model||"",imeiSerial:e.imeiSerial,sourceType:"ticket",sourceId:e.id}}function cv(e){return{id:e.id||`receipt-${Math.random().toString(36).substring(2,9)}`,number:e.receiptNumber||e.invoiceNumber||"",date:e.date||new Date().toISOString(),customer:e.customer?{id:e.customer.id||`customer-${Math.random().toString(36).substring(2,9)}`,name:e.customer.name||"",email:e.customer.email||"",phone:e.customer.phone||"",address:e.customer.address||""}:void 0,items:(e.items||[]).map(t=>({id:t.id||`item-${Math.random().toString(36).substring(2,9)}`,name:t.name||"",quantity:t.quantity||1,price:t.price||0})),subtotal:e.subtotal||0,tax:e.tax||0,total:e.total||0,paymentMethod:e.paymentMethod,paymentStatus:e.paymentStatus||"Paid",amountPaid:e.amountPaid,note:e.note,type:"receipt",sourceType:"pos",sourceId:e.id}}function Yv(e){return{id:e.id||`quote-${Math.random().toString(36).substring(2,9)}`,number:e.quoteNumber||"",date:e.createdAt||new Date().toISOString(),customer:e.customer?{id:e.customer.id||`customer-${Math.random().toString(36).substring(2,9)}`,name:e.customer.name||"",email:e.customer.email||"",phone:e.customer.phone||"",address:e.customer.address||""}:void 0,items:(e.items||[]).map(t=>({id:t.productId||`item-${Math.random().toString(36).substring(2,9)}`,name:t.name||"",quantity:t.quantity||1,price:t.price||0,sku:t.sku})),subtotal:e.subtotal||0,tax:e.tax||0,total:e.total||0,paymentMethod:e.paymentMethod,note:e.notes,type:"quote",status:e.status||"draft",validUntil:e.validUntil,sourceType:"pos",sourceId:e.id}}function Xv(e,t){const a=[];return e.taskPrices&&Array.isArray(e.taskPrices)?e.taskPrices.forEach(l=>{a.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:l.name,quantity:1,price:l.price})}):e.tasks&&Array.isArray(e.tasks)&&e.tasks.forEach(l=>{a.push({id:`task-${Math.random().toString(36).substring(2,9)}`,name:l,quantity:1,price:0,description:"Prestation de rparation"})}),{id:e.id||`engagement-${Math.random().toString(36).substring(2,9)}`,number:`ENG-${e.ticketNumber||Math.random().toString(36).substring(2,9)}`,date:e.createdAt||new Date().toISOString(),customer:t?{id:t.id||`customer-${Math.random().toString(36).substring(2,9)}`,name:t.name||"",email:t.email||"",phone:t.phone||"",address:t.address||""}:void 0,items:a,subtotal:e.cost||0,tax:0,total:e.cost||0,status:e.status||"pending",type:"engagement",deviceType:e.deviceType||"",brand:e.brand||"",model:e.model||"",imeiSerial:e.imeiSerial,sourceType:"ticket",sourceId:e.id,note:`CONTRAT D'ENGAGEMENT CLIENT - ${e.ticketNumber}`}}const fl=[{id:"cash",name:"Espces",icon:N0},{id:"card",name:"Carte bancaire",icon:w0},{id:"transfer",name:"Virement",icon:Ss},{id:"digital",name:"Chque",icon:sf}];function ov(){var su;const e=Ha(p=>p.isDarkMode),{products:t,categories:a,updateStock:l}=tg(),{clients:n}=Ph(),{tickets:i}=eg(),{createSale:c}=Ld(),{createQuote:o}=dx(),{showReceipt:r,currentInvoice:u,setShowReceipt:f,setCurrentInvoice:x,clearReceipt:m}=rx(),[h,v]=D.useState([]),[j,M]=D.useState(null),[g,d]=D.useState(null),[y,b]=D.useState(""),[E,z]=D.useState(!1),[N,R]=D.useState(""),[w,O]=D.useState(fl[0].id),[H,P]=D.useState(""),[ce,Me]=D.useState(!1),[Ye,A]=D.useState("thermal"),[_,U]=D.useState("pos"),[ee,F]=D.useState(!1),[te,Y]=D.useState({name:"",price:""}),[ze,Xe]=D.useState(""),[tt,ka]=D.useState(""),[ra,Jr]=D.useState(""),[en,Fr]=D.useState("desc"),[ua,Ir]=D.useState(""),[Bt,tn]=D.useState([]),[Wr,Pr]=D.useState(!1),[Gs,Cg]=D.useState(!1),[Ct,Ys]=D.useState({min:"",max:""}),[Mt,Xs]=D.useState({min:"",max:""}),[zt,Zs]=D.useState({from:"",to:""}),Ks=t.filter(p=>{const C=ua?p.name.toLowerCase().includes(ua.toLowerCase())||p.description.toLowerCase().includes(ua.toLowerCase())||p.sku.toLowerCase().includes(ua.toLowerCase())||(p.category||"").toLowerCase().includes(ua.toLowerCase())||p.price.toString().includes(ua):!0,k=Bt.length===0||Bt.includes(p.category||""),X=(!Ct.min||p.price>=Number(Ct.min))&&(!Ct.max||p.price<=Number(Ct.max)),re=(!Mt.min||p.stock>=Number(Mt.min))&&(!Mt.max||p.stock<=Number(Mt.max)),rl=(!zt.from||new Date(p.createdAt)>=new Date(zt.from))&&(!zt.to||new Date(p.createdAt)<=new Date(zt.to));return C&&k&&X&&re&&rl}),Mg=D.useRef(null);p0({count:Ks.length,getScrollElement:()=>Mg.current,estimateSize:()=>220,overscan:5});const eu=n.filter(p=>p.name.toLowerCase().includes(y.toLowerCase())||p.email.toLowerCase().includes(y.toLowerCase())||p.phone.toLowerCase().includes(y.toLowerCase())),tu=i.filter(p=>{const C=N?p.ticketNumber.toLowerCase().includes(N.toLowerCase()):!0,k=j?p.clientId===j:!0;return C&&k}),ol=h.reduce((p,C)=>p+C.product.price*C.quantity,0),au=.2,an=ol*(au/(1+au)),oi=ol-an,lu=p=>{v(C=>C.find(X=>X.product.id===p.id)?C.map(X=>X.product.id===p.id?{...X,quantity:X.quantity+1}:X):[...C,{product:p,quantity:1}])},zg=()=>{if(!te.name.trim()||!te.price.trim()){alert("Veuillez saisir un nom et un prix pour l'article personnalis.");return}const p=parseFloat(te.price);if(isNaN(p)||p<=0){alert("Veuillez saisir un prix valide.");return}const C={id:`custom-${Date.now()}`,name:te.name.trim(),price:p,sku:"",description:"Article personnalis",category:"Service/Article personnalis",stock:999,imageUrl:"",isCustom:!0};v(k=>[...k,{product:C,quantity:1}]),Y({name:"",price:""}),F(!1)},nu=(p,C)=>{C<=0?v(k=>k.filter(X=>X.product.id!==p)):v(k=>k.map(X=>X.product.id===p?{...X,quantity:C}:X))},ri=()=>{v([]),M(null),d(null),b(""),z(!1),R(""),O(fl[0].id),P(""),Me(!1),A("thermal")},Og=()=>{const p="INV",C=Pt(new Date,"yyMMdd"),k=Math.floor(1e3+Math.random()*9e3);return`${p}-${C}-${k}`},iu=async()=>{var nn,cu;if(h.length===0)return;const p=Og(),C=j?n.find(pe=>pe.id===j):void 0;if(j&&!C){alert("Erreur: Client slectionn introuvable. Veuillez ressayer.");return}const k={invoiceNumber:p,date:new Date().toISOString(),customer:C?{name:C.name,email:C.email,address:C.address,phone:C.phone,taxId:""}:void 0,items:h.map(pe=>({id:pe.product.id,name:pe.product.name,sku:pe.product.sku,quantity:pe.quantity,price:pe.product.price})),subtotal:oi,tax:an,total:ol,paymentMethod:((nn=fl.find(pe=>pe.id===w))==null?void 0:nn.name)||w,paymentStatus:"Paid",note:H||void 0},re=(H??"")||"",rl={invoiceNumber:p,items:h.map(pe=>({productId:pe.product.id,quantity:pe.quantity,name:pe.product.name,sku:pe.product.sku,price:pe.product.price})),subtotal:oi,tax:an,total:ol,customer:C?{id:C.id,name:C.name,...C.email&&{email:C.email},...C.phone&&{phone:C.phone},...C.address&&{address:C.address}}:void 0,paymentMethod:((cu=fl.find(pe=>pe.id===w))==null?void 0:cu.name)||w,paymentStatus:"Paid",date:new Date().toISOString()};if(typeof re=="string"&&re.trim().length>0&&(rl.note=re.trim()),!await c(rl)){alert("Erreur: Impossible de crer la vente. Veuillez ressayer.");return}try{for(const pe of h)await l(pe.product.id,-pe.quantity)}catch(pe){console.error("Error updating stock:",pe),alert("Vente cre avec succs, mais erreur lors de la mise  jour du stock. Veuillez vrifier manuellement.")}x(k),f(!0),localStorage.setItem("pos_showReceipt","true"),localStorage.setItem("pos_currentInvoice",JSON.stringify(k))},_g=async()=>{var X;if(h.length===0)return;const p=j?n.find(re=>re.id===j):void 0;if(j&&!p){alert("Erreur: Client slectionn introuvable. Veuillez ressayer.");return}if(!j&&!ce){alert('Pour crer un devis, veuillez slectionner un client ou cocher "Vente rapide".');return}const C={items:h.map(re=>({productId:re.product.id,quantity:re.quantity,name:re.product.name,sku:re.product.sku,price:re.product.price,description:re.product.description||void 0})),subtotal:oi,tax:an,total:ol,customer:p?{id:p.id,name:p.name,...p.email&&{email:p.email},...p.phone&&{phone:p.phone},...p.address&&{address:p.address}}:void 0,paymentMethod:((X=fl.find(re=>re.id===w))==null?void 0:X.name)||w};H&&H.trim().length>0&&(C.notes=H.trim()),console.log("Creating quote with data:",C);const k=await o(C);if(console.log("Quote creation result:",k),!k){alert("Erreur: Impossible de crer le devis. Veuillez ressayer.");return}alert(`Devis cr avec succs! Numro: ${k}`),ri()},{sales:ln,fetchSales:$s}=Ld();D.useEffect(()=>{$s()},[$s]);const Js=D.useMemo(()=>{let p=ln.filter(C=>{var Fs;const k=ze?C.invoiceNumber.toLowerCase().includes(ze.toLowerCase())||(((Fs=C.customer)==null?void 0:Fs.name)||"").toLowerCase().includes(ze.toLowerCase())||(C.note||"").toLowerCase().includes(ze.toLowerCase())||C.paymentMethod.toLowerCase().includes(ze.toLowerCase())||C.items.some(nn=>nn.name.toLowerCase().includes(ze.toLowerCase())||(nn.sku||"").toLowerCase().includes(ze.toLowerCase())):!0,X=new Date(C.date),re=tt?X>=new Date(tt):!0,rl=ra?X<=new Date(ra+"T23:59:59"):!0;return k&&re&&rl});return p.sort((C,k)=>{const X=new Date(C.date).getTime(),re=new Date(k.date).getTime();return en==="desc"?re-X:X-re}),p},[ln,ze,tt,ra,en]),Rg=()=>{Xe(""),ka(""),Jr(""),Fr("desc")};return D.useEffect(()=>{const p=C=>{if(!(_!=="pos"||C.target instanceof HTMLInputElement||C.target instanceof HTMLTextAreaElement))switch(C.key.toLowerCase()){case"f1":C.preventDefault(),O("cash");break;case"f2":C.preventDefault(),O("card");break;case"f3":C.preventDefault(),O("transfer");break;case"f4":C.preventDefault(),O("digital");break;case"f5":C.preventDefault(),A("thermal");break;case"f6":C.preventDefault(),A("a4");break;case"f7":C.preventDefault(),Me(!ce);break;case"f8":C.preventDefault(),F(!0);break;case"f9":C.preventDefault(),h.length>0&&(ce||j)&&iu();break;case"f10":C.preventDefault(),ri();break;case"escape":C.preventDefault(),U("sales");break}};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[_,h.length,ce,j,w,Ye]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:`text-2xl font-semibold ${e?"text-white":"text-gray-900"}`,children:"Caisse"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-600"} hidden sm:block`,children:"Raccourcis: F1-F4 (Paiement) | F5-F6 (Reu) | F7 (Vente Rapide) | F8 (Article Pers.) | F9 (Finaliser) | F10 (Vider)"}),s.jsx("button",{onClick:()=>U(_==="pos"?"sales":"pos"),className:`px-3 py-2 rounded-md text-sm font-medium ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_==="pos"?" Ventes":" PDV"})]})]}),r&&u&&s.jsx(sv,{data:cv(u),onClose:()=>{m(),localStorage.removeItem("pos_showReceipt"),localStorage.removeItem("pos_currentInvoice"),ri()},initialFormat:Ye}),ee&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>F(!1)}),s.jsxs("div",{className:`relative w-full max-w-md rounded-lg shadow-xl ${e?"bg-gray-800":"bg-white"} p-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:`text-lg font-semibold ${e?"text-white":"text-gray-900"}`,children:" Ajouter un article personnalis"}),s.jsx("button",{onClick:()=>F(!1),className:`p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 ${e?"text-gray-400":"text-gray-600"}`,children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Nom de l'article *"}),s.jsx("input",{type:"text",value:te.name,onChange:p=>Y({...te,name:p.target.value}),placeholder:"Ex: Service de rparation, Consultation...",className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Prix () *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:te.price,onChange:p=>Y({...te,price:p.target.value}),placeholder:"0.00",className:`w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`,required:!0})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{F(!1),Y({name:"",price:""})},className:`px-4 py-2 border rounded-md text-sm font-medium ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Annuler"}),s.jsx("button",{type:"button",onClick:zg,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm font-medium",children:"Ajouter au panier"})]})]})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>U("pos"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="pos"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Systme PDV"}),s.jsx("button",{onClick:()=>U("sales"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="sales"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Toutes les ventes"})]})}),_==="sales"?s.jsxs("div",{className:`rounded-lg ${e?"bg-gray-800":"bg-white"} shadow p-6`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:`text-xl font-semibold ${e?"text-white":"text-gray-900"}`,children:["Toutes les ventes (",Js.length,")"]}),s.jsx("button",{onClick:()=>$s(),className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Actualiser"})]}),s.jsxs("div",{className:"mb-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${e?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx(fu,{className:"h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher par facture, client, produit, mode de paiement...",value:ze,onChange:p=>Xe(p.target.value),className:`flex-1 bg-transparent border-0 focus:ring-0 ${e?"text-white placeholder-gray-400":"text-gray-900 placeholder-gray-500"}`})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>Fr(en==="desc"?"asc":"desc"),className:`flex items-center gap-2 px-3 py-2 rounded-md border ${e?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[en==="desc"?s.jsx(x0,{className:"h-4 w-4"}):s.jsx(b0,{className:"h-4 w-4"}),"Date ",en==="desc"?"Plus rcent":"Plus ancien"]}),s.jsx("button",{onClick:Rg,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",children:"Effacer les filtres"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mu,{className:"h-4 w-4 text-gray-400"}),s.jsx("label",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:"De:"}),s.jsx("input",{type:"date",value:tt,onChange:p=>ka(p.target.value),className:`px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mu,{className:"h-4 w-4 text-gray-400"}),s.jsx("label",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:":"}),s.jsx("input",{type:"date",value:ra,onChange:p=>Jr(p.target.value),className:`px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500 ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]})]})]}),Js.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-500"}`,children:ln.length===0?"Aucune vente trouve.":"Aucune vente ne correspond  vos filtres."})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:`min-w-full divide-y ${e?"divide-gray-700":"divide-gray-200"}`,children:[s.jsx("thead",{className:e?"bg-gray-700":"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Facture"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Date"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Client"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Articles"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Statut"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Total"}),s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${e?"text-gray-300":"text-gray-500"}`,children:"Actions"})]})}),s.jsx("tbody",{className:`divide-y ${e?"bg-gray-800 divide-gray-700":"bg-white divide-gray-200"}`,children:Js.map(p=>{var C;return s.jsxs("tr",{className:e?"hover:bg-gray-700":"hover:bg-gray-50",children:[s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:p.invoiceNumber}),s.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-gray-300":"text-gray-500"}`,children:[Pt(new Date(p.date),"MMM dd, yyyy"),s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:Pt(new Date(p.date),"HH:mm")})]}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-gray-300":"text-gray-500"}`,children:((C=p.customer)==null?void 0:C.name)||"Client sans rendez-vous"}),s.jsx("td",{className:`px-6 py-4 text-sm ${e?"text-gray-300":"text-gray-500"}`,children:s.jsxs("div",{className:"max-w-xs truncate",children:[p.items.length," article(s)",p.items.length>0&&s.jsxs("div",{className:"text-xs mt-1",children:[p.items.slice(0,2).map((k,X)=>s.jsxs("span",{children:[k.name,X<p.items.slice(0,2).length-1?", ":""]},X)),p.items.length>2&&"..."]})]})}),s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-gray-300":"text-gray-500"}`,children:p.paymentStatus==="Paid"?"Pay":p.paymentStatus||"Non pay"}),s.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${e?"text-white":"text-gray-900"}`,children:["",p.total.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>{x({invoiceNumber:p.invoiceNumber,date:p.date,customer:p.customer,items:p.items.map(k=>({id:k.productId,name:k.name,sku:k.sku,quantity:k.quantity,price:k.price})),subtotal:p.subtotal,tax:p.tax,total:p.total,paymentMethod:p.paymentMethod,paymentStatus:p.paymentStatus,note:p.note,type:"receipt"}),f(!0)},className:"bg-indigo-600 text-white px-3 py-1 rounded text-sm hover:bg-indigo-700 transition-colors",children:"Facture"})})]},p.id)})})]})})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:`rounded-lg ${e?"bg-gray-800":"bg-white"} shadow p-6`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 flex items-center gap-4 bg-white dark:bg-gray-700 p-4 rounded-lg shadow-inner",children:[s.jsx(fu,{className:"h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher des produits...",value:ua,onChange:p=>Ir(p.target.value),className:"flex-1 bg-transparent border-0 focus:ring-0 text-gray-900 dark:text-white placeholder-gray-400"})]}),(Bt.length>0||Ct.min||Ct.max||Mt.min||Mt.max||zt.from||zt.to||ua)&&s.jsx("button",{type:"button",onClick:()=>{tn([]),Ys({min:"",max:""}),Xs({min:"",max:""}),Zs({from:"",to:""}),Ir("")},className:"px-3 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 whitespace-nowrap",children:"Effacer les filtres"})]}),s.jsxs("div",{className:"relative min-w-[200px]",children:[s.jsxs("button",{type:"button",onClick:()=>Pr(!Wr),className:`w-full flex items-center justify-between rounded-lg border shadow-sm px-3 py-2 text-left text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:border-indigo-500 focus:ring-indigo-500`,children:[s.jsx("span",{className:"block truncate",children:Bt.length===0?"Toutes les catgories":`${Bt.length} cat. slectionne${Bt.length>1?"s":""}`}),s.jsx(Qc,{className:"h-4 w-4 text-gray-400 ml-2"})]}),Wr&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Pr(!1)}),s.jsx("div",{className:`absolute z-20 mt-1 w-full rounded-md shadow-lg border ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:s.jsxs("div",{className:"p-2 max-h-60 overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between px-2 py-1 border-b border-gray-200 dark:border-gray-600 mb-2",children:[s.jsx("span",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:"Catgories"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>tn(a),className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Tout"}),s.jsx("button",{type:"button",onClick:()=>tn([]),className:"text-xs text-gray-500 hover:text-gray-700",children:"Effacer"})]})]}),a.map(p=>s.jsxs("label",{className:`flex items-center px-2 py-2 rounded-md cursor-pointer ${e?"hover:bg-gray-700":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"checkbox",checked:Bt.includes(p),onChange:C=>{C.target.checked?tn([...Bt,p]):tn(Bt.filter(k=>k!==p))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),s.jsx("span",{className:`ml-2 text-sm ${e?"text-gray-300":"text-gray-700"}`,children:p})]},p))]})})]})]})]}),s.jsx("div",{className:"flex items-center justify-between border-t pt-4 border-gray-200 dark:border-gray-700",children:s.jsxs("button",{type:"button",onClick:()=>Cg(!Gs),className:`flex items-center gap-2 text-sm font-medium ${e?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"}`,children:[s.jsx(Qc,{className:`h-4 w-4 transition-transform ${Gs?"rotate-180":""}`}),"Filtres avancs"]})}),Gs&&s.jsx("div",{className:`border-t pt-4 ${e?"border-gray-700":"border-gray-200"}`,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Prix ()"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Min",value:Ct.min,onChange:p=>Ys({...Ct,min:p.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),s.jsx("input",{type:"number",placeholder:"Max",value:Ct.max,onChange:p=>Ys({...Ct,max:p.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Stock"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Min",value:Mt.min,onChange:p=>Xs({...Mt,min:p.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),s.jsx("input",{type:"number",placeholder:"Max",value:Mt.max,onChange:p=>Xs({...Mt,max:p.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Date de cration"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:zt.from,onChange:p=>Zs({...zt,from:p.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`}),s.jsx("input",{type:"date",value:zt.to,onChange:p=>Zs({...zt,to:p.target.value}),className:`flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm ${e?"bg-gray-700 border-gray-600 text-white":"bg-white"}`})]})]})]})}),ln.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:`text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:" Produits populaires"}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:(()=>{const p=new Map;return ln.forEach(k=>{k.items.forEach(X=>{const re=p.get(X.productId)||{count:0,name:X.name,price:X.price};p.set(X.productId,{...re,count:re.count+X.quantity})})}),Array.from(p.entries()).sort(([,k],[,X])=>X.count-k.count).slice(0,8).map(([k,X])=>({id:k,...X,product:t.find(re=>re.id===k)})).filter(k=>k.product).map(k=>s.jsxs("button",{onClick:()=>lu(k.product),disabled:k.product.stock<=0,className:`flex-shrink-0 px-3 py-2 rounded-lg border text-left transition-colors ${k.product.stock<=0?"bg-gray-100 text-gray-400 cursor-not-allowed":e?"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx("div",{className:"text-sm font-medium truncate max-w-24",children:k.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["",k.price.toFixed(2)]})]},k.id))})()})]}),s.jsx("div",{className:"min-h-[600px] max-h-[800px] overflow-y-auto",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ks.map(p=>s.jsxs("div",{className:`border rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow ${e?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"} ${p.stock<=0?"opacity-60":""}`,children:[s.jsxs("div",{className:"h-40 bg-gray-50 dark:bg-gray-700 flex items-center justify-center relative",children:[s.jsx("img",{src:p.imageUrl,alt:p.name,className:"h-full w-full object-contain p-4",loading:"lazy"}),p.stock<=0&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-sm",children:"RUPTURE DE STOCK"})}),p.stock>0&&p.stock<=5&&s.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"STOCK CRITIQUE"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:`font-semibold text-sm leading-tight mb-2 line-clamp-2 ${e?"text-white":"text-gray-900"}`,children:p.name}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:`text-lg font-bold ${e?"text-white":"text-gray-900"}`,children:["",p.price.toFixed(2)]}),s.jsx("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:p.category||"Sans catgorie"})]}),s.jsx("button",{onClick:()=>lu(p),disabled:p.stock<=0,className:`p-3 rounded-full transition-colors ${p.stock<=0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md hover:shadow-lg"}`,title:p.stock<=0?"Produit indisponible":"Ajouter au panier",children:s.jsx(Ws,{className:"h-5 w-5"})})]}),s.jsx("div",{className:`text-xs font-medium ${p.stock<=0?"text-red-600":p.stock<=5?"text-red-500":p.stock<=10?"text-yellow-600":"text-green-600"}`,children:p.stock<=0?" Indisponible":p.stock<=5?` ${p.stock} en stock`:p.stock<=10?` ${p.stock} en stock`:` ${p.stock} en stock`}),p.stock>0&&p.stock<=10&&s.jsx("div",{className:"mt-2 text-xs text-orange-600 font-medium",children:" Stock faible - rapprovisionner bientt"})]})]},p.id))})}),Ks.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-500"}`,children:"Aucun produit trouv. Essayez une recherche ou une catgorie diffrente."})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`rounded-lg ${e?"bg-gray-800":"bg-white"} shadow p-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:`text-lg font-semibold ${e?"text-white":"text-gray-900"}`,children:[s.jsx(af,{className:"h-5 w-5 inline mr-2"}),"Panier"]}),s.jsx("button",{onClick:ri,className:"text-gray-400 hover:text-gray-500",disabled:h.length===0,children:s.jsx(v0,{className:"h-5 w-5"})})]}),h.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:`text-lg ${e?"text-gray-400":"text-gray-500"}`,children:"Votre panier est vide"})}):s.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto mb-4",children:h.map(p=>s.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:p.product.name}),s.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:["",p.product.price.toFixed(2)," x ",p.quantity]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>nu(p.product.id,p.quantity-1),className:"p-1 rounded-full hover:bg-gray-100",children:s.jsx(S0,{className:"h-4 w-4"})}),s.jsx("span",{className:e?"text-white":"text-gray-900",children:p.quantity}),s.jsx("button",{onClick:()=>nu(p.product.id,p.quantity+1),className:"p-1 rounded-full hover:bg-gray-100",disabled:p.quantity>=p.product.stock,children:s.jsx(Ws,{className:"h-4 w-4"})})]})]},p.product.id))}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:"Sous-total"}),s.jsxs("span",{className:e?"text-white":"text-gray-900",children:["",oi.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:e?"text-gray-300":"text-gray-600",children:"TVA (20%)"}),s.jsxs("span",{className:e?"text-white":"text-gray-900",children:["",an.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{className:e?"text-white":"text-gray-900",children:"Total"}),s.jsxs("span",{className:e?"text-white":"text-gray-900",children:["",ol.toFixed(2)]})]})]})]}),s.jsxs("div",{className:`rounded-lg ${e?"bg-gray-800":"bg-white"} shadow p-6`,children:[s.jsx("h2",{className:`text-lg font-semibold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Paiement"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"quickSale",checked:ce,onChange:p=>{Me(p.target.checked),p.target.checked&&(M(null),b(""))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"quickSale",className:`ml-2 block text-sm ${e?"text-gray-300":"text-gray-700"}`,children:"Vente rapide (sans info client)"})]}),!ce&&s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"} mb-1`,children:"Client"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:j&&((su=n.find(p=>p.id===j))==null?void 0:su.name)||y,onChange:p=>{b(p.target.value),z(!0),j&&M(null)},onFocus:()=>{z(!0)},onBlur:()=>{setTimeout(()=>z(!1),200)},placeholder:"Rechercher un client...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),E&&eu.length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto",children:eu.map(p=>s.jsxs("div",{className:`px-4 py-2 hover:bg-gray-100 cursor-pointer ${j===p.id?"bg-indigo-50 border-l-4 border-indigo-500":""}`,onClick:()=>{M(p.id),b(""),z(!1)},children:[s.jsx("div",{className:"font-medium",children:p.name}),s.jsx("div",{className:"text-sm text-gray-500",children:p.phone}),j===p.id&&s.jsx("div",{className:"text-xs text-indigo-600 font-medium",children:"Slectionn"})]},p.id))})]})]}),j&&s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"} mb-1`,children:"Lier  un ticket de rparation (optionnel)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:N,onChange:p=>{R(p.target.value),d(null)},placeholder:"Rechercher un ticket...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),N&&!g&&tu.length>0&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto",children:tu.map(p=>s.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{d(p.id),R(p.ticketNumber)},children:[s.jsxs("div",{className:"font-medium",children:["#",p.ticketNumber]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[p.deviceType," - ",p.brand]})]},p.id))})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Format du reu"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>A("thermal"),className:`flex flex-col items-center justify-center gap-2 p-3 rounded-md ${Ye==="thermal"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(cf,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm",children:"Reu thermique"})]}),s.jsxs("button",{type:"button",onClick:()=>A("a4"),className:`flex flex-col items-center justify-center gap-2 p-3 rounded-md ${Ye==="a4"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(Ss,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm",children:"Facture A4"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"} mb-1`,children:"Mode de paiement"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:fl.map(p=>s.jsxs("button",{type:"button",onClick:()=>O(p.id),className:`flex items-center justify-center gap-2 p-3 rounded-md ${w===p.id?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx(p.icon,{className:"h-5 w-5"}),p.name]},p.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"} mb-1`,children:"Note (Optional)"}),s.jsx("textarea",{value:H,onChange:p=>P(p.target.value),rows:2,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Ajouter une note  cette vente..."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:_g,disabled:h.length===0||!ce&&!j,className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:" Crer devis"}),s.jsxs("button",{onClick:iu,disabled:h.length===0||!ce&&!j,className:"flex-1 bg-indigo-600 text-white px-4 py-3 rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(j0,{className:"h-5 w-5"}),"Finaliser la vente"]})]})]})]})]})]}),s.jsxs("button",{onClick:()=>F(!0),className:"fixed bottom-6 right-6 bg-green-600 text-white p-4 rounded-full shadow-lg hover:bg-green-700 hover:shadow-xl transition-all duration-200 z-40 group",title:"Ajouter un article personnalis",children:[s.jsx(Ws,{className:"h-6 w-6"}),s.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Article personnalis"})]})]})}const rv=D.lazy(()=>je(()=>import("./Dashboard-B50KM358.js"),__vite__mapDeps([3,0,1,2,4,5,6,7]))),uv=D.lazy(()=>je(()=>import("./Clients-BzrlVIQu.js"),__vite__mapDeps([8,0,1,2,4,5,7]))),dv=D.lazy(()=>je(()=>import("./SimpleTickets-gHg32LGr.js"),__vite__mapDeps([9,0,1,2,4,5,7]))),fv=D.lazy(()=>je(()=>import("./Products-CK_v_fJr.js"),__vite__mapDeps([10,0,1,2,4,5,7]))),mv=D.lazy(()=>je(()=>import("./Quotes-Bar0Pslk.js"),__vite__mapDeps([11,0,1,2,4,5,7]))),hv=D.lazy(()=>je(()=>import("./Settings-pBcJ9D1C.js"),__vite__mapDeps([12,0,1,2,4,5,7]))),gv=D.lazy(()=>je(()=>import("./Login-B41J6J-J.js"),__vite__mapDeps([13,0,1,2,14,4,5,7]))),yv=D.lazy(()=>je(()=>import("./Register-D3NJk74u.js"),__vite__mapDeps([15,0,1,2,4,5,7]))),pv=D.lazy(()=>je(()=>import("./ForgotPassword-CaGZpS39.js"),__vite__mapDeps([16,0,1,2,4,5,7]))),xv=D.lazy(()=>je(()=>import("./Profile-CGHO31LO.js"),__vite__mapDeps([17,0,1,2,4,5,7]))),bv=D.lazy(()=>je(()=>import("./UserManagement-CaC2y3oy.js"),__vite__mapDeps([18,0,1,2,4,5,7]))),vv=D.lazy(()=>je(()=>import("./CustomerLogin-JBPIqSKu.js"),__vite__mapDeps([19,0,1,2,14,4,5,7]))),Sv=D.lazy(()=>je(()=>import("./CustomerRegister-D3yKY4K-.js"),__vite__mapDeps([20,0,1,2,4,5,7]))),jv=D.lazy(()=>je(()=>import("./CustomerDashboard-Cqet7Chc.js"),__vite__mapDeps([21,0,1,2,4,5,7]))),Nv=D.lazy(()=>je(()=>import("./CustomerProfile-83vzC6xZ.js"),__vite__mapDeps([22,0,1,2,4,5,7]))),wv=D.lazy(()=>je(()=>import("./NotificationHistory-Cxl3oVSS.js"),__vite__mapDeps([23,0,1,2,4,5,7])));function Tv(){const{user:e,userRole:t,loading:a,setUser:l,setUserRole:n,setLoading:i,setInitialized:c}=Zl(),{setUser:o}=ag(),{fetchClients:r}=Ph(),{fetchTickets:u,fetchSettings:f,fetchTechnicianTickets:x}=eg(),{fetchProducts:m,fetchCategories:h}=tg();D.useEffect(()=>{const j=ef(),M=t0(j,async g=>{if(i(!0),g){l(g);const d=await lx(g.uid);n(d),d===ye.CUSTOMER&&o(g),d===ye.SUPER_ADMIN?(r(),u(),f(),m(),h()):d===ye.CUSTOMER||(f(),g.uid&&x(g.uid))}else l(null),n(null),o(null);i(!1),c(!0)});return()=>M()},[]);const v=({children:j,requiredRole:M=null,allowedRoles:g=null})=>a?s.jsx(Bc,{}):e?t===ye.CUSTOMER?s.jsx(Zt,{to:"/customer",replace:!0}):M&&t!==M?s.jsx(Jd,{}):g&&t&&!g.includes(t)?s.jsx(Jd,{}):s.jsx(s.Fragment,{children:j}):s.jsx(Zt,{to:"/login"});return a?s.jsx(Bc,{}):s.jsx(Lg,{future:{v7_relativeSplatPath:!0,v7_startTransition:!0},children:s.jsx(D.Suspense,{fallback:s.jsx(Bc,{}),children:s.jsxs(Bg,{children:[s.jsx(Oe,{path:"/login",element:e?s.jsx(Zt,{to:"/"}):s.jsx(gv,{})}),s.jsx(Oe,{path:"/register",element:e?s.jsx(Zt,{to:"/"}):s.jsx(yv,{})}),s.jsx(Oe,{path:"/forgot-password",element:e?s.jsx(Zt,{to:"/"}):s.jsx(pv,{})}),s.jsxs(Oe,{path:"/",element:s.jsx(v,{allowedRoles:[ye.SUPER_ADMIN,ye.TECHNICIAN],children:s.jsx(hx,{})}),children:[s.jsx(Oe,{index:!0,element:s.jsx(rv,{})}),s.jsx(Oe,{path:"clients",element:s.jsx(v,{requiredRole:ye.SUPER_ADMIN,children:s.jsx(uv,{})})}),s.jsx(Oe,{path:"tickets",element:s.jsx(v,{allowedRoles:[ye.SUPER_ADMIN,ye.TECHNICIAN],children:s.jsx(dv,{})})}),s.jsx(Oe,{path:"pos",element:s.jsx(v,{requiredRole:ye.SUPER_ADMIN,children:s.jsx(ov,{})})}),s.jsx(Oe,{path:"pos/quotes",element:s.jsx(v,{requiredRole:ye.SUPER_ADMIN,children:s.jsx(mv,{})})}),s.jsx(Oe,{path:"pos/products",element:s.jsx(v,{requiredRole:ye.SUPER_ADMIN,children:s.jsx(fv,{})})}),s.jsx(Oe,{path:"profile",element:s.jsx(v,{children:s.jsx(xv,{})})}),s.jsx(Oe,{path:"settings",element:s.jsx(v,{requiredRole:ye.SUPER_ADMIN,children:s.jsx(hv,{})})}),s.jsx(Oe,{path:"user-management",element:s.jsx(v,{requiredRole:ye.SUPER_ADMIN,children:s.jsx(bv,{})})})]}),s.jsxs(Oe,{path:"/customer",element:s.jsx(Gb,{}),children:[s.jsx(Oe,{index:!0,element:s.jsx(jv,{})}),s.jsx(Oe,{path:"profile",element:s.jsx(Nv,{})}),s.jsx(Oe,{path:"notifications",element:s.jsx(wv,{})})]}),s.jsx(Oe,{path:"/customer/login",element:e&&t===ye.CUSTOMER?s.jsx(Zt,{to:"/customer"}):s.jsx(vv,{})}),s.jsx(Oe,{path:"/customer/register",element:e&&t===ye.CUSTOMER?s.jsx(Zt,{to:"/customer"}):s.jsx(Sv,{})})]})})})}Pp.createRoot(document.getElementById("root")).render(s.jsx(D.StrictMode,{children:s.jsx(Tv,{})}));export{ye as R,sv as U,je as _,eg as a,Ph as b,tg as c,Zl as d,Ld as e,Gv as f,Qv as g,Xv as h,kv as i,dx as j,Yv as k,_v as l,Rv as m,T as n,Uv as o,qv as p,Hv as q,Ov as r,Lv as s,ag as t,Ha as u,Vv as v,lx as w,Bv as x,Qb as y};
